!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e,t){function i(){return new Date(Date.UTC.apply(Date,arguments))}function n(){var e=new Date;return i(e.getFullYear(),e.getMonth(),e.getDate())}function s(e,t){return e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCDate()===t.getUTCDate()}function r(i,n){return function(){return n!==t&&e.fn.datepicker.deprecated(n),this[i].apply(this,arguments)}}var o,a=(o={get:function(e){return this.slice(e)[0]},contains:function(e){for(var t=e&&e.valueOf(),i=0,n=this.length;i<n;i++)if(0<=this[i].valueOf()-t&&this[i].valueOf()-t<864e5)return i;return-1},remove:function(e){this.splice(e,1)},replace:function(t){t&&(e.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var e=new a;return e.replace(this),e}},function(){var t=[];return t.push.apply(t,arguments),e.extend(t,o),t}),l=function(t,i){e.data(t,"datepicker",this),this._process_options(i),this.dates=new a,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=e(t),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=e(f.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.o.calendarWeeks&&this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(e,t){return Number(t)+1}),this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled}),this._allow_update=!1,this.setViewMode(this.o.startView),this._allow_update=!0,this.fillDow(),this.fillMonths(),this.update(),this.isInline&&this.show()};l.prototype={constructor:l,_resolveViewName:function(t){return e.each(f.viewModes,function(i,n){if(t===i||-1!==e.inArray(t,n.names))return t=i,!1}),t},_resolveDaysOfWeek:function(t){return e.isArray(t)||(t=t.split(/[,\s]*/)),e.map(t,Number)},_check_template:function(i){try{return i!==t&&""!==i&&((i.match(/[<>]/g)||[]).length<=0||e(i).length>0)}catch(e){return!1}},_process_options:function(t){this._o=e.extend({},this._o,t);var s=this.o=e.extend({},this._o),r=s.language;m[r]||(r=r.split("-")[0],m[r]||(r=c.language)),s.language=r,s.startView=this._resolveViewName(s.startView),s.minViewMode=this._resolveViewName(s.minViewMode),s.maxViewMode=this._resolveViewName(s.maxViewMode),s.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,s.startView)),!0!==s.multidate&&(s.multidate=Number(s.multidate)||!1,!1!==s.multidate&&(s.multidate=Math.max(0,s.multidate))),s.multidateSeparator=String(s.multidateSeparator),s.weekStart%=7,s.weekEnd=(s.weekStart+6)%7;var o=f.parseFormat(s.format);s.startDate!==-1/0&&(s.startDate?s.startDate instanceof Date?s.startDate=this._local_to_utc(this._zero_time(s.startDate)):s.startDate=f.parseDate(s.startDate,o,s.language,s.assumeNearbyYear):s.startDate=-1/0),s.endDate!==1/0&&(s.endDate?s.endDate instanceof Date?s.endDate=this._local_to_utc(this._zero_time(s.endDate)):s.endDate=f.parseDate(s.endDate,o,s.language,s.assumeNearbyYear):s.endDate=1/0),s.daysOfWeekDisabled=this._resolveDaysOfWeek(s.daysOfWeekDisabled||[]),s.daysOfWeekHighlighted=this._resolveDaysOfWeek(s.daysOfWeekHighlighted||[]),s.datesDisabled=s.datesDisabled||[],e.isArray(s.datesDisabled)||(s.datesDisabled=s.datesDisabled.split(",")),s.datesDisabled=e.map(s.datesDisabled,function(e){return f.parseDate(e,o,s.language,s.assumeNearbyYear)});var a=String(s.orientation).toLowerCase().split(/\s+/g),l=s.orientation.toLowerCase();if(a=e.grep(a,function(e){return/^auto|left|right|top|bottom$/.test(e)}),s.orientation={x:"auto",y:"auto"},l&&"auto"!==l)if(1===a.length)switch(a[0]){case"top":case"bottom":s.orientation.y=a[0];break;case"left":case"right":s.orientation.x=a[0]}else l=e.grep(a,function(e){return/^left|right$/.test(e)}),s.orientation.x=l[0]||"auto",l=e.grep(a,function(e){return/^top|bottom$/.test(e)}),s.orientation.y=l[0]||"auto";if(s.defaultViewDate instanceof Date||"string"==typeof s.defaultViewDate)s.defaultViewDate=f.parseDate(s.defaultViewDate,o,s.language,s.assumeNearbyYear);else if(s.defaultViewDate){var h=s.defaultViewDate.year||(new Date).getFullYear(),u=s.defaultViewDate.month||0,d=s.defaultViewDate.day||1;s.defaultViewDate=i(h,u,d)}else s.defaultViewDate=n()},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var i,n,s,r=0;r<e.length;r++)i=e[r][0],2===e[r].length?(n=t,s=e[r][1]):3===e[r].length&&(n=e[r][1],s=e[r][2]),i.on(s,n)},_unapplyEvents:function(e){for(var i,n,s,r=0;r<e.length;r++)i=e[r][0],2===e[r].length?(s=t,n=e[r][1]):3===e[r].length&&(s=e[r][1],n=e[r][2]),i.off(n,s)},_buildEvents:function(){var t={keyup:e.proxy(function(t){-1===e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:e.proxy(this.keydown,this),paste:e.proxy(this.paste,this)};!0===this.o.showOnFocus&&(t.focus=e.proxy(this.show,this)),this.isInput?this._events=[[this.element,t]]:this.component&&this.inputField.length?this._events=[[this.inputField,t],[this.component,{click:e.proxy(this.show,this)}]]:this._events=[[this.element,{click:e.proxy(this.show,this),keydown:e.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:e.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:e.proxy(function(e){this._focused_from=e.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":e.proxy(function(e){this.update(e.date)},this)}]),this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[this.picker,".prev, .next",{click:e.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:e.proxy(this.dayCellClick,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{"mousedown touchstart":e.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,i){var n=i||this.dates.get(-1),s=this._utc_to_local(n);this.element.trigger({type:t,date:s,viewMode:this.viewMode,dates:e.map(this.dates,this._utc_to_local),format:e.proxy(function(e,t){0===arguments.length?(e=this.dates.length-1,t=this.o.format):"string"==typeof e&&(t=e,e=this.dates.length-1),t=t||this.o.format;var i=this.dates.get(e);return f.formatDate(i,t,this.o.language)},this)})},show:function(){if(!(this.inputField.prop("disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&e(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide"),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(t){var i;if(t.originalEvent.clipboardData&&t.originalEvent.clipboardData.types&&-1!==e.inArray("text/plain",t.originalEvent.clipboardData.types))i=t.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;i=window.clipboardData.getData("Text")}this.setDate(i),this.update(),t.preventDefault()},_utc_to_local:function(e){if(!e)return e;var t=new Date(e.getTime()+6e4*e.getTimezoneOffset());return t.getTimezoneOffset()!==e.getTimezoneOffset()&&(t=new Date(e.getTime()+6e4*t.getTimezoneOffset())),t},_local_to_utc:function(e){return e&&new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&i(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())},getDates:function(){return e.map(this.dates,this._utc_to_local)},getUTCDates:function(){return e.map(this.dates,function(e){return new Date(e)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var e=this.dates.get(-1);return e!==t?new Date(e):null},clearDates:function(){this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.setDates.apply(this,e.map(t,this._utc_to_local)),this},setDate:r("setDates"),setUTCDate:r("setUTCDates"),remove:r("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var e=this.getFormattedDate();return this.inputField.val(e),this},getFormattedDate:function(i){i===t&&(i=this.o.format);var n=this.o.language;return e.map(this.dates,function(e){return f.formatDate(e,i,n)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(e){return this._process_options({startDate:e}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(e){return this._process_options({endDate:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(e){return this._process_options({daysOfWeekDisabled:e}),this.update(),this},setDaysOfWeekHighlighted:function(e){return this._process_options({daysOfWeekHighlighted:e}),this.update(),this},setDatesDisabled:function(e){return this._process_options({datesDisabled:e}),this.update(),this},place:function(){if(this.isInline)return this;var t=this.picker.outerWidth(),i=this.picker.outerHeight(),n=e(this.o.container),s=n.width(),r="body"===this.o.container?e(document).scrollTop():n.scrollTop(),o=n.offset(),a=[0];this.element.parents().each(function(){var t=e(this).css("z-index");"auto"!==t&&0!==Number(t)&&a.push(Number(t))});var l=Math.max.apply(Math,a)+this.o.zIndexOffset,h=this.component?this.component.parent().offset():this.element.offset(),u=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),d=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),c=h.left-o.left,p=h.top-o.top;"body"!==this.o.container&&(p+=r),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(c-=t-d)):h.left<0?(this.picker.addClass("datepicker-orient-left"),c-=h.left-10):c+t>s?(this.picker.addClass("datepicker-orient-right"),c+=d-t):this.o.rtl?this.picker.addClass("datepicker-orient-right"):this.picker.addClass("datepicker-orient-left");var m=this.o.orientation.y;if("auto"===m&&(m=-r+p-i<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+m),"top"===m?p-=i+parseInt(this.picker.css("padding-top")):p+=u,this.o.rtl){var f=s-(c+d);this.picker.css({top:p,right:f,zIndex:l})}else this.picker.css({top:p,left:c,zIndex:l});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var t=this.dates.copy(),i=[],n=!1;return arguments.length?(e.each(arguments,e.proxy(function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),i.push(t)},this)),n=!0):(i=(i=this.isInput?this.element.val():this.element.data("date")||this.inputField.val())&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=e.map(i,e.proxy(function(e){return f.parseDate(e,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),i=e.grep(i,e.proxy(function(e){return!this.dateWithinRange(e)||!e},this),!0),this.dates.replace(i),this.o.updateViewDate&&(this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate),n?(this.setValue(),this.element.change()):this.dates.length&&String(t)!==String(this.dates)&&n&&(this._trigger("changeDate"),this.element.change()),!this.dates.length&&t.length&&(this._trigger("clearDate"),this.element.change()),this.fill(),this},fillDow:function(){if(this.o.showWeekDays){var t=this.o.weekStart,i="<tr>";for(this.o.calendarWeeks&&(i+='<th class="cw">&#160;</th>');t<this.o.weekStart+7;)i+='<th class="dow',-1!==e.inArray(t,this.o.daysOfWeekDisabled)&&(i+=" disabled"),i+='">'+m[this.o.language].daysMin[t++%7]+"</th>";i+="</tr>",this.picker.find(".datepicker-days thead").append(i)}},fillMonths:function(){for(var e,t=this._utc_to_local(this.viewDate),i="",n=0;n<12;n++)e=t&&t.getMonth()===n?" focused":"",i+='<span class="month'+e+'">'+m[this.o.language].monthsShort[n]+"</span>";this.picker.find(".datepicker-months td").html(i)},setRange:function(t){t&&t.length?this.range=e.map(t,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var i=[],r=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),a=n();return t.getUTCFullYear()<r||t.getUTCFullYear()===r&&t.getUTCMonth()<o?i.push("old"):(t.getUTCFullYear()>r||t.getUTCFullYear()===r&&t.getUTCMonth()>o)&&i.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&s(t,a)&&i.push("today"),-1!==this.dates.contains(t)&&i.push("active"),this.dateWithinRange(t)||i.push("disabled"),this.dateIsDisabled(t)&&i.push("disabled","disabled-date"),-1!==e.inArray(t.getUTCDay(),this.o.daysOfWeekHighlighted)&&i.push("highlighted"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&i.push("range"),-1!==e.inArray(t.valueOf(),this.range)&&i.push("selected"),t.valueOf()===this.range[0]&&i.push("range-start"),t.valueOf()===this.range[this.range.length-1]&&i.push("range-end")),i},_fill_yearsView:function(i,n,s,r,o,a,l){for(var h,u,d,c="",p=s/10,m=this.picker.find(i),f=Math.floor(r/s)*s,g=f+9*p,v=Math.floor(this.viewDate.getFullYear()/p)*p,_=e.map(this.dates,function(e){return Math.floor(e.getUTCFullYear()/p)*p}),y=f-p;y<=g+p;y+=p)h=[n],u=null,y===f-p?h.push("old"):y===g+p&&h.push("new"),-1!==e.inArray(y,_)&&h.push("active"),(y<o||y>a)&&h.push("disabled"),y===v&&h.push("focused"),l!==e.noop&&(d=l(new Date(y,0,1)),d===t?d={}:"boolean"==typeof d?d={enabled:d}:"string"==typeof d&&(d={classes:d}),!1===d.enabled&&h.push("disabled"),d.classes&&(h=h.concat(d.classes.split(/\s+/))),d.tooltip&&(u=d.tooltip)),c+='<span class="'+h.join(" ")+'"'+(u?' title="'+u+'"':"")+">"+y+"</span>";m.find(".datepicker-switch").text(f+"-"+g),m.find("td").html(c)},fill:function(){var n,s,r=new Date(this.viewDate),o=r.getUTCFullYear(),a=r.getUTCMonth(),l=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,h=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,u=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,d=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,c=m[this.o.language].today||m.en.today||"",p=m[this.o.language].clear||m.en.clear||"",g=m[this.o.language].titleFormat||m.en.titleFormat;if(!isNaN(o)&&!isNaN(a)){this.picker.find(".datepicker-days .datepicker-switch").text(f.formatDate(r,g,this.o.language)),this.picker.find("tfoot .today").text(c).css("display",!0===this.o.todayBtn||"linked"===this.o.todayBtn?"table-cell":"none"),this.picker.find("tfoot .clear").text(p).css("display",!0===this.o.clearBtn?"table-cell":"none"),this.picker.find("thead .datepicker-title").text(this.o.title).css("display","string"==typeof this.o.title&&""!==this.o.title?"table-cell":"none"),this.updateNavArrows(),this.fillMonths();var v=i(o,a,0),_=v.getUTCDate();v.setUTCDate(_-(v.getUTCDay()-this.o.weekStart+7)%7);var y=new Date(v);v.getUTCFullYear()<100&&y.setUTCFullYear(v.getUTCFullYear()),y.setUTCDate(y.getUTCDate()+42),y=y.valueOf();for(var b,w,x=[];v.valueOf()<y;){if((b=v.getUTCDay())===this.o.weekStart&&(x.push("<tr>"),this.o.calendarWeeks)){var k=new Date(+v+(this.o.weekStart-b-7)%7*864e5),S=new Date(Number(k)+(11-k.getUTCDay())%7*864e5),C=new Date(Number(C=i(S.getUTCFullYear(),0,1))+(11-C.getUTCDay())%7*864e5),T=(S-C)/864e5/7+1;x.push('<td class="cw">'+T+"</td>")}(w=this.getClassNames(v)).push("day");var M=v.getUTCDate();this.o.beforeShowDay!==e.noop&&((s=this.o.beforeShowDay(this._utc_to_local(v)))===t?s={}:"boolean"==typeof s?s={enabled:s}:"string"==typeof s&&(s={classes:s}),!1===s.enabled&&w.push("disabled"),s.classes&&(w=w.concat(s.classes.split(/\s+/))),s.tooltip&&(n=s.tooltip),s.content&&(M=s.content)),w=e.isFunction(e.uniqueSort)?e.uniqueSort(w):e.unique(w),x.push('<td class="'+w.join(" ")+'"'+(n?' title="'+n+'"':"")+' data-date="'+v.getTime().toString()+'">'+M+"</td>"),n=null,b===this.o.weekEnd&&x.push("</tr>"),v.setUTCDate(v.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").html(x.join(""));var E=m[this.o.language].monthsTitle||m.en.monthsTitle||"Months",D=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?E:o).end().find("tbody span").removeClass("active");if(e.each(this.dates,function(e,t){t.getUTCFullYear()===o&&D.eq(t.getUTCMonth()).addClass("active")}),(o<l||o>u)&&D.addClass("disabled"),o===l&&D.slice(0,h).addClass("disabled"),o===u&&D.slice(d+1).addClass("disabled"),this.o.beforeShowMonth!==e.noop){var A=this;e.each(D,function(i,n){var s=new Date(o,i,1),r=A.o.beforeShowMonth(s);r===t?r={}:"boolean"==typeof r?r={enabled:r}:"string"==typeof r&&(r={classes:r}),!1!==r.enabled||e(n).hasClass("disabled")||e(n).addClass("disabled"),r.classes&&e(n).addClass(r.classes),r.tooltip&&e(n).prop("title",r.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,o,l,u,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,o,l,u,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,o,l,u,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var e,t,i=new Date(this.viewDate),n=i.getUTCFullYear(),s=i.getUTCMonth(),r=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,o=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,a=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,h=1;switch(this.viewMode){case 0:e=n<=r&&s<=o,t=n>=a&&s>=l;break;case 4:h*=10;case 3:h*=10;case 2:h*=10;case 1:e=Math.floor(n/h)*h<=r,t=Math.floor(n/h)*h+h>=a}this.picker.find(".prev").toggleClass("disabled",e),this.picker.find(".next").toggleClass("disabled",t)}},click:function(t){var s,r,o,a;t.preventDefault(),t.stopPropagation(),(s=e(t.target)).hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1),s.hasClass("today")&&!s.hasClass("day")&&(this.setViewMode(0),this._setDate(n(),"linked"===this.o.todayBtn?null:"view")),s.hasClass("clear")&&this.clearDates(),s.hasClass("disabled")||(s.hasClass("month")||s.hasClass("year")||s.hasClass("decade")||s.hasClass("century"))&&(this.viewDate.setUTCDate(1),r=1,1===this.viewMode?(a=s.parent().find("span").index(s),o=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(a)):(a=0,o=Number(s.text()),this.viewDate.setUTCFullYear(o)),this._trigger(f.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(i(o,a,r)):(this.setViewMode(this.viewMode-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&this._focused_from.focus(),delete this._focused_from},dayCellClick:function(t){var i=e(t.currentTarget).data("date"),n=new Date(i);this.o.updateViewDate&&(n.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger("changeYear",this.viewDate),n.getUTCMonth()!==this.viewDate.getUTCMonth()&&this._trigger("changeMonth",this.viewDate)),this._setDate(n)},navArrowsClick:function(t){var i=e(t.currentTarget).hasClass("prev")?-1:1;0!==this.viewMode&&(i*=12*f.viewModes[this.viewMode].navStep),this.viewDate=this.moveMonth(this.viewDate,i),this._trigger(f.viewModes[this.viewMode].e,this.viewDate),this.fill()},_toggle_multidate:function(e){var t=this.dates.contains(e);if(e||this.dates.clear(),-1!==t?(!0===this.o.multidate||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(t):!1===this.o.multidate?(this.dates.clear(),this.dates.push(e)):this.dates.push(e),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(e,t){t&&"date"!==t||this._toggle_multidate(e&&new Date(e)),(!t&&this.o.updateViewDate||"view"===t)&&(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),t&&"view"===t||this._trigger("changeDate"),this.inputField.trigger("change"),!this.o.autoclose||t&&"date"!==t||this.hide()},moveDay:function(e,t){var i=new Date(e);return i.setUTCDate(e.getUTCDate()+t),i},moveWeek:function(e,t){return this.moveDay(e,7*t)},moveMonth:function(e,t){if(!(i=e)||isNaN(i.getTime()))return this.o.defaultViewDate;var i;if(!t)return e;var n,s,r=new Date(e.valueOf()),o=r.getUTCDate(),a=r.getUTCMonth(),l=Math.abs(t);if(t=t>0?1:-1,1===l)s=-1===t?function(){return r.getUTCMonth()===a}:function(){return r.getUTCMonth()!==n},n=a+t,r.setUTCMonth(n),n=(n+12)%12;else{for(var h=0;h<l;h++)r=this.moveMonth(r,t);n=r.getUTCMonth(),r.setUTCDate(o),s=function(){return n!==r.getUTCMonth()}}for(;s();)r.setUTCDate(--o),r.setUTCMonth(n);return r},moveYear:function(e,t){return this.moveMonth(e,12*t)},moveAvailableDate:function(e,t,i){do{if(e=this[i](e,t),!this.dateWithinRange(e))return!1;i="moveDay"}while(this.dateIsDisabled(e));return e},weekOfDateIsDisabled:function(t){return-1!==e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(t){return this.weekOfDateIsDisabled(t)||e.grep(this.o.datesDisabled,function(e){return s(t,e)}).length>0},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(this.picker.is(":visible")){var t,i,n=!1,s=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault(),e.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;t=37===e.keyCode||38===e.keyCode?-1:1,0===this.viewMode?e.ctrlKey?(i=this.moveAvailableDate(s,t,"moveYear"))&&this._trigger("changeYear",this.viewDate):e.shiftKey?(i=this.moveAvailableDate(s,t,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===e.keyCode||39===e.keyCode?i=this.moveAvailableDate(s,t,"moveDay"):this.weekOfDateIsDisabled(s)||(i=this.moveAvailableDate(s,t,"moveWeek")):1===this.viewMode?(38!==e.keyCode&&40!==e.keyCode||(t*=4),i=this.moveAvailableDate(s,t,"moveMonth")):2===this.viewMode&&(38!==e.keyCode&&40!==e.keyCode||(t*=4),i=this.moveAvailableDate(s,t,"moveYear")),i&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),e.preventDefault());break;case 13:if(!this.o.forceParse)break;s=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(s),n=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),e.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}n&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField.trigger("change"))}else 40!==e.keyCode&&27!==e.keyCode||(this.show(),e.stopPropagation())},setViewMode:function(e){this.viewMode=e,this.picker.children("div").hide().filter(".datepicker-"+f.viewModes[this.viewMode].clsName).show(),this.updateNavArrows(),this._trigger("changeViewMode",new Date(this.viewDate))}};var h=function(t,i){e.data(t,"datepicker",this),this.element=e(t),this.inputs=e.map(i.inputs,function(e){return e.jquery?e[0]:e}),delete i.inputs,this.keepEmptyValues=i.keepEmptyValues,delete i.keepEmptyValues,d.call(e(this.inputs),i).on("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(t){return e.data(t,"datepicker")}),this.updateDates()};h.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.getUTCDate()}),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,i){i.setRange(t)})},dateUpdated:function(i){if(!this.updating){this.updating=!0;var n=e.data(i.target,"datepicker");if(n!==t){var s=n.getUTCDate(),r=this.keepEmptyValues,o=e.inArray(i.target,this.inputs),a=o-1,l=o+1,h=this.inputs.length;if(-1!==o){if(e.each(this.pickers,function(e,t){t.getUTCDate()||t!==n&&r||t.setUTCDate(s)}),s<this.dates[a])for(;a>=0&&s<this.dates[a];)this.pickers[a--].setUTCDate(s);else if(s>this.dates[l])for(;l<h&&s>this.dates[l];)this.pickers[l++].setUTCDate(s);this.updateDates(),delete this.updating}}}},destroy:function(){e.map(this.pickers,function(e){e.destroy()}),e(this.inputs).off("changeDate",this.dateUpdated),delete this.element.data().datepicker},remove:r("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")};var u=e.fn.datepicker,d=function(i){var n,s=Array.apply(null,arguments);if(s.shift(),this.each(function(){var t=e(this),r=t.data("datepicker"),o="object"==typeof i&&i;if(!r){var a=function(t,i){function n(e,t){return t.toLowerCase()}var s,r=e(t).data(),o={},a=new RegExp("^"+i.toLowerCase()+"([A-Z])");i=new RegExp("^"+i.toLowerCase());for(var l in r)i.test(l)&&(s=l.replace(a,n),o[s]=r[l]);return o}(this,"date"),u=function(t){var i={};if(m[t]||(t=t.split("-")[0],m[t])){var n=m[t];return e.each(p,function(e,t){t in n&&(i[t]=n[t])}),i}}(e.extend({},c,a,o).language),d=e.extend({},c,u,a,o);t.hasClass("input-daterange")||d.inputs?(e.extend(d,{inputs:d.inputs||t.find("input").toArray()}),r=new h(this,d)):r=new l(this,d),t.data("datepicker",r)}"string"==typeof i&&"function"==typeof r[i]&&(n=r[i].apply(r,s))}),n===t||n instanceof l||n instanceof h)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+i+" function)");return n};e.fn.datepicker=d;var c=e.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:e.noop,beforeShowMonth:e.noop,beforeShowYear:e.noop,beforeShowDecade:e.noop,beforeShowCentury:e.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:!0},p=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=l;var m=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},f={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(e){if("function"==typeof e.toValue&&"function"==typeof e.toDisplay)return e;var t=e.replace(this.validParts,"\0").split("\0"),i=e.match(this.validParts);if(!t||!t.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:t,parts:i}},parseDate:function(i,s,r,o){function a(){var e=this.slice(0,h[c].length),t=h[c].slice(0,e.length);return e.toLowerCase()===t.toLowerCase()}if(!i)return t;if(i instanceof Date)return i;if("string"==typeof s&&(s=f.parseFormat(s)),s.toValue)return s.toValue(i,s,r);var h,u,d,c,p,g={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},v={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(i in v&&(i=v[i]),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(i)){for(h=i.match(/([\-+]\d+)([dmwy])/gi),i=new Date,c=0;c<h.length;c++)u=h[c].match(/([\-+]\d+)([dmwy])/i),d=Number(u[1]),p=g[u[2].toLowerCase()],i=l.prototype[p](i,d);return l.prototype._zero_utc_time(i)}h=i&&i.match(this.nonpunctuation)||[];var _,y,b={},w=["yyyy","yy","M","MM","m","mm","d","dd"],x={yyyy:function(e,t){return e.setUTCFullYear(o?(i=t,!0===(n=o)&&(n=10),i<100&&(i+=2e3)>(new Date).getFullYear()+n&&(i-=100),i):t);var i,n},m:function(e,t){if(isNaN(e))return e;for(t-=1;t<0;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!==t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};x.yy=x.yyyy,x.M=x.MM=x.mm=x.m,x.dd=x.d,i=n();var k=s.parts.slice();if(h.length!==k.length&&(k=e(k).filter(function(t,i){return-1!==e.inArray(i,w)}).toArray()),h.length===k.length){var S,C,T;for(c=0,S=k.length;c<S;c++){if(_=parseInt(h[c],10),u=k[c],isNaN(_))switch(u){case"MM":y=e(m[r].months).filter(a),_=e.inArray(y[0],m[r].months)+1;break;case"M":y=e(m[r].monthsShort).filter(a),_=e.inArray(y[0],m[r].monthsShort)+1}b[u]=_}for(c=0;c<w.length;c++)T=w[c],T in b&&!isNaN(b[T])&&(C=new Date(i),x[T](C,b[T]),isNaN(C)||(i=C))}return i},formatDate:function(t,i,n){if(!t)return"";if("string"==typeof i&&(i=f.parseFormat(i)),i.toDisplay)return i.toDisplay(t,i,n);var s={d:t.getUTCDate(),D:m[n].daysShort[t.getUTCDay()],DD:m[n].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:m[n].monthsShort[t.getUTCMonth()],MM:m[n].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};s.dd=(s.d<10?"0":"")+s.d,s.mm=(s.m<10?"0":"")+s.m,t=[];for(var r=e.extend([],i.separators),o=0,a=i.parts.length;o<=a;o++)r.length&&t.push(r.shift()),t.push(s[i.parts[o]]);return t.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">'+c.templates.leftArrow+'</th><th colspan="5" class="datepicker-switch"></th><th class="next">'+c.templates.rightArrow+"</th></tr></thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};f.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+f.headTemplate+"<tbody></tbody>"+f.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+f.headTemplate+f.contTemplate+f.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+f.headTemplate+f.contTemplate+f.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+f.headTemplate+f.contTemplate+f.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+f.headTemplate+f.contTemplate+f.footTemplate+"</table></div></div>",e.fn.datepicker.DPGlobal=f,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=u,this},e.fn.datepicker.version="1.7.1",e.fn.datepicker.deprecated=function(e){var t=window.console;t&&t.warn&&t.warn("DEPRECATED: "+e)},e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var i=e(this);i.data("datepicker")||(t.preventDefault(),d.call(i,"show"))}),e(function(){d.call(e('[data-provide="datepicker-inline"]'))})});"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},windowIsDefined="object"===("undefined"==typeof window?"undefined":_typeof(window));!function(e){if("function"==typeof define&&define.amd)define(["jquery"],e);else if("object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports){var t;try{t=require("jquery")}catch(e){t=null}module.exports=e(t)}else window&&(window.Slider=e(window.jQuery))}(function(e){var t,i="bootstrapSlider";return windowIsDefined&&!window.console&&(window.console={}),windowIsDefined&&!window.console.log&&(window.console.log=function(){}),windowIsDefined&&!window.console.warn&&(window.console.warn=function(){}),function(e){function t(){}var i=Array.prototype.slice;!function(e){if(e){var n="undefined"==typeof console?t:function(e){console.error(e)};e.bridget=function(t,s){var r,o,a;(a=s).prototype.option||(a.prototype.option=function(t){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))}),r=t,o=s,e.fn[r]=function(t){if("string"==typeof t){for(var s=i.call(arguments,1),a=0,l=this.length;l>a;a++){var h=this[a],u=e.data(h,r);if(u)if(e.isFunction(u[t])&&"_"!==t.charAt(0)){var d=u[t].apply(u,s);if(void 0!==d&&d!==u)return d}else n("no such method '"+t+"' for "+r+" instance");else n("cannot call methods on "+r+" prior to initialization; attempted to call '"+t+"'")}return this}var c=this.map(function(){var i=e.data(this,r);return i?(i.option(t),i._init()):(i=new o(this,t),e.data(this,r,i)),e(this)});return!c||c.length>1?c:c[0]}},e.bridget}}(e)}(e),function(e){function n(t,i){function n(e,t){var i="data-slider-"+t.replace(/_/g,"-"),n=e.getAttribute(i);try{return JSON.parse(n)}catch(e){return n}}this._state={value:null,enabled:null,offset:null,size:null,percentage:null,inDrag:!1,over:!1},this.ticksCallbackMap={},this.handleCallbackMap={},"string"==typeof t?this.element=document.querySelector(t):t instanceof HTMLElement&&(this.element=t),i=i||{};for(var s=Object.keys(this.defaultOptions),o=0;o<s.length;o++){var a=s[o],l=i[a];l=null!==(l=void 0!==l?l:n(this.element,a))?l:this.defaultOptions[a],this.options||(this.options={}),this.options[a]=l}"auto"===this.options.rtl&&(this.options.rtl="rtl"===window.getComputedStyle(this.element).direction),"vertical"!==this.options.orientation||"top"!==this.options.tooltip_position&&"bottom"!==this.options.tooltip_position?"horizontal"!==this.options.orientation||"left"!==this.options.tooltip_position&&"right"!==this.options.tooltip_position||(this.options.tooltip_position="top"):this.options.rtl?this.options.tooltip_position="left":this.options.tooltip_position="right";var h,u,d,c,p,m=this.element.style.width,f=!1,g=this.element.parentNode;if(this.sliderElem)f=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var v=document.createElement("div");v.className="slider-track",(u=document.createElement("div")).className="slider-track-low",(h=document.createElement("div")).className="slider-selection",(d=document.createElement("div")).className="slider-track-high",(c=document.createElement("div")).className="slider-handle min-slider-handle",c.setAttribute("role","slider"),c.setAttribute("aria-valuemin",this.options.min),c.setAttribute("aria-valuemax",this.options.max),(p=document.createElement("div")).className="slider-handle max-slider-handle",p.setAttribute("role","slider"),p.setAttribute("aria-valuemin",this.options.min),p.setAttribute("aria-valuemax",this.options.max),v.appendChild(u),v.appendChild(h),v.appendChild(d),this.rangeHighlightElements=[];var _=this.options.rangeHighlights;if(Array.isArray(_)&&_.length>0)for(var y=0;y<_.length;y++){var b=document.createElement("div"),w=_[y].class||"";b.className="slider-rangeHighlight slider-selection "+w,this.rangeHighlightElements.push(b),v.appendChild(b)}var x=Array.isArray(this.options.labelledby);if(x&&this.options.labelledby[0]&&c.setAttribute("aria-labelledby",this.options.labelledby[0]),x&&this.options.labelledby[1]&&p.setAttribute("aria-labelledby",this.options.labelledby[1]),!x&&this.options.labelledby&&(c.setAttribute("aria-labelledby",this.options.labelledby),p.setAttribute("aria-labelledby",this.options.labelledby)),this.ticks=[],Array.isArray(this.options.ticks)&&this.options.ticks.length>0){for(this.ticksContainer=document.createElement("div"),this.ticksContainer.className="slider-tick-container",o=0;o<this.options.ticks.length;o++){var k=document.createElement("div");if(k.className="slider-tick",this.options.ticks_tooltip){var S=this._addTickListener(),C=S.addMouseEnter(this,k,o),T=S.addMouseLeave(this,k);this.ticksCallbackMap[o]={mouseEnter:C,mouseLeave:T}}this.ticks.push(k),this.ticksContainer.appendChild(k)}h.className+=" tick-slider-selection"}if(this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&this.options.ticks_labels.length>0)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",o=0;o<this.options.ticks_labels.length;o++){var M=document.createElement("div"),E=0===this.options.ticks_positions.length,D=this.options.reversed&&E?this.options.ticks_labels.length-(o+1):o;M.className="slider-tick-label",M.innerHTML=this.options.ticks_labels[D],this.tickLabels.push(M),this.tickLabelContainer.appendChild(M)}var A=function(e){var t=document.createElement("div");t.className="tooltip-arrow";var i=document.createElement("div");i.className="tooltip-inner",e.appendChild(t),e.appendChild(i)},N=document.createElement("div");N.className="tooltip tooltip-main",N.setAttribute("role","presentation"),A(N);var O=document.createElement("div");O.className="tooltip tooltip-min",O.setAttribute("role","presentation"),A(O);var j=document.createElement("div");j.className="tooltip tooltip-max",j.setAttribute("role","presentation"),A(j),this.sliderElem.appendChild(v),this.sliderElem.appendChild(N),this.sliderElem.appendChild(O),this.sliderElem.appendChild(j),this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer),this.ticksContainer&&this.sliderElem.appendChild(this.ticksContainer),this.sliderElem.appendChild(c),this.sliderElem.appendChild(p),g.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}if(e&&(this.$element=e(this.element),this.$sliderElem=e(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.touchX=0,this.touchY=0,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),r[this.options.scale]&&(this.options.scale=r[this.options.scale]),!0===f&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.sliderElem,"slider-rtl"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","right","top","width","height"].forEach(function(e){this._removeProperty(this.trackLow,e),this._removeProperty(this.trackSelection,e),this._removeProperty(this.trackHigh,e)},this),[this.handle1,this.handle2].forEach(function(e){this._removeProperty(e,"left"),this._removeProperty(e,"right"),this._removeProperty(e,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(e){this._removeProperty(e,"left"),this._removeProperty(e,"right"),this._removeProperty(e,"top"),this._removeClass(e,"right"),this._removeClass(e,"left"),this._removeClass(e,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=m,this.options.orientation="horizontal",this.options.rtl?this.stylePos="right":this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth"),this.options.rtl&&this._addClass(this.sliderElem,"slider-rtl"),this._setTooltipPosition(),Array.isArray(this.options.ticks)&&this.options.ticks.length>0&&(this.options.max=Math.max.apply(Math,this.options.ticks),this.options.min=Math.min.apply(Math,this.options.ticks)),Array.isArray(this.options.value)?(this.options.range=!0,this._state.value=this.options.value):this.options.range?this._state.value=[this.options.value,this.options.max]:this._state.value=this.options.value,this.trackLow=u||this.trackLow,this.trackSelection=h||this.trackSelection,this.trackHigh=d||this.trackHigh,"none"===this.options.selection?(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")):("after"===this.options.selection||"before"===this.options.selection)&&(this._removeClass(this.trackLow,"hide"),this._removeClass(this.trackSelection,"hide"),this._removeClass(this.trackHigh,"hide")),this.handle1=c||this.handle1,this.handle2=p||this.handle2,!0===f)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),o=0;o<this.ticks.length;o++)this._removeClass(this.ticks[o],"round triangle hide");if(-1!==["round","triangle","custom"].indexOf(this.options.handle))for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),o=0;o<this.ticks.length;o++)this._addClass(this.ticks[o],this.options.handle);if(this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this.setValue(this._state.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchstart=this._touchstart.bind(this),this.touchmove=this._touchmove.bind(this),this.touchCapable){var P=!1;try{var I=Object.defineProperty({},"passive",{get:function(){P=!0}});window.addEventListener("test",null,I)}catch(e){}var F=!!P&&{passive:!0};this.sliderElem.addEventListener("touchstart",this.touchstart,F),this.sliderElem.addEventListener("touchmove",this.touchmove,F)}if(this.sliderElem.addEventListener("mousedown",this.mousedown,!1),this.resize=this._resize.bind(this),window.addEventListener("resize",this.resize,!1),"hide"===this.options.tooltip)this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide");else if("always"===this.options.tooltip)this._showTooltip(),this._alwaysShowTooltip=!0;else{if(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.options.ticks_tooltip){var L=this._addTickListener(),z=L.addMouseEnter(this,this.handle1),q=L.addMouseLeave(this,this.handle1);this.handleCallbackMap.handle1={mouseEnter:z,mouseLeave:q},z=L.addMouseEnter(this,this.handle2),q=L.addMouseLeave(this,this.handle2),this.handleCallbackMap.handle2={mouseEnter:z,mouseLeave:q}}else this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1);this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1)}this.options.enabled?this.enable():this.disable()}var s=function(e){return"Invalid input value '"+e+"' passed in"},r={linear:{toValue:function(e){var t=e/100*(this.options.max-this.options.min),i=!0;if(this.options.ticks_positions.length>0){for(var n,s,r,o=0,a=1;a<this.options.ticks_positions.length;a++)if(e<=this.options.ticks_positions[a]){n=this.options.ticks[a-1],r=this.options.ticks_positions[a-1],s=this.options.ticks[a],o=this.options.ticks_positions[a];break}t=n+(e-r)/(o-r)*(s-n),i=!1}var l=(i?this.options.min:0)+Math.round(t/this.options.step)*this.options.step;return l<this.options.min?this.options.min:l>this.options.max?this.options.max:l},toPercentage:function(e){if(this.options.max===this.options.min)return 0;if(this.options.ticks_positions.length>0){for(var t,i,n,s=0,r=0;r<this.options.ticks.length;r++)if(e<=this.options.ticks[r]){t=r>0?this.options.ticks[r-1]:0,n=r>0?this.options.ticks_positions[r-1]:0,i=this.options.ticks[r],s=this.options.ticks_positions[r];break}if(r>0)return n+(e-t)/(i-t)*(s-n)}return 100*(e-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(e){var t=0===this.options.min?0:Math.log(this.options.min),i=Math.log(this.options.max),n=Math.exp(t+(i-t)*e/100);return Math.round(n)===this.options.max?this.options.max:(n=this.options.min+Math.round((n-this.options.min)/this.options.step)*this.options.step)<this.options.min?this.options.min:n>this.options.max?this.options.max:n},toPercentage:function(e){if(this.options.max===this.options.min)return 0;var t=Math.log(this.options.max),i=0===this.options.min?0:Math.log(this.options.min);return 100*((0===e?0:Math.log(e))-i)/(t-i)}}};if((t=function(e,t){return n.call(this,e,t),this}).prototype={_init:function(){},constructor:t,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,handle:"round",reversed:!1,rtl:"auto",enabled:!0,formatter:function(e){return Array.isArray(e)?e[0]+" : "+e[1]:e},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,ticks_tooltip:!1,scale:"linear",focus:!1,tooltip_position:null,labelledby:null,rangeHighlights:[]},getElement:function(){return this.sliderElem},getValue:function(){return this.options.range?this._state.value:this._state.value[0]},setValue:function(e,t,i){e||(e=0);var n=this.getValue();this._state.value=this._validateInputValue(e);var s=this._applyPrecision.bind(this);this.options.range?(this._state.value[0]=s(this._state.value[0]),this._state.value[1]=s(this._state.value[1]),this._state.value[0]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[0])),this._state.value[1]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[1]))):(this._state.value=s(this._state.value),this._state.value=[Math.max(this.options.min,Math.min(this.options.max,this._state.value))],this._addClass(this.handle2,"hide"),"after"===this.options.selection?this._state.value[1]=this.options.max:this._state.value[1]=this.options.min),this.options.max>this.options.min?this._state.percentage=[this._toPercentage(this._state.value[0]),this._toPercentage(this._state.value[1]),100*this.options.step/(this.options.max-this.options.min)]:this._state.percentage=[0,0,100],this._layout();var r=this.options.range?this._state.value:this._state.value[0];return this._setDataVal(r),!0===t&&this._trigger("slide",r),n!==r&&!0===i&&this._trigger("change",{oldValue:n,newValue:r}),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),e&&(this._unbindJQueryEventHandlers(),this.$element.removeData("slider"))},disable:function(){return this._state.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this._state.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this._state.enabled?this.disable():this.enable(),this},isEnabled:function(){return this._state.enabled},on:function(e,t){return this._bindNonQueryEventHandler(e,t),this},off:function(t,i){e?(this.$element.off(t,i),this.$sliderElem.off(t,i)):this._unbindNonQueryEventHandler(t,i)},getAttribute:function(e){return e?this.options[e]:this.options},setAttribute:function(e,t){return this.options[e]=t,this},refresh:function(){return this._removeSliderEventHandlers(),n.call(this,this.element,this.options),e&&e.data(this.element,"slider",this),this},relayout:function(){return this._resize(),this._layout(),this},_removeSliderEventHandlers:function(){if(this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.options.ticks_tooltip){for(var e=this.ticksContainer.getElementsByClassName("slider-tick"),t=0;t<e.length;t++)e[t].removeEventListener("mouseenter",this.ticksCallbackMap[t].mouseEnter,!1),e[t].removeEventListener("mouseleave",this.ticksCallbackMap[t].mouseLeave,!1);this.handle1.removeEventListener("mouseenter",this.handleCallbackMap.handle1.mouseEnter,!1),this.handle2.removeEventListener("mouseenter",this.handleCallbackMap.handle2.mouseEnter,!1),this.handle1.removeEventListener("mouseleave",this.handleCallbackMap.handle1.mouseLeave,!1),this.handle2.removeEventListener("mouseleave",this.handleCallbackMap.handle2.mouseLeave,!1)}this.handleCallbackMap=null,this.ticksCallbackMap=null,this.showTooltip&&(this.handle1.removeEventListener("focus",this.showTooltip,!1),this.handle2.removeEventListener("focus",this.showTooltip,!1)),this.hideTooltip&&(this.handle1.removeEventListener("blur",this.hideTooltip,!1),this.handle2.removeEventListener("blur",this.hideTooltip,!1)),this.showTooltip&&this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.hideTooltip&&this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.touchstart,!1),this.sliderElem.removeEventListener("touchmove",this.touchmove,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1),window.removeEventListener("resize",this.resize,!1)},_bindNonQueryEventHandler:function(e,t){void 0===this.eventToCallbackMap[e]&&(this.eventToCallbackMap[e]=[]),this.eventToCallbackMap[e].push(t)},_unbindNonQueryEventHandler:function(e,t){var i=this.eventToCallbackMap[e];if(void 0!==i)for(var n=0;n<i.length;n++)if(i[n]===t){i.splice(n,1);break}},_cleanUpEventCallbacksMap:function(){for(var e=Object.keys(this.eventToCallbackMap),t=0;t<e.length;t++){var i=e[t];delete this.eventToCallbackMap[i]}},_showTooltip:function(){!1===this.options.tooltip_split?(this._addClass(this.tooltip,"in"),this.tooltip_min.style.display="none",this.tooltip_max.style.display="none"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in"),this.tooltip.style.display="none"),this._state.over=!0},_hideTooltip:function(){!1===this._state.inDrag&&!0!==this.alwaysShowTooltip&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in")),this._state.over=!1},_setToolTipOnMouseOver:function(e){function t(e,t){return t?[100-e.percentage[0],this.options.range?100-e.percentage[1]:e.percentage[1]]:[e.percentage[0],e.percentage[1]]}var i=this.options.formatter(e?e.value[0]:this._state.value[0]),n=t(e||this._state,this.options.reversed);this._setText(this.tooltipInner,i),this.tooltip.style[this.stylePos]=n[0]+"%"},_addTickListener:function(){return{addMouseEnter:function(e,t,i){var n=function(){var t=e._state,n=i>=0?i:this.attributes["aria-valuenow"].value,s=parseInt(n,10);t.value[0]=s,t.percentage[0]=e.options.ticks_positions[s],e._setToolTipOnMouseOver(t),e._showTooltip()};return t.addEventListener("mouseenter",n,!1),n},addMouseLeave:function(e,t){var i=function(){e._hideTooltip()};return t.addEventListener("mouseleave",i,!1),i}}},_layout:function(){var e,t;if(e=this.options.reversed?[100-this._state.percentage[0],this.options.range?100-this._state.percentage[1]:this._state.percentage[1]]:[this._state.percentage[0],this._state.percentage[1]],this.handle1.style[this.stylePos]=e[0]+"%",this.handle1.setAttribute("aria-valuenow",this._state.value[0]),isNaN(this.options.formatter(this._state.value[0]))&&this.handle1.setAttribute("aria-valuetext",this.options.formatter(this._state.value[0])),this.handle2.style[this.stylePos]=e[1]+"%",this.handle2.setAttribute("aria-valuenow",this._state.value[1]),isNaN(this.options.formatter(this._state.value[1]))&&this.handle2.setAttribute("aria-valuetext",this.options.formatter(this._state.value[1])),this.rangeHighlightElements.length>0&&Array.isArray(this.options.rangeHighlights)&&this.options.rangeHighlights.length>0)for(var i=0;i<this.options.rangeHighlights.length;i++){var n=this._toPercentage(this.options.rangeHighlights[i].start),s=this._toPercentage(this.options.rangeHighlights[i].end);if(this.options.reversed){var r=100-s;s=100-n,n=r}var o=this._createHighlightRange(n,s);o?"vertical"===this.options.orientation?(this.rangeHighlightElements[i].style.top=o.start+"%",this.rangeHighlightElements[i].style.height=o.size+"%"):(this.options.rtl?this.rangeHighlightElements[i].style.right=o.start+"%":this.rangeHighlightElements[i].style.left=o.start+"%",this.rangeHighlightElements[i].style.width=o.size+"%"):this.rangeHighlightElements[i].style.display="none"}if(Array.isArray(this.options.ticks)&&this.options.ticks.length>0){var a,l="vertical"===this.options.orientation?"height":"width";a="vertical"===this.options.orientation?"marginTop":this.options.rtl?"marginRight":"marginLeft";var h=this._state.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var u=0;if(0===this.options.ticks_positions.length)"vertical"!==this.options.orientation&&(this.tickLabelContainer.style[a]=-h/2+"px"),u=this.tickLabelContainer.offsetHeight;else for(d=0;d<this.tickLabelContainer.childNodes.length;d++)this.tickLabelContainer.childNodes[d].offsetHeight>u&&(u=this.tickLabelContainer.childNodes[d].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=u+"px")}for(var d=0;d<this.options.ticks.length;d++){var c=this.options.ticks_positions[d]||this._toPercentage(this.options.ticks[d]);this.options.reversed&&(c=100-c),this.ticks[d].style[this.stylePos]=c+"%",this._removeClass(this.ticks[d],"in-selection"),this.options.range?c>=e[0]&&c<=e[1]&&this._addClass(this.ticks[d],"in-selection"):"after"===this.options.selection&&c>=e[0]?this._addClass(this.ticks[d],"in-selection"):"before"===this.options.selection&&c<=e[0]&&this._addClass(this.ticks[d],"in-selection"),this.tickLabels[d]&&(this.tickLabels[d].style[l]=h+"px","vertical"!==this.options.orientation&&void 0!==this.options.ticks_positions[d]?(this.tickLabels[d].style.position="absolute",this.tickLabels[d].style[this.stylePos]=c+"%",this.tickLabels[d].style[a]=-h/2+"px"):"vertical"===this.options.orientation&&(this.options.rtl?this.tickLabels[d].style.marginRight=this.sliderElem.offsetWidth+"px":this.tickLabels[d].style.marginLeft=this.sliderElem.offsetWidth+"px",this.tickLabelContainer.style[a]=this.sliderElem.offsetWidth/2*-1+"px"))}}if(this.options.range){t=this.options.formatter(this._state.value),this._setText(this.tooltipInner,t),this.tooltip.style[this.stylePos]=(e[1]+e[0])/2+"%";var p=this.options.formatter(this._state.value[0]);this._setText(this.tooltipInner_min,p);var m=this.options.formatter(this._state.value[1]);this._setText(this.tooltipInner_max,m),this.tooltip_min.style[this.stylePos]=e[0]+"%",this.tooltip_max.style[this.stylePos]=e[1]+"%"}else t=this.options.formatter(this._state.value[0]),this._setText(this.tooltipInner,t),this.tooltip.style[this.stylePos]=e[0]+"%";if("vertical"===this.options.orientation)this.trackLow.style.top="0",this.trackLow.style.height=Math.min(e[0],e[1])+"%",this.trackSelection.style.top=Math.min(e[0],e[1])+"%",this.trackSelection.style.height=Math.abs(e[0]-e[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(e[0],e[1])-Math.abs(e[0]-e[1])+"%";else{"right"===this.stylePos?this.trackLow.style.right="0":this.trackLow.style.left="0",this.trackLow.style.width=Math.min(e[0],e[1])+"%","right"===this.stylePos?this.trackSelection.style.right=Math.min(e[0],e[1])+"%":this.trackSelection.style.left=Math.min(e[0],e[1])+"%",this.trackSelection.style.width=Math.abs(e[0]-e[1])+"%","right"===this.stylePos?this.trackHigh.style.left="0":this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(e[0],e[1])-Math.abs(e[0]-e[1])+"%";var f=this.tooltip_min.getBoundingClientRect(),g=this.tooltip_max.getBoundingClientRect();"bottom"===this.options.tooltip_position?f.right>g.left?(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top="",this.tooltip_max.style.bottom="22px"):(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top=this.tooltip_min.style.top,this.tooltip_max.style.bottom=""):f.right>g.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=this.tooltip_min.style.top)}},_createHighlightRange:function(e,t){return this._isHighlightRange(e,t)?e>t?{start:t,size:e-t}:{start:e,size:t-e}:null},_isHighlightRange:function(e,t){return e>=0&&100>=e&&t>=0&&100>=t},_resize:function(e){this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this._layout()},_removeProperty:function(e,t){e.style.removeProperty?e.style.removeProperty(t):e.style.removeAttribute(t)},_mousedown:function(e){if(!this._state.enabled)return!1;this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos];var t=this._getPercentage(e);if(this.options.range){var i=Math.abs(this._state.percentage[0]-t),n=Math.abs(this._state.percentage[1]-t);this._state.dragged=n>i?0:1,this._adjustPercentageForRangeSliders(t)}else this._state.dragged=0;this._state.percentage[this._state.dragged]=t,this._layout(),this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!0;var s=this._calculateValue();return this._trigger("slideStart",s),this._setDataVal(s),this.setValue(s,!1,!0),e.returnValue=!1,this.options.focus&&this._triggerFocusOnHandle(this._state.dragged),!0},_touchstart:function(e){if(void 0!==e.changedTouches){var t=e.changedTouches[0];this.touchX=t.pageX,this.touchY=t.pageY}else this._mousedown(e)},_triggerFocusOnHandle:function(e){0===e&&this.handle1.focus(),1===e&&this.handle2.focus()},_keydown:function(e,t){if(!this._state.enabled)return!1;var i;switch(t.keyCode){case 37:case 40:i=-1;break;case 39:case 38:i=1}if(i){if(this.options.natural_arrow_keys){var n="vertical"===this.options.orientation&&!this.options.reversed,s="horizontal"===this.options.orientation&&this.options.reversed;(n||s)&&(i=-i)}var r=this._state.value[e]+i*this.options.step,o=r/this.options.max*100;if(this._state.keyCtrl=e,this.options.range)this._adjustPercentageForRangeSliders(o),r=[this._state.keyCtrl?this._state.value[0]:r,this._state.keyCtrl?r:this._state.value[1]];return this._trigger("slideStart",r),this._setDataVal(r),this.setValue(r,!0,!0),this._setDataVal(r),this._trigger("slideStop",r),this._layout(),this._pauseEvent(t),delete this._state.keyCtrl,!1}},_pauseEvent:function(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1},_mousemove:function(e){if(!this._state.enabled)return!1;var t=this._getPercentage(e);this._adjustPercentageForRangeSliders(t),this._state.percentage[this._state.dragged]=t,this._layout();var i=this._calculateValue(!0);return this.setValue(i,!0,!0),!1},_touchmove:function(e){if(void 0!==e.changedTouches){var t=e.changedTouches[0],i=t.pageX-this.touchX,n=t.pageY-this.touchY;this._state.inDrag||("vertical"===this.options.orientation&&5>=i&&i>=-5&&(n>=15||-15>=n)?this._mousedown(e):5>=n&&n>=-5&&(i>=15||-15>=i)&&this._mousedown(e))}},_adjustPercentageForRangeSliders:function(e){if(this.options.range){var t=this._getNumDigitsAfterDecimalPlace(e);t=t?t-1:0;var i=this._applyToFixedAndParseFloat(e,t);0===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[1],t)<i?(this._state.percentage[0]=this._state.percentage[1],this._state.dragged=1):1===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[0],t)>i?(this._state.percentage[1]=this._state.percentage[0],this._state.dragged=0):0===this._state.keyCtrl&&this._state.value[1]/this.options.max*100<e?(this._state.percentage[0]=this._state.percentage[1],this._state.keyCtrl=1,this.handle2.focus()):1===this._state.keyCtrl&&this._state.value[0]/this.options.max*100>e&&(this._state.percentage[1]=this._state.percentage[0],this._state.keyCtrl=0,this.handle1.focus())}},_mouseup:function(){if(!this._state.enabled)return!1;this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!1,!1===this._state.over&&this._hideTooltip();var e=this._calculateValue(!0);return this._layout(),this._setDataVal(e),this._trigger("slideStop",e),!1},_calculateValue:function(e){var t;if(this.options.range?(t=[this.options.min,this.options.max],0!==this._state.percentage[0]&&(t[0]=this._toValue(this._state.percentage[0]),t[0]=this._applyPrecision(t[0])),100!==this._state.percentage[1]&&(t[1]=this._toValue(this._state.percentage[1]),t[1]=this._applyPrecision(t[1]))):(t=this._toValue(this._state.percentage[0]),t=parseFloat(t),t=this._applyPrecision(t)),e){for(var i=[t,1/0],n=0;n<this.options.ticks.length;n++){var s=Math.abs(this.options.ticks[n]-t);s<=i[1]&&(i=[this.options.ticks[n],s])}if(i[1]<=this.options.ticks_snap_bounds)return i[0]}return t},_applyPrecision:function(e){var t=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(e,t)},_getNumDigitsAfterDecimalPlace:function(e){var t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},_applyToFixedAndParseFloat:function(e,t){var i=e.toFixed(t);return parseFloat(i)},_getPercentage:function(e){!this.touchCapable||"touchstart"!==e.type&&"touchmove"!==e.type||(e=e.touches[0]);var t=e[this.mousePos]-this._state.offset[this.stylePos];"right"===this.stylePos&&(t=-t);var i=t/this._state.size*100;return i=Math.round(i/this._state.percentage[2])*this._state.percentage[2],this.options.reversed&&(i=100-i),Math.max(0,Math.min(100,i))},_validateInputValue:function(e){if(isNaN(+e)){if(Array.isArray(e))return this._validateArray(e),e;throw new Error(s(e))}return+e},_validateArray:function(e){for(var t=0;t<e.length;t++){var i=e[t];if("number"!=typeof i)throw new Error(s(i))}},_setDataVal:function(e){this.element.setAttribute("data-value",e),this.element.setAttribute("value",e),this.element.value=e},_trigger:function(t,i){i=i||0===i?i:void 0;var n=this.eventToCallbackMap[t];if(n&&n.length)for(var s=0;s<n.length;s++){(0,n[s])(i)}e&&this._triggerJQueryEvent(t,i)},_triggerJQueryEvent:function(e,t){var i={type:e,value:t};this.$element.trigger(i),this.$sliderElem.trigger(i)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setText:function(e,t){void 0!==e.textContent?e.textContent=t:void 0!==e.innerText&&(e.innerText=t)},_removeClass:function(e,t){for(var i=t.split(" "),n=e.className,s=0;s<i.length;s++){var r=i[s],o=new RegExp("(?:\\s|^)"+r+"(?:\\s|$)");n=n.replace(o," ")}e.className=n.trim()},_addClass:function(e,t){for(var i=t.split(" "),n=e.className,s=0;s<i.length;s++){var r=i[s];new RegExp("(?:\\s|^)"+r+"(?:\\s|$)").test(n)||(n+=" "+r)}e.className=n.trim()},_offsetLeft:function(e){return e.getBoundingClientRect().left},_offsetRight:function(e){return e.getBoundingClientRect().right},_offsetTop:function(e){for(var t=e.offsetTop;(e=e.offsetParent)&&!isNaN(e.offsetTop);)t+=e.offsetTop,"BODY"!==e.tagName&&(t-=e.scrollTop);return t},_offset:function(e){return{left:this._offsetLeft(e),right:this._offsetRight(e),top:this._offsetTop(e)}},_css:function(t,i,n){if(e)e.style(t,i,n);else{var s=i.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()});t.style[s]=n}},_toValue:function(e){return this.options.scale.toValue.apply(this,[e])},_toPercentage:function(e){return this.options.scale.toPercentage.apply(this,[e])},_setTooltipPosition:function(){var e=[this.tooltip,this.tooltip_min,this.tooltip_max];if("vertical"===this.options.orientation){var t,i="left"===(t=this.options.tooltip_position?this.options.tooltip_position:this.options.rtl?"left":"right")?"right":"left";e.forEach(function(e){this._addClass(e,t),e.style[i]="100%"}.bind(this))}else"bottom"===this.options.tooltip_position?e.forEach(function(e){this._addClass(e,"bottom"),e.style.top="22px"}.bind(this)):e.forEach(function(e){this._addClass(e,"top"),e.style.top=-this.tooltip.outerHeight-14+"px"}.bind(this))}},e&&e.fn){var o=void 0;e.fn.slider?(windowIsDefined&&window.console.warn("bootstrap-slider.js - WARNING: $.fn.slider namespace is already bound. Use the $.fn.bootstrapSlider namespace instead."),o=i):(e.bridget("slider",t),o="slider"),e.bridget(i,t),e(function(){e("input[data-provide=slider]")[o]()})}}(e),t}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){e.defineOption("fullScreen",!1,function(t,i,n){var s,r;(n==e.Init&&(n=!1),!n!=!i)&&(i?(r=(s=t).getWrapperElement(),s.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:r.style.width,height:r.style.height},r.style.width="",r.style.height="auto",r.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",s.refresh()):function(e){var t=e.getWrapperElement();t.className=t.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var i=e.state.fullScreenRestore;t.style.width=i.width,t.style.height=i.height,window.scrollTo(i.scrollLeft,i.scrollTop),e.refresh()}(t))})}),function(e){function t(){}function i(e){if(!e||"object"!=typeof e)return!1;var t=x(e)||de;return/object|function/.test(typeof t.Element)?e instanceof t.Element:1===e.nodeType&&"string"==typeof e.nodeName}function n(e){return e===de||!(!e||!e.Window)&&e instanceof e.Window}function s(e){return!!e&&e instanceof pe}function r(e){return o(e)&&void 0!==typeof e.length&&a(e.splice)}function o(e){return!!e&&"object"==typeof e}function a(e){return"function"==typeof e}function l(e){return"number"==typeof e}function h(e){return"boolean"==typeof e}function u(e){return"string"==typeof e}function d(e){return!!u(e)&&(ce.querySelector(e),!0)}function c(e,t){for(var i in t)e[i]=t[i];return e}function p(e,t){for(var i in t){var n=!1;for(var s in Je)if(0===i.indexOf(s)&&Je[s].test(i)){n=!0;break}n||(e[i]=t[i])}return e}function m(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp}function f(e,t,i){e.page.x=i.page.x-t.page.x,e.page.y=i.page.y-t.page.y,e.client.x=i.client.x-t.client.x,e.client.y=i.client.y-t.client.y,e.timeStamp=(new Date).getTime()-t.timeStamp;var n=Math.max(e.timeStamp/1e3,.001);e.page.speed=ye(e.page.x,e.page.y)/n,e.page.vx=e.page.x/n,e.page.vy=e.page.y/n,e.client.speed=ye(e.client.x,e.page.y)/n,e.client.vx=e.client.x/n,e.client.vy=e.client.y/n}function g(e){return e instanceof de.Event||Ee&&de.Touch&&e instanceof de.Touch}function v(e,t,i){return i=i||{},e=e||"page",i.x=t[e+"X"],i.y=t[e+"Y"],i}function _(e,t){return t=t||{},qe&&g(e)?(v("screen",e,t),t.x+=de.scrollX,t.y+=de.scrollY):v("page",e,t),t}function y(e,t){return t=t||{},qe&&g(e)?v("screen",e,t):v("client",e,t),t}function b(e){return l(e.pointerId)?e.pointerId:e.identifier}function w(e){return e instanceof ge?e.correspondingUseElement:e}function x(e){if(n(e))return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||de}function k(e){var t=e instanceof me?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}function S(e){var t,i=k(e);if(!Re&&i){var n={x:(t=(t=x(e))||de).scrollX||t.document.documentElement.scrollLeft,y:t.scrollY||t.document.documentElement.scrollTop};i.left+=n.x,i.right+=n.x,i.top+=n.y,i.bottom+=n.y}return i}function C(e){var t=[];return r(e)?(t[0]=e[0],t[1]=e[1]):"touchend"===e.type?1===e.touches.length?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):0===e.touches.length&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function T(e){for(var t,i={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<e.length;n++)for(t in i)i[t]+=e[n][t];for(t in i)i[t]/=e.length;return i}function M(e){if(e.length||e.touches&&e.touches.length>1){var t=C(e),i=Math.min(t[0].pageX,t[1].pageX),n=Math.min(t[0].pageY,t[1].pageY);return{x:i,y:n,left:i,top:n,width:Math.max(t[0].pageX,t[1].pageX)-i,height:Math.max(t[0].pageY,t[1].pageY)-n}}}function E(e,t){var i=(t=t||Te.deltaSource)+"X",n=t+"Y",s=C(e),r=s[0][i]-s[1][i],o=s[0][n]-s[1][n];return ye(r,o)}function D(e,t,i){var n=(i=i||Te.deltaSource)+"X",s=i+"Y",r=C(e),o=r[0][n]-r[1][n],a=r[0][s]-r[1][s],h=180*Math.atan(a/o)/Math.PI;if(l(t)){var u=(h-t)%360;u>315?h-=360+h/360|0:u>135?h-=180+h/360|0:u<-315?h+=360+h/360|0:u<-135&&(h+=180+h/360|0)}return h}function A(e,t){var n=e?e.options.origin:Te.origin;return"parent"===n?n=I(t):"self"===n?n=e.getRect(t):d(n)&&(n=P(t,n)||{x:0,y:0}),a(n)&&(n=n(e&&t)),i(n)&&(n=S(n)),n.x="x"in n?n.x:n.left,n.y="y"in n?n.y:n.top,n}function N(e,t,i,n){var s=1-e;return s*s*t+2*s*e*i+e*e*n}function O(e,t,i,n){return-i*(e/=n)*(e-2)+t}function j(e,t){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function P(e,t){for(var n=I(e);i(n);){if(ae(n,t))return n;n=I(n)}return null}function I(e){var t=e.parentNode;if(s(t)){for(;(t=t.host)&&s(t););return t}return t}function F(e,t){return e._context===t.ownerDocument||j(e._context,t)}function L(e,t,n){var s=e.options.ignoreFrom;return!(!s||!i(n))&&(u(s)?le(n,s,t):!!i(s)&&j(s,n))}function z(e,t,n){var s=e.options.allowFrom;return!s||!!i(n)&&(u(s)?le(n,s,t):!!i(s)&&j(s,n))}function q(e,t){if(!t)return!1;var i=t.options.drag.axis;return"xy"===e||"xy"===i||i===e}function R(e,t){var i=e.options;return/^resize/.test(t)&&(t="resize"),i[t].snap&&i[t].snap.enabled}function B(e,t){var i=e.options;return/^resize/.test(t)&&(t="resize"),i[t].restrict&&i[t].restrict.enabled}function H(e,t,i){for(var n=e.options,s=n[i.name].max,r=n[i.name].maxPerElement,o=0,a=0,l=0,h=0,u=ke.length;h<u;h++){var d=ke[h],c=d.prepared.name;if(d.interacting()){if(++o>=je)return!1;if(d.target===e){if((a+=c===i.name|0)>=s)return!1;if(d.element===t&&(l++,c!==i.name||l>=r))return!1}}}return je>0}function V(){if(this.target=null,this.element=null,this.dropTarget=null,this.dropElement=null,this.prevDropTarget=null,this.prevDropElement=null,this.prepared={name:null,axis:null,edges:null},this.matches=[],this.matchElements=[],this.inertiaStatus={active:!1,smoothEnd:!1,ending:!1,startEvent:null,upCoords:{},xe:0,ye:0,sx:0,sy:0,t0:0,vx0:0,vys:0,duration:0,resumeDx:0,resumeDy:0,lambda_v0:0,one_ve_v0:0,i:null},a(Function.prototype.bind))this.boundInertiaFrame=this.inertiaFrame.bind(this),this.boundSmoothEndFrame=this.smoothEndFrame.bind(this);else{var e=this;this.boundInertiaFrame=function(){return e.inertiaFrame()},this.boundSmoothEndFrame=function(){return e.smoothEndFrame()}}this.activeDrops={dropzones:[],elements:[],rects:[]},this.pointers=[],this.pointerIds=[],this.downTargets=[],this.downTimes=[],this.holdTimers=[],this.prevCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.curCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.startCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.pointerDelta={page:{x:0,y:0,vx:0,vy:0,speed:0},client:{x:0,y:0,vx:0,vy:0,speed:0},timeStamp:0},this.downEvent=null,this.downPointer={},this._eventTarget=null,this._curEventTarget=null,this.prevEvent=null,this.tapTime=0,this.prevTap=null,this.startOffset={left:0,right:0,top:0,bottom:0},this.restrictOffset={left:0,right:0,top:0,bottom:0},this.snapOffsets=[],this.gesture={start:{x:0,y:0},startDistance:0,prevDistance:0,distance:0,scale:1,startAngle:0,prevAngle:0},this.snapStatus={x:0,y:0,dx:0,dy:0,realX:0,realY:0,snappedX:0,snappedY:0,targets:[],locked:!1,changed:!1},this.restrictStatus={dx:0,dy:0,restrictedX:0,restrictedY:0,snap:null,restricted:!1,changed:!1},this.restrictStatus.snap=this.snapStatus,this.pointerIsDown=!1,this.pointerWasMoved=!1,this.gesturing=!1,this.dragging=!1,this.resizing=!1,this.resizeAxes="xy",this.mouse=!1,ke.push(this)}function Q(e,t,i){var n,s=0,r=ke.length,o=/mouse/i.test(e.pointerType||t)||4===e.pointerType,a=b(e);if(/down|start/i.test(t))for(s=0;s<r;s++){var l=i;if((n=ke[s]).inertiaStatus.active&&n.target.options[n.prepared.name].inertia.allowResume&&n.mouse===o)for(;l;){if(l===n.element)return n;l=I(l)}}if(o||!Ee&&!De){for(s=0;s<r;s++)if(ke[s].mouse&&!ke[s].inertiaStatus.active)return ke[s];for(s=0;s<r;s++)if(ke[s].mouse&&(!/down/.test(t)||!ke[s].inertiaStatus.active))return n;return(n=new V).mouse=!0,n}for(s=0;s<r;s++)if(oe(ke[s].pointerIds,a))return ke[s];if(/up|end|out/i.test(t))return null;for(s=0;s<r;s++)if((!(n=ke[s]).prepared.name||n.target.options.gesture.enabled)&&!n.interacting()&&(o||!n.mouse))return n;return new V}function J(e){return function(t){var i,n,s=w(t.path?t.path[0]:t.target),r=w(t.currentTarget);if(Ee&&/touch/.test(t.type))for(Oe=(new Date).getTime(),n=0;n<t.changedTouches.length;n++){var o=t.changedTouches[n];(i=Q(o,t.type,s))&&(i._updateEventTargets(s,r),i[e](o,t,s,r))}else{if(!De&&/mouse/.test(t.type)){for(n=0;n<ke.length;n++)if(!ke[n].mouse&&ke[n].pointerIsDown)return;if((new Date).getTime()-Oe<500)return}if(!(i=Q(t,t.type,s)))return;i._updateEventTargets(s,r),i[e](t,t,s,r)}}}function U(e,t,i,n,s,r){var o,a,l=e.target,h=e.snapStatus,u=e.restrictStatus,d=e.pointers,p=(l&&l.options||Te).deltaSource,m=p+"X",f=p+"Y",g=l?l.options:Te,v=A(l,s),_="start"===n,y="end"===n,b=_?e.startCoords:e.curCoords;s=s||e.element,a=c({},b.page),o=c({},b.client),a.x-=v.x,a.y-=v.y,o.x-=v.x,o.y-=v.y;var w=g[i].snap&&g[i].snap.relativePoints;!R(l,i)||_&&w&&w.length||(this.snap={range:h.range,locked:h.locked,x:h.snappedX,y:h.snappedY,realX:h.realX,realY:h.realY,dx:h.dx,dy:h.dy},h.locked&&(a.x+=h.dx,a.y+=h.dy,o.x+=h.dx,o.y+=h.dy)),!B(l,i)||_&&g[i].restrict.elementRect||!u.restricted||(a.x+=u.dx,a.y+=u.dy,o.x+=u.dx,o.y+=u.dy,this.restrict={dx:u.dx,dy:u.dy}),this.pageX=a.x,this.pageY=a.y,this.clientX=o.x,this.clientY=o.y,this.x0=e.startCoords.page.x-v.x,this.y0=e.startCoords.page.y-v.y,this.clientX0=e.startCoords.client.x-v.x,this.clientY0=e.startCoords.client.y-v.y,this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.button=t.button,this.buttons=t.buttons,this.target=s,this.t0=e.downTimes[0],this.type=i+(n||""),this.interaction=e,this.interactable=l;var x=e.inertiaStatus;if(x.active&&(this.detail="inertia"),r&&(this.relatedTarget=r),y?"client"===p?(this.dx=o.x-e.startCoords.client.x,this.dy=o.y-e.startCoords.client.y):(this.dx=a.x-e.startCoords.page.x,this.dy=a.y-e.startCoords.page.y):_?(this.dx=0,this.dy=0):"inertiastart"===n?(this.dx=e.prevEvent.dx,this.dy=e.prevEvent.dy):"client"===p?(this.dx=o.x-e.prevEvent.clientX,this.dy=o.y-e.prevEvent.clientY):(this.dx=a.x-e.prevEvent.pageX,this.dy=a.y-e.prevEvent.pageY),e.prevEvent&&"inertia"===e.prevEvent.detail&&!x.active&&g[i].inertia&&g[i].inertia.zeroResumeDelta&&(x.resumeDx+=this.dx,x.resumeDy+=this.dy,this.dx=this.dy=0),"resize"===i&&e.resizeAxes?g.resize.square?("y"===e.resizeAxes?this.dx=this.dy:this.dy=this.dx,this.axes="xy"):(this.axes=e.resizeAxes,"x"===e.resizeAxes?this.dy=0:"y"===e.resizeAxes&&(this.dx=0)):"gesture"===i&&(this.touches=[d[0],d[1]],_?(this.distance=E(d,p),this.box=M(d),this.scale=1,this.ds=0,this.angle=D(d,void 0,p),this.da=0):y||t instanceof U?(this.distance=e.prevEvent.distance,this.box=e.prevEvent.box,this.scale=e.prevEvent.scale,this.ds=this.scale-1,this.angle=e.prevEvent.angle,this.da=this.angle-e.gesture.startAngle):(this.distance=E(d,p),this.box=M(d),this.scale=this.distance/e.gesture.startDistance,this.angle=D(d,e.gesture.prevAngle,p),this.ds=this.scale-e.gesture.prevScale,this.da=this.angle-e.gesture.prevAngle)),_)this.timeStamp=e.downTimes[0],this.dt=0,this.duration=0,this.speed=0,this.velocityX=0,this.velocityY=0;else if("inertiastart"===n)this.timeStamp=e.prevEvent.timeStamp,this.dt=e.prevEvent.dt,this.duration=e.prevEvent.duration,this.speed=e.prevEvent.speed,this.velocityX=e.prevEvent.velocityX,this.velocityY=e.prevEvent.velocityY;else if(this.timeStamp=(new Date).getTime(),this.dt=this.timeStamp-e.prevEvent.timeStamp,this.duration=this.timeStamp-e.downTimes[0],t instanceof U){var k=this[m]-e.prevEvent[m],S=this[f]-e.prevEvent[f],C=this.dt/1e3;this.speed=ye(k,S)/C,this.velocityX=k/C,this.velocityY=S/C}else this.speed=e.pointerDelta[p].speed,this.velocityX=e.pointerDelta[p].vx,this.velocityY=e.pointerDelta[p].vy;if((y||"inertiastart"===n)&&e.prevEvent.speed>600&&this.timeStamp-e.prevEvent.timeStamp<150){var T=180*Math.atan2(e.prevEvent.velocityY,e.prevEvent.velocityX)/Math.PI;T<0&&(T+=360);var N=112.5<=T&&T<247.5,O=202.5<=T&&T<337.5,j=!N&&(292.5<=T||T<67.5),P=!O&&22.5<=T&&T<157.5;this.swipe={up:O,down:P,left:N,right:j,angle:T,speed:e.prevEvent.speed,velocity:{x:e.prevEvent.velocityX,y:e.prevEvent.velocityY}}}}function $(){this.originalEvent.preventDefault()}function W(e){var t="";if("drag"===e.name&&(t=Pe.drag),"resize"===e.name)if(e.axis)t=Pe[e.name+e.axis];else if(e.edges){for(var i="resize",n=["top","bottom","left","right"],s=0;s<4;s++)e.edges[n[s]]&&(i+=n[s]);t=Pe[i]}return t}function G(e,t,n,s,r,o,a){if(!t)return!1;if(!0===t){var h=l(o.width)?o.width:o.right-o.left,u=l(o.height)?o.height:o.bottom-o.top;if(h<0&&("left"===e?e="right":"right"===e&&(e="left")),u<0&&("top"===e?e="bottom":"bottom"===e&&(e="top")),"left"===e)return n.x<(h>=0?o.left:o.right)+a;if("top"===e)return n.y<(u>=0?o.top:o.bottom)+a;if("right"===e)return n.x>(h>=0?o.right:o.left)-a;if("bottom"===e)return n.y>(u>=0?o.bottom:o.top)-a}return!!i(s)&&(i(t)?t===s:le(s,t,r))}function Y(e,t,i){var n,s=this.getRect(i),r=!1,a=null,l=null,h=c({},t.curCoords.page),u=this.options;if(!s)return null;if(Ie.resize&&u.resize.enabled){var d=u.resize;if(n={left:!1,right:!1,top:!1,bottom:!1},o(d.edges)){for(var p in n)n[p]=G(p,d.edges[p],h,t._eventTarget,i,s,d.margin||Ae);n.left=n.left&&!n.right,n.top=n.top&&!n.bottom,r=n.left||n.right||n.top||n.bottom}else{var m="y"!==u.resize.axis&&h.x>s.right-Ae,f="x"!==u.resize.axis&&h.y>s.bottom-Ae;r=m||f,l=(m?"x":"")+(f?"y":"")}}return a=r?"resize":Ie.drag&&u.drag.enabled?"drag":null,Ie.gesture&&t.pointerIds.length>=2&&!t.dragging&&!t.resizing&&(a="gesture"),a?{name:a,axis:l,edges:n}:null}function X(e,t){if(!o(e))return null;var i=e.name,n=t.options;return("resize"===i&&n.resize.enabled||"drag"===i&&n.drag.enabled||"gesture"===i&&n.gesture.enabled)&&Ie[i]?("resize"!==i&&"resizeyx"!==i||(i="resizexy"),e):null}function K(e,t){var n={},s=Ce[e.type],r=w(e.path?e.path[0]:e.target),o=r;t=!!t;for(var a in e)n[a]=e[a];for(n.originalEvent=e,n.preventDefault=$;i(o);){for(var l=0;l<s.selectors.length;l++){var h=s.selectors[l],u=s.contexts[l];if(ae(o,h)&&j(u,r)&&j(u,o)){var d=s.listeners[l];n.currentTarget=o;for(var c=0;c<d.length;c++)d[c][1]===t&&d[c][0](n)}}o=I(o)}}function Z(e){return K.call(this,e,!0)}function ee(e,t){return xe.get(e,t)||new te(e,t)}function te(e,t){var n;if(this._element=e,this._iEvents=this._iEvents||{},d(e)){this.selector=e;var s=t&&t.context;n=s?x(s):de,s&&(n.Node?s instanceof n.Node:i(s)||s===n.document)&&(this._context=s)}else n=x(e),i(e)&&(De?(Qe.add(this._element,he.down,Ue.pointerDown),Qe.add(this._element,he.move,Ue.pointerHover)):(Qe.add(this._element,"mousedown",Ue.pointerDown),Qe.add(this._element,"mousemove",Ue.pointerHover),Qe.add(this._element,"touchstart",Ue.pointerDown),Qe.add(this._element,"touchmove",Ue.pointerHover)));this._doc=n.document,oe(we,this._doc)||se(this._doc),xe.push(this),this.set(t)}function ie(e,t){var i=!1;return function(){return i||(de.console.warn(t),i=!0),e.apply(this,arguments)}}function ne(e){for(var t=0;t<ke.length;t++)ke[t].pointerEnd(e,e)}function se(e){if(!oe(we,e)){var t=e.defaultView||e.parentWindow;for(var i in Ce)Qe.add(e,i,K),Qe.add(e,i,Z,!0);De?(he=_e===t.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"},Qe.add(e,he.down,Ue.selectorDown),Qe.add(e,he.move,Ue.pointerMove),Qe.add(e,he.over,Ue.pointerOver),Qe.add(e,he.out,Ue.pointerOut),Qe.add(e,he.up,Ue.pointerUp),Qe.add(e,he.cancel,Ue.pointerCancel),Qe.add(e,he.move,Ue.autoScrollMove)):(Qe.add(e,"mousedown",Ue.selectorDown),Qe.add(e,"mousemove",Ue.pointerMove),Qe.add(e,"mouseup",Ue.pointerUp),Qe.add(e,"mouseover",Ue.pointerOver),Qe.add(e,"mouseout",Ue.pointerOut),Qe.add(e,"touchstart",Ue.selectorDown),Qe.add(e,"touchmove",Ue.pointerMove),Qe.add(e,"touchend",Ue.pointerUp),Qe.add(e,"touchcancel",Ue.pointerCancel),Qe.add(e,"mousemove",Ue.autoScrollMove),Qe.add(e,"touchmove",Ue.autoScrollMove)),Qe.add(t,"blur",ne);try{if(t.frameElement){var n=t.frameElement.ownerDocument,s=n.defaultView;Qe.add(n,"mouseup",Ue.pointerEnd),Qe.add(n,"touchend",Ue.pointerEnd),Qe.add(n,"touchcancel",Ue.pointerEnd),Qe.add(n,"pointerup",Ue.pointerEnd),Qe.add(n,"MSPointerUp",Ue.pointerEnd),Qe.add(s,"blur",ne)}}catch(e){ee.windowParentError=e}Qe.add(e,"dragstart",function(e){for(var t=0;t<ke.length;t++){var i=ke[t];if(i.element&&(i.element===e.target||j(i.element,e.target)))return void i.checkAndPreventDefault(e,i.target,i.element)}}),Qe.useAttachEvent&&(Qe.add(e,"selectstart",function(e){var t=ke[0];t.currentAction()&&t.checkAndPreventDefault(e)}),Qe.add(e,"dblclick",J("ie8Dblclick"))),we.push(e)}}function re(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1}function oe(e,t){return-1!==re(e,t)}function ae(t,i,n){return ue?ue(t,i,n):(de!==e&&(i=i.replace(/\/deep\//g," ")),t[Be](i))}function le(e,t,n){for(;i(e);){if(ae(e,t))return!0;if((e=I(e))===n)return ae(e,t)}return!1}if(e){var he,ue,de=(Xe=e.document.createTextNode("")).ownerDocument!==e.document&&"function"==typeof e.wrap&&e.wrap(Xe)===Xe?e.wrap(e):e,ce=de.document,pe=de.DocumentFragment||t,me=de.SVGElement||t,fe=de.SVGSVGElement||t,ge=de.SVGElementInstance||t,ve=de.HTMLElement||de.Element,_e=de.PointerEvent||de.MSPointerEvent,ye=Math.hypot||function(e,t){return Math.sqrt(e*e+t*t)},be={},we=[],xe=[],ke=[],Se=!1,Ce={},Te={base:{accept:null,actionChecker:null,styleCursor:!0,preventDefault:"auto",origin:{x:0,y:0},deltaSource:"page",allowFrom:null,ignoreFrom:null,_context:ce,dropChecker:null},drag:{enabled:!1,manualStart:!0,max:1/0,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,axis:"xy"},drop:{enabled:!1,accept:null,overlap:"pointer"},resize:{enabled:!1,manualStart:!1,max:1/0,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},gesture:{manualStart:!1,enabled:!1,max:1/0,maxPerElement:1,restrict:null},perAction:{manualStart:!1,max:1/0,maxPerElement:1,snap:{enabled:!1,endOnly:!1,range:1/0,targets:null,offsets:null,relativePoints:null},restrict:{enabled:!1,endOnly:!1},autoScroll:{enabled:!1,container:null,margin:60,speed:300},inertia:{enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,zeroResumeDelta:!0,smoothEndDuration:300}},_holdDuration:600},Me={interaction:null,i:null,x:0,y:0,scroll:function(){var e,t,i,s,r=Me.interaction.target.options[Me.interaction.prepared.name].autoScroll,o=r.container||x(Me.interaction.element),a=(new Date).getTime(),l=(a-Me.prevTimeX)/1e3,h=(a-Me.prevTimeY)/1e3;r.velocity?(e=r.velocity.x,t=r.velocity.y):e=t=r.speed,s=t*h,((i=e*l)>=1||s>=1)&&(n(o)?o.scrollBy(Me.x*i,Me.y*s):o&&(o.scrollLeft+=Me.x*i,o.scrollTop+=Me.y*s),i>=1&&(Me.prevTimeX=a),s>=1&&(Me.prevTimeY=a)),Me.isScrolling&&(Ve(Me.i),Me.i=He(Me.scroll))},isScrolling:!1,prevTimeX:0,prevTimeY:0,start:function(e){Me.isScrolling=!0,Ve(Me.i),Me.interaction=e,Me.prevTimeX=(new Date).getTime(),Me.prevTimeY=(new Date).getTime(),Me.i=He(Me.scroll)},stop:function(){Me.isScrolling=!1,Ve(Me.i)}},Ee="ontouchstart"in de||de.DocumentTouch&&ce instanceof de.DocumentTouch,De=_e&&!/Chrome/.test(navigator.userAgent),Ae=Ee||De?20:10,Ne=1,Oe=0,je=1/0,Pe=ce.all&&!de.atob?{drag:"move",resizex:"e-resize",resizey:"s-resize",resizexy:"se-resize",resizetop:"n-resize",resizeleft:"w-resize",resizebottom:"s-resize",resizeright:"e-resize",resizetopleft:"se-resize",resizebottomright:"se-resize",resizetopright:"ne-resize",resizebottomleft:"ne-resize",gesture:""}:{drag:"move",resizex:"ew-resize",resizey:"ns-resize",resizexy:"nwse-resize",resizetop:"ns-resize",resizeleft:"ew-resize",resizebottom:"ns-resize",resizeright:"ew-resize",resizetopleft:"nwse-resize",resizebottomright:"nwse-resize",resizetopright:"nesw-resize",resizebottomleft:"nesw-resize",gesture:""},Ie={drag:!0,resize:!0,gesture:!0},Fe="onmousewheel"in ce?"mousewheel":"wheel",Le=["dragstart","dragmove","draginertiastart","dragend","dragenter","dragleave","dropactivate","dropdeactivate","dropmove","drop","resizestart","resizemove","resizeinertiastart","resizeend","gesturestart","gesturemove","gestureinertiastart","gestureend","down","move","up","cancel","tap","doubletap","hold"],ze={},qe="Opera"==navigator.appName&&Ee&&navigator.userAgent.match("Presto"),Re=/iP(hone|od|ad)/.test(navigator.platform)&&/OS 7[^\d]/.test(navigator.appVersion),Be="matches"in Element.prototype?"matches":"webkitMatchesSelector"in Element.prototype?"webkitMatchesSelector":"mozMatchesSelector"in Element.prototype?"mozMatchesSelector":"oMatchesSelector"in Element.prototype?"oMatchesSelector":"msMatchesSelector",He=e.requestAnimationFrame,Ve=e.cancelAnimationFrame,Qe=function(){var e="attachEvent"in de&&!("addEventListener"in de),t=e?"attachEvent":"addEventListener",i=e?"detachEvent":"removeEventListener",n=e?"on":"",s=[],r=[],o=[];return{add:function(i,a,l,h){var u=re(s,i),d=r[u];if(d||(d={events:{},typeCount:0},u=s.push(i)-1,r.push(d),o.push(e?{supplied:[],wrapped:[],useCount:[]}:null)),d.events[a]||(d.events[a]=[],d.typeCount++),!oe(d.events[a],l)){var c;if(e){var p=o[u],m=re(p.supplied,l),f=p.wrapped[m]||function(e){e.immediatePropagationStopped||(e.target=e.srcElement,e.currentTarget=i,e.preventDefault=e.preventDefault||function(){this.returnValue=!1},e.stopPropagation=e.stopPropagation||function(){this.cancelBubble=!0},e.stopImmediatePropagation=e.stopImmediatePropagation||function(){this.cancelBubble=!0,this.immediatePropagationStopped=!0},/mouse|click/.test(e.type)&&(e.pageX=e.clientX+x(i).document.documentElement.scrollLeft,e.pageY=e.clientY+x(i).document.documentElement.scrollTop),l(e))};c=i[t](n+a,f,Boolean(h)),-1===m?(p.supplied.push(l),p.wrapped.push(f),p.useCount.push(1)):p.useCount[m]++}else c=i[t](a,l,h||!1);return d.events[a].push(l),c}},remove:function t(a,l,h,u){var d,c,p,m=re(s,a),f=r[m],g=h;if(f&&f.events)if(e&&(p=re((c=o[m]).supplied,h),g=c.wrapped[p]),"all"!==l){if(f.events[l]){var v=f.events[l].length;if("all"===h){for(d=0;d<v;d++)t(a,l,f.events[l][d],Boolean(u));return}for(d=0;d<v;d++)if(f.events[l][d]===h){a[i](n+l,g,u||!1),f.events[l].splice(d,1),e&&c&&(c.useCount[p]--,0===c.useCount[p]&&(c.supplied.splice(p,1),c.wrapped.splice(p,1),c.useCount.splice(p,1)));break}f.events[l]&&0===f.events[l].length&&(f.events[l]=null,f.typeCount--)}f.typeCount||(r.splice(m,1),s.splice(m,1),o.splice(m,1))}else for(l in f.events)f.events.hasOwnProperty(l)&&t(a,l,"all")},useAttachEvent:e,_elements:s,_targets:r,_attachedListeners:o}}(),Je={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/};V.prototype={getPageXY:function(e,t){return _(e,t)},getClientXY:function(e,t){return y(e,t)},setEventXY:function(e,t){return i=e,_(s=(n=t).length>1?T(n):n[0],be),i.page.x=be.x,i.page.y=be.y,y(s,be),i.client.x=be.x,i.client.y=be.y,void(i.timeStamp=(new Date).getTime());var i,n,s},pointerOver:function(e,t,i){if(!this.prepared.name&&this.mouse){var n=[],s=[],r=this.element;this.addPointer(e),!this.target||!L(this.target,this.element,i)&&z(this.target,this.element,i)||(this.target=null,this.element=null,this.matches=[],this.matchElements=[]);var o=xe.get(i),a=o&&!L(o,i,i)&&z(o,i,i)&&X(o.getAction(e,t,this,i),o);a&&!H(o,i,a)&&(a=null),a?(this.target=o,this.element=i,this.matches=[],this.matchElements=[]):(xe.forEachSelector(function(e,t){e&&F(e,i)&&!L(e,i,i)&&z(e,i,i)&&ae(i,t)&&(n.push(e),s.push(i))}),this.validateSelector(e,t,n,s)?(this.matches=n,this.matchElements=s,this.pointerHover(e,t,this.matches,this.matchElements),Qe.add(i,De?he.move:"mousemove",Ue.pointerHover)):this.target&&(j(r,i)?(this.pointerHover(e,t,this.matches,this.matchElements),Qe.add(this.element,De?he.move:"mousemove",Ue.pointerHover)):(this.target=null,this.element=null,this.matches=[],this.matchElements=[])))}},pointerHover:function(e,t,i,n,s,r){var o,a=this.target;!this.prepared.name&&this.mouse?(this.setEventXY(this.curCoords,[e]),s?o=this.validateSelector(e,t,s,r):a&&(o=X(a.getAction(this.pointers[0],t,this,this.element),this.target)),a&&a.options.styleCursor&&(a._doc.documentElement.style.cursor=o?W(o):"")):this.prepared.name&&this.checkAndPreventDefault(t,a,this.element)},pointerOut:function(e,t,i){this.prepared.name||(xe.get(i)||Qe.remove(i,De?he.move:"mousemove",Ue.pointerHover),this.target&&this.target.options.styleCursor&&!this.interacting()&&(this.target._doc.documentElement.style.cursor=""))},selectorDown:function(e,t,n,s){function r(e,t,i){var s=ue?i.querySelectorAll(t):void 0;F(e,h)&&!L(e,h,n)&&z(e,h,n)&&ae(h,t,s)&&(a.matches.push(e),a.matchElements.push(h))}var o,a=this,l=Qe.useAttachEvent?c({},t):t,h=n,u=this.addPointer(e);if(this.holdTimers[u]=setTimeout(function(){a.pointerHold(Qe.useAttachEvent?l:e,l,n,s)},Te._holdDuration),this.pointerIsDown=!0,this.inertiaStatus.active&&this.target.selector)for(;i(h);){if(h===this.element&&X(this.target.getAction(e,t,this,this.element),this.target).name===this.prepared.name)return Ve(this.inertiaStatus.i),this.inertiaStatus.active=!1,void this.collectEventTargets(e,t,n,"down");h=I(h)}if(this.interacting())this.collectEventTargets(e,t,n,"down");else{for(this.setEventXY(this.curCoords,[e]),this.downEvent=t;i(h)&&!o;)this.matches=[],this.matchElements=[],xe.forEachSelector(r),o=this.validateSelector(e,t,this.matches,this.matchElements),h=I(h);if(o)return this.prepared.name=o.name,this.prepared.axis=o.axis,this.prepared.edges=o.edges,this.collectEventTargets(e,t,n,"down"),this.pointerDown(e,t,n,s,o);this.downTimes[u]=(new Date).getTime(),this.downTargets[u]=n,p(this.downPointer,e),m(this.prevCoords,this.curCoords),this.pointerWasMoved=!1,this.collectEventTargets(e,t,n,"down")}},pointerDown:function(e,t,i,n,s){if(s||this.inertiaStatus.active||!this.pointerWasMoved||!this.prepared.name){this.pointerIsDown=!0,this.downEvent=t;var r,o=this.addPointer(e);if(this.pointerIds.length>1&&this.target._element===this.element){var a=X(s||this.target.getAction(e,t,this,this.element),this.target);H(this.target,this.element,a)&&(r=a),this.prepared.name=null}else if(!this.prepared.name){var l=xe.get(n);l&&!L(l,n,i)&&z(l,n,i)&&(r=X(s||l.getAction(e,t,this,n),l))&&H(l,n,r)&&(this.target=l,this.element=n)}var h=this.target,u=h&&h.options;if(!h||!s&&this.prepared.name)this.inertiaStatus.active&&n===this.element&&X(h.getAction(e,t,this,this.element),h).name===this.prepared.name&&(Ve(this.inertiaStatus.i),this.inertiaStatus.active=!1,this.checkAndPreventDefault(t,h,this.element));else{if(r=r||X(s||h.getAction(e,t,this,n),h,this.element),this.setEventXY(this.startCoords,this.pointers),!r)return;u.styleCursor&&(h._doc.documentElement.style.cursor=W(r)),this.resizeAxes="resize"===r.name?r.axis:null,"gesture"===r&&this.pointerIds.length<2&&(r=null),this.prepared.name=r.name,this.prepared.axis=r.axis,this.prepared.edges=r.edges,this.snapStatus.snappedX=this.snapStatus.snappedY=this.restrictStatus.restrictedX=this.restrictStatus.restrictedY=NaN,this.downTimes[o]=(new Date).getTime(),this.downTargets[o]=i,p(this.downPointer,e),m(this.prevCoords,this.startCoords),this.pointerWasMoved=!1,this.checkAndPreventDefault(t,h,this.element)}}else this.checkAndPreventDefault(t,this.target,this.element)},setModifications:function(e,t){var i=this.target,n=!0,s=R(i,this.prepared.name)&&(!i.options[this.prepared.name].snap.endOnly||t),r=B(i,this.prepared.name)&&(!i.options[this.prepared.name].restrict.endOnly||t);return s?this.setSnapping(e):this.snapStatus.locked=!1,r?this.setRestriction(e):this.restrictStatus.restricted=!1,s&&this.snapStatus.locked&&!this.snapStatus.changed?n=r&&this.restrictStatus.restricted&&this.restrictStatus.changed:r&&this.restrictStatus.restricted&&!this.restrictStatus.changed&&(n=!1),n},setStartOffsets:function(e,t,i){var n,s,r=t.getRect(i),o=A(t,i),a=t.options[this.prepared.name].snap,l=t.options[this.prepared.name].restrict;r?(this.startOffset.left=this.startCoords.page.x-r.left,this.startOffset.top=this.startCoords.page.y-r.top,this.startOffset.right=r.right-this.startCoords.page.x,this.startOffset.bottom=r.bottom-this.startCoords.page.y,n="width"in r?r.width:r.right-r.left,s="height"in r?r.height:r.bottom-r.top):this.startOffset.left=this.startOffset.top=this.startOffset.right=this.startOffset.bottom=0,this.snapOffsets.splice(0);var h=a&&"startCoords"===a.offset?{x:this.startCoords.page.x-o.x,y:this.startCoords.page.y-o.y}:a&&a.offset||{x:0,y:0};if(r&&a&&a.relativePoints&&a.relativePoints.length)for(var u=0;u<a.relativePoints.length;u++)this.snapOffsets.push({x:this.startOffset.left-n*a.relativePoints[u].x+h.x,y:this.startOffset.top-s*a.relativePoints[u].y+h.y});else this.snapOffsets.push(h);r&&l.elementRect?(this.restrictOffset.left=this.startOffset.left-n*l.elementRect.left,this.restrictOffset.top=this.startOffset.top-s*l.elementRect.top,this.restrictOffset.right=this.startOffset.right-n*(1-l.elementRect.right),this.restrictOffset.bottom=this.startOffset.bottom-s*(1-l.elementRect.bottom)):this.restrictOffset.left=this.restrictOffset.top=this.restrictOffset.right=this.restrictOffset.bottom=0},start:function(e,t,i){this.interacting()||!this.pointerIsDown||this.pointerIds.length<("gesture"===e.name?2:1)||(-1===re(ke,this)&&ke.push(this),this.prepared.name||this.setEventXY(this.startCoords,this.pointers),this.prepared.name=e.name,this.prepared.axis=e.axis,this.prepared.edges=e.edges,this.target=t,this.element=i,this.setStartOffsets(e.name,t,i),this.setModifications(this.startCoords.page),this.prevEvent=this[this.prepared.name+"Start"](this.downEvent))},pointerMove:function(e,t,n,s,r){if(this.inertiaStatus.active){var o=this.inertiaStatus.upCoords.page,a=this.inertiaStatus.upCoords.client,l={pageX:o.x+this.inertiaStatus.sx,pageY:o.y+this.inertiaStatus.sy,clientX:a.x+this.inertiaStatus.sx,clientY:a.y+this.inertiaStatus.sy};this.setEventXY(this.curCoords,[l])}else this.recordPointer(e),this.setEventXY(this.curCoords,this.pointers);var h,u,d=this.curCoords.page.x===this.prevCoords.page.x&&this.curCoords.page.y===this.prevCoords.page.y&&this.curCoords.client.x===this.prevCoords.client.x&&this.curCoords.client.y===this.prevCoords.client.y,c=this.mouse?0:re(this.pointerIds,b(e));if(this.pointerIsDown&&!this.pointerWasMoved&&(h=this.curCoords.client.x-this.startCoords.client.x,u=this.curCoords.client.y-this.startCoords.client.y,this.pointerWasMoved=ye(h,u)>Ne),d||this.pointerIsDown&&!this.pointerWasMoved||(this.pointerIsDown&&clearTimeout(this.holdTimers[c]),this.collectEventTargets(e,t,n,"move")),this.pointerIsDown)if(d&&this.pointerWasMoved&&!r)this.checkAndPreventDefault(t,this.target,this.element);else if(f(this.pointerDelta,this.prevCoords,this.curCoords),this.prepared.name){if(this.pointerWasMoved&&(!this.inertiaStatus.active||e instanceof U&&/inertiastart/.test(e.type))){if(!this.interacting()&&(f(this.pointerDelta,this.prevCoords,this.curCoords),"drag"===this.prepared.name)){var p=Math.abs(h),g=Math.abs(u),v=this.target.options.drag.axis,_=p>g?"x":p<g?"y":"xy";if("xy"!==_&&"xy"!==v&&v!==_){this.prepared.name=null;for(var y=n;i(y);){var w=xe.get(y);if(w&&w!==this.target&&!w.options.drag.manualStart&&"drag"===w.getAction(this.downPointer,this.downEvent,this,y).name&&q(_,w)){this.prepared.name="drag",this.target=w,this.element=y;break}y=I(y)}if(!this.prepared.name){var x=this,k=function(e,t,i){var s=ue?i.querySelectorAll(t):void 0;if(e!==x.target)return F(e,n)&&!e.options.drag.manualStart&&!L(e,y,n)&&z(e,y,n)&&ae(y,t,s)&&"drag"===e.getAction(x.downPointer,x.downEvent,x,y).name&&q(_,e)&&H(e,y,"drag")?e:void 0};for(y=n;i(y);){var S=xe.forEachSelector(k);if(S){this.prepared.name="drag",this.target=S,this.element=y;break}y=I(y)}}}}var C=!!this.prepared.name&&!this.interacting();if(C&&(this.target.options[this.prepared.name].manualStart||!H(this.target,this.element,this.prepared)))return void this.stop(t);this.prepared.name&&this.target&&(C&&this.start(this.prepared,this.target,this.element),(this.setModifications(this.curCoords.page,r)||C)&&(this.prevEvent=this[this.prepared.name+"Move"](t)),this.checkAndPreventDefault(t,this.target,this.element))}m(this.prevCoords,this.curCoords),(this.dragging||this.resizing)&&this.autoScrollMove(e)}},dragStart:function(e){var t=new U(this,e,"drag","start",this.element);this.dragging=!0,this.target.fire(t),this.activeDrops.dropzones=[],this.activeDrops.elements=[],this.activeDrops.rects=[],this.dynamicDrop||this.setActiveDrops(this.element);var i=this.getDropEvents(e,t);return i.activate&&this.fireActiveDrops(i.activate),t},dragMove:function(e){var t=this.target,i=new U(this,e,"drag","move",this.element),n=this.element,s=this.getDrop(i,e,n);this.dropTarget=s.dropzone,this.dropElement=s.element;var r=this.getDropEvents(e,i);return t.fire(i),r.leave&&this.prevDropTarget.fire(r.leave),r.enter&&this.dropTarget.fire(r.enter),r.move&&this.dropTarget.fire(r.move),this.prevDropTarget=this.dropTarget,this.prevDropElement=this.dropElement,i},resizeStart:function(e){var t=new U(this,e,"resize","start",this.element);if(this.prepared.edges){var i=this.target.getRect(this.element);if(this.target.options.resize.square||this.target.options.resize.preserveAspectRatio){var n=c({},this.prepared.edges);n.top=n.top||n.left&&!n.bottom,n.left=n.left||n.top&&!n.right,n.bottom=n.bottom||n.right&&!n.top,n.right=n.right||n.bottom&&!n.left,this.prepared._linkedEdges=n}else this.prepared._linkedEdges=null;this.target.options.resize.preserveAspectRatio&&(this.resizeStartAspectRatio=i.width/i.height),this.resizeRects={start:i,current:c({},i),restricted:c({},i),previous:c({},i),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},t.rect=this.resizeRects.restricted,t.deltaRect=this.resizeRects.delta}return this.target.fire(t),this.resizing=!0,t},resizeMove:function(e){var t=new U(this,e,"resize","move",this.element),i=this.prepared.edges,n=this.target.options.resize.invert,s="reposition"===n||"negate"===n;if(i){var r,o=t.dx,a=t.dy,l=this.resizeRects.start,h=this.resizeRects.current,u=this.resizeRects.restricted,d=this.resizeRects.delta,p=c(this.resizeRects.previous,u),m=i;if(this.target.options.resize.preserveAspectRatio){var f=this.resizeStartAspectRatio;i=this.prepared._linkedEdges,m.left&&m.bottom||m.right&&m.top?a=-o/f:m.left||m.right?a=o/f:(m.top||m.bottom)&&(o=a*f)}else this.target.options.resize.square&&(i=this.prepared._linkedEdges,m.left&&m.bottom||m.right&&m.top?a=-o:m.left||m.right?a=o:(m.top||m.bottom)&&(o=a));if(i.top&&(h.top+=a),i.bottom&&(h.bottom+=a),i.left&&(h.left+=o),i.right&&(h.right+=o),s){if(c(u,h),"reposition"===n)u.top>u.bottom&&(r=u.top,u.top=u.bottom,u.bottom=r),u.left>u.right&&(r=u.left,u.left=u.right,u.right=r)}else u.top=Math.min(h.top,l.bottom),u.bottom=Math.max(h.bottom,l.top),u.left=Math.min(h.left,l.right),u.right=Math.max(h.right,l.left);u.width=u.right-u.left,u.height=u.bottom-u.top;for(var g in u)d[g]=u[g]-p[g];t.edges=this.prepared.edges,t.rect=u,t.deltaRect=d}return this.target.fire(t),t},gestureStart:function(e){var t=new U(this,e,"gesture","start",this.element);return t.ds=0,this.gesture.startDistance=this.gesture.prevDistance=t.distance,this.gesture.startAngle=this.gesture.prevAngle=t.angle,this.gesture.scale=1,this.gesturing=!0,this.target.fire(t),t},gestureMove:function(e){return this.pointerIds.length?((t=new U(this,e,"gesture","move",this.element)).ds=t.scale-this.gesture.scale,this.target.fire(t),this.gesture.prevAngle=t.angle,this.gesture.prevDistance=t.distance,t.scale===1/0||null===t.scale||void 0===t.scale||isNaN(t.scale)||(this.gesture.scale=t.scale),t):this.prevEvent;var t},pointerHold:function(e,t,i){this.collectEventTargets(e,t,i,"hold")},pointerUp:function(e,t,i,n){var s=this.mouse?0:re(this.pointerIds,b(e));clearTimeout(this.holdTimers[s]),this.collectEventTargets(e,t,i,"up"),this.collectEventTargets(e,t,i,"tap"),this.pointerEnd(e,t,i,n),this.removePointer(e)},pointerCancel:function(e,t,i,n){var s=this.mouse?0:re(this.pointerIds,b(e));clearTimeout(this.holdTimers[s]),this.collectEventTargets(e,t,i,"cancel"),this.pointerEnd(e,t,i,n),this.removePointer(e)},ie8Dblclick:function(e,t,i){this.prevTap&&t.clientX===this.prevTap.clientX&&t.clientY===this.prevTap.clientY&&i===this.prevTap.target&&(this.downTargets[0]=i,this.downTimes[0]=(new Date).getTime(),this.collectEventTargets(e,t,i,"tap"))},pointerEnd:function(e,t,i,n){var s,r=this.target,o=r&&r.options,a=o&&this.prepared.name&&o[this.prepared.name].inertia,l=this.inertiaStatus;if(this.interacting()){if(l.active&&!l.ending)return;var h,u,d,p=(new Date).getTime(),f=!1,g=R(r,this.prepared.name)&&o[this.prepared.name].snap.endOnly,v=B(r,this.prepared.name)&&o[this.prepared.name].restrict.endOnly,_=0,y=0;if(h=this.dragging?"x"===o.drag.axis?Math.abs(this.pointerDelta.client.vx):"y"===o.drag.axis?Math.abs(this.pointerDelta.client.vy):this.pointerDelta.client.speed:this.pointerDelta.client.speed,d=(u=a&&a.enabled&&"gesture"!==this.prepared.name&&t!==l.startEvent)&&p-this.curCoords.timeStamp<50&&h>a.minSpeed&&h>a.endSpeed,u&&!d&&(g||v)){var b={};b.snap=b.restrict=b,g&&(this.setSnapping(this.curCoords.page,b),b.locked&&(_+=b.dx,y+=b.dy)),v&&(this.setRestriction(this.curCoords.page,b),b.restricted&&(_+=b.dx,y+=b.dy)),(_||y)&&(f=!0)}if(d||f){if(m(l.upCoords,this.curCoords),this.pointers[0]=l.startEvent=new U(this,t,this.prepared.name,"inertiastart",this.element),l.t0=p,r.fire(l.startEvent),d){l.vx0=this.pointerDelta.client.vx,l.vy0=this.pointerDelta.client.vy,l.v0=h,this.calcInertia(l);var w,x=c({},this.curCoords.page),k=A(r,this.element);if(x.x=x.x+l.xe-k.x,x.y=x.y+l.ye-k.y,(w={useStatusXY:!0,x:x.x,y:x.y,dx:0,dy:0,snap:null}).snap=w,_=y=0,g){var S=this.setSnapping(this.curCoords.page,w);S.locked&&(_+=S.dx,y+=S.dy)}if(v){var C=this.setRestriction(this.curCoords.page,w);C.restricted&&(_+=C.dx,y+=C.dy)}l.modifiedXe+=_,l.modifiedYe+=y,l.i=He(this.boundInertiaFrame)}else l.smoothEnd=!0,l.xe=_,l.ye=y,l.sx=l.sy=0,l.i=He(this.boundSmoothEndFrame);return void(l.active=!0)}(g||v)&&this.pointerMove(e,t,i,n,!0)}if(this.dragging){s=new U(this,t,"drag","end",this.element);var T=this.element,M=this.getDrop(s,t,T);this.dropTarget=M.dropzone,this.dropElement=M.element;var E=this.getDropEvents(t,s);E.leave&&this.prevDropTarget.fire(E.leave),E.enter&&this.dropTarget.fire(E.enter),E.drop&&this.dropTarget.fire(E.drop),E.deactivate&&this.fireActiveDrops(E.deactivate),r.fire(s)}else this.resizing?(s=new U(this,t,"resize","end",this.element),r.fire(s)):this.gesturing&&(s=new U(this,t,"gesture","end",this.element),r.fire(s));this.stop(t)},collectDrops:function(e){var t,n=[],s=[];for(e=e||this.element,t=0;t<xe.length;t++)if(xe[t].options.drop.enabled){var r=xe[t],o=r.options.drop.accept;if(!(i(o)&&o!==e||u(o)&&!ae(e,o)))for(var a=r.selector?r._context.querySelectorAll(r.selector):[r._element],l=0,h=a.length;l<h;l++){var d=a[l];d!==e&&(n.push(r),s.push(d))}}return{dropzones:n,elements:s}},fireActiveDrops:function(e){var t,i,n,s;for(t=0;t<this.activeDrops.dropzones.length;t++)i=this.activeDrops.dropzones[t],(n=this.activeDrops.elements[t])!==s&&(e.target=n,i.fire(e)),s=n},setActiveDrops:function(e){var t=this.collectDrops(e,!0);this.activeDrops.dropzones=t.dropzones,this.activeDrops.elements=t.elements,this.activeDrops.rects=[];for(var i=0;i<this.activeDrops.dropzones.length;i++)this.activeDrops.rects[i]=this.activeDrops.dropzones[i].getRect(this.activeDrops.elements[i])},getDrop:function(e,t,i){var n=[];Se&&this.setActiveDrops(i);for(var s=0;s<this.activeDrops.dropzones.length;s++){var r=this.activeDrops.dropzones[s],o=this.activeDrops.elements[s],a=this.activeDrops.rects[s];n.push(r.dropCheck(e,t,this.target,i,o,a)?o:null)}var l=function(e){var t,i,n,s,r,o=e[0],a=o?0:-1,l=[],h=[];for(s=1;s<e.length;s++)if((t=e[s])&&t!==o)if(o){if(t.parentNode!==t.ownerDocument)if(o.parentNode!==t.ownerDocument){if(!l.length)for(i=o;i.parentNode&&i.parentNode!==i.ownerDocument;)l.unshift(i),i=i.parentNode;if(o instanceof ve&&t instanceof me&&!(t instanceof fe)){if(t===o.parentNode)continue;i=t.ownerSVGElement}else i=t;for(h=[];i.parentNode!==i.ownerDocument;)h.unshift(i),i=i.parentNode;for(r=0;h[r]&&h[r]===l[r];)r++;var u=[h[r-1],h[r],l[r]];for(n=u[0].lastChild;n;){if(n===u[1]){o=t,a=s,l=[];break}if(n===u[2])break;n=n.previousSibling}}else o=t,a=s}else o=t,a=s;return a}(n);return{dropzone:this.activeDrops.dropzones[l]||null,element:this.activeDrops.elements[l]||null}},getDropEvents:function(e,t){var i={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return this.dropElement!==this.prevDropElement&&(this.prevDropTarget&&(i.leave={target:this.prevDropElement,dropzone:this.prevDropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dragleave"},t.dragLeave=this.prevDropElement,t.prevDropzone=this.prevDropTarget),this.dropTarget&&(i.enter={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dragenter"},t.dragEnter=this.dropElement,t.dropzone=this.dropTarget)),"dragend"===t.type&&this.dropTarget&&(i.drop={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"drop"},t.dropzone=this.dropTarget),"dragstart"===t.type&&(i.activate={target:null,dropzone:null,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dropactivate"}),"dragend"===t.type&&(i.deactivate={target:null,dropzone:null,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dropdeactivate"}),"dragmove"===t.type&&this.dropTarget&&(i.move={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,dragmove:t,timeStamp:t.timeStamp,type:"dropmove"},t.dropzone=this.dropTarget),i},currentAction:function(){return(this.dragging?"drag":this.resizing&&"resize")||this.gesturing&&"gesture"||null},interacting:function(){return this.dragging||this.resizing||this.gesturing},clearTargets:function(){this.target=this.element=null,this.dropTarget=this.dropElement=this.prevDropTarget=this.prevDropElement=null},stop:function(e){if(this.interacting()){Me.stop(),this.matches=[],this.matchElements=[];var t=this.target;t.options.styleCursor&&(t._doc.documentElement.style.cursor=""),e&&a(e.preventDefault)&&this.checkAndPreventDefault(e,t,this.element),this.dragging&&(this.activeDrops.dropzones=this.activeDrops.elements=this.activeDrops.rects=null)}this.clearTargets(),this.pointerIsDown=this.snapStatus.locked=this.dragging=this.resizing=this.gesturing=!1,this.prepared.name=this.prevEvent=null,this.inertiaStatus.resumeDx=this.inertiaStatus.resumeDy=0;for(var i=0;i<this.pointers.length;i++)-1===re(this.pointerIds,b(this.pointers[i]))&&this.pointers.splice(i,1)},inertiaFrame:function(){var e,t,i,n,s,r=this.inertiaStatus,o=this.target.options[this.prepared.name].inertia.resistance,a=(new Date).getTime()/1e3-r.t0;if(a<r.te){var l=1-(Math.exp(-o*a)-r.lambda_v0)/r.one_ve_v0;if(r.modifiedXe===r.xe&&r.modifiedYe===r.ye)r.sx=r.xe*l,r.sy=r.ye*l;else{var h=(e=r.xe,t=r.ye,i=r.modifiedXe,n=r.modifiedYe,{x:N(s=l,0,e,i),y:N(s,0,t,n)});r.sx=h.x,r.sy=h.y}this.pointerMove(r.startEvent,r.startEvent),r.i=He(this.boundInertiaFrame)}else r.ending=!0,r.sx=r.modifiedXe,r.sy=r.modifiedYe,this.pointerMove(r.startEvent,r.startEvent),this.pointerEnd(r.startEvent,r.startEvent),r.active=r.ending=!1},smoothEndFrame:function(){var e=this.inertiaStatus,t=(new Date).getTime()-e.t0,i=this.target.options[this.prepared.name].inertia.smoothEndDuration;t<i?(e.sx=O(t,0,e.xe,i),e.sy=O(t,0,e.ye,i),this.pointerMove(e.startEvent,e.startEvent),e.i=He(this.boundSmoothEndFrame)):(e.ending=!0,e.sx=e.xe,e.sy=e.ye,this.pointerMove(e.startEvent,e.startEvent),this.pointerEnd(e.startEvent,e.startEvent),e.smoothEnd=e.active=e.ending=!1)},addPointer:function(e){var t=b(e),i=this.mouse?0:re(this.pointerIds,t);return-1===i&&(i=this.pointerIds.length),this.pointerIds[i]=t,this.pointers[i]=e,i},removePointer:function(e){var t=b(e),i=this.mouse?0:re(this.pointerIds,t);-1!==i&&(this.pointers.splice(i,1),this.pointerIds.splice(i,1),this.downTargets.splice(i,1),this.downTimes.splice(i,1),this.holdTimers.splice(i,1))},recordPointer:function(e){var t=this.mouse?0:re(this.pointerIds,b(e));-1!==t&&(this.pointers[t]=e)},collectEventTargets:function(e,t,n,s){function r(e,t,r){var o=ue?r.querySelectorAll(t):void 0;e._iEvents[s]&&i(h)&&F(e,h)&&!L(e,h,n)&&z(e,h,n)&&ae(h,t,o)&&(a.push(e),l.push(h))}var o=this.mouse?0:re(this.pointerIds,b(e));if("tap"!==s||!this.pointerWasMoved&&this.downTargets[o]&&this.downTargets[o]===n){for(var a=[],l=[],h=n;h;)ee.isSet(h)&&ee(h)._iEvents[s]&&(a.push(ee(h)),l.push(h)),xe.forEachSelector(r),h=I(h);(a.length||"tap"===s)&&this.firePointers(e,t,n,a,l,s)}},firePointers:function(e,t,i,n,s,r){var o,a,l,h=this.mouse?0:re(this.pointerIds,b(e)),d={};for("doubletap"===r?d=e:(p(d,t),t!==e&&p(d,e),d.preventDefault=$,d.stopPropagation=U.prototype.stopPropagation,d.stopImmediatePropagation=U.prototype.stopImmediatePropagation,d.interaction=this,d.timeStamp=(new Date).getTime(),d.originalEvent=t,d.originalPointer=e,d.type=r,d.pointerId=b(e),d.pointerType=this.mouse?"mouse":De?u(e.pointerType)?e.pointerType:[,,"touch","pen","mouse"][e.pointerType]:"touch"),"tap"===r&&(d.dt=d.timeStamp-this.downTimes[h],a=d.timeStamp-this.tapTime,l=!!(this.prevTap&&"doubletap"!==this.prevTap.type&&this.prevTap.target===d.target&&a<500),d.double=l,this.tapTime=d.timeStamp),o=0;o<n.length&&(d.currentTarget=s[o],d.interactable=n[o],n[o].fire(d),!(d.immediatePropagationStopped||d.propagationStopped&&s[o+1]!==d.currentTarget));o++);if(l){var m={};c(m,d),m.dt=a,m.type="doubletap",this.collectEventTargets(m,t,i,"doubletap"),this.prevTap=m}else"tap"===r&&(this.prevTap=d)},validateSelector:function(e,t,i,n){for(var s=0,r=i.length;s<r;s++){var o=i[s],a=n[s],l=X(o.getAction(e,t,this,a),o);if(l&&H(o,a,l))return this.target=o,this.element=a,l}},setSnapping:function(e,t){var i,n,s,r=this.target.options[this.prepared.name].snap,o=[];if((t=t||this.snapStatus).useStatusXY)n={x:t.x,y:t.y};else{var h=A(this.target,this.element);(n=c({},e)).x-=h.x,n.y-=h.y}t.realX=n.x,t.realY=n.y,n.x=n.x-this.inertiaStatus.resumeDx,n.y=n.y-this.inertiaStatus.resumeDy;for(var u=r.targets?r.targets.length:0,d=0;d<this.snapOffsets.length;d++){var p={x:n.x-this.snapOffsets[d].x,y:n.y-this.snapOffsets[d].y};for(s=0;s<u;s++)(i=a(r.targets[s])?r.targets[s](p.x,p.y,this):r.targets[s])&&o.push({x:l(i.x)?i.x+this.snapOffsets[d].x:p.x,y:l(i.y)?i.y+this.snapOffsets[d].y:p.y,range:l(i.range)?i.range:r.range})}var m,f={target:null,inRange:!1,distance:0,range:0,dx:0,dy:0};for(s=0,u=o.length;s<u;s++){var g=(i=o[s]).range,v=i.x-n.x,_=i.y-n.y,y=ye(v,_),b=y<=g;g===1/0&&f.inRange&&f.range!==1/0&&(b=!1),f.target&&!(b?f.inRange&&g!==1/0?y/g<f.distance/f.range:g===1/0&&f.range!==1/0||y<f.distance:!f.inRange&&y<f.distance)||(g===1/0&&(b=!0),f.target=i,f.distance=y,f.range=g,f.inRange=b,f.dx=v,f.dy=_,t.range=g)}return f.target?(m=t.snappedX!==f.target.x||t.snappedY!==f.target.y,t.snappedX=f.target.x,t.snappedY=f.target.y):(m=!0,t.snappedX=NaN,t.snappedY=NaN),t.dx=f.dx,t.dy=f.dy,t.changed=m||f.inRange&&!t.locked,t.locked=f.inRange,t},setRestriction:function(e,t){var n,s,r,o,l=this.target,h=l&&l.options[this.prepared.name].restrict,d=h&&h.restriction;return d?(n=n=(t=t||this.restrictStatus).useStatusXY?{x:t.x,y:t.y}:c({},e),t.snap&&t.snap.locked&&(n.x+=t.snap.dx||0,n.y+=t.snap.dy||0),n.x-=this.inertiaStatus.resumeDx,n.y-=this.inertiaStatus.resumeDy,t.dx=0,t.dy=0,t.restricted=!1,u(d)&&!(d="parent"===d?I(this.element):"self"===d?l.getRect(this.element):P(this.element,d))?t:(a(d)&&(d=d(n.x,n.y,this.element)),i(d)&&(d=S(d)),s=d,d?"x"in d&&"y"in d?(r=Math.max(Math.min(s.x+s.width-this.restrictOffset.right,n.x),s.x+this.restrictOffset.left),o=Math.max(Math.min(s.y+s.height-this.restrictOffset.bottom,n.y),s.y+this.restrictOffset.top)):(r=Math.max(Math.min(s.right-this.restrictOffset.right,n.x),s.left+this.restrictOffset.left),o=Math.max(Math.min(s.bottom-this.restrictOffset.bottom,n.y),s.top+this.restrictOffset.top)):(r=n.x,o=n.y),t.dx=r-n.x,t.dy=o-n.y,t.changed=t.restrictedX!==r||t.restrictedY!==o,t.restricted=!(!t.dx&&!t.dy),t.restrictedX=r,t.restrictedY=o,t)):t},checkAndPreventDefault:function(e,t,i){if(t=t||this.target){var n=t.options,s=n.preventDefault;if("auto"!==s||!i||/^(input|select|textarea)$/i.test(e.target.nodeName))"always"!==s||e.preventDefault();else{if(/down|start/i.test(e.type)&&"drag"===this.prepared.name&&"xy"!==n.drag.axis)return;if(n[this.prepared.name]&&n[this.prepared.name].manualStart&&!this.interacting())return;e.preventDefault()}}},calcInertia:function(e){var t=this.target.options[this.prepared.name].inertia,i=t.resistance,n=-Math.log(t.endSpeed/e.v0)/i;e.x0=this.prevEvent.pageX,e.y0=this.prevEvent.pageY,e.t0=e.startEvent.timeStamp/1e3,e.sx=e.sy=0,e.modifiedXe=e.xe=(e.vx0-n)/i,e.modifiedYe=e.ye=(e.vy0-n)/i,e.te=n,e.lambda_v0=i/e.v0,e.one_ve_v0=1-t.endSpeed/e.v0},autoScrollMove:function(e){if(this.interacting()&&(h=this.target,u=this.prepared.name,d=h.options,/^resize/.test(u)&&(u="resize"),d[u].autoScroll&&d[u].autoScroll.enabled))if(this.inertiaStatus.active)Me.x=Me.y=0;else{var t,i,s,r,o=this.target.options[this.prepared.name].autoScroll,a=o.container||x(this.element);if(n(a))r=e.clientX<Me.margin,t=e.clientY<Me.margin,i=e.clientX>a.innerWidth-Me.margin,s=e.clientY>a.innerHeight-Me.margin;else{var l=k(a);r=e.clientX<l.left+Me.margin,t=e.clientY<l.top+Me.margin,i=e.clientX>l.right-Me.margin,s=e.clientY>l.bottom-Me.margin}Me.x=i?1:r?-1:0,Me.y=s?1:t?-1:0,Me.isScrolling||(Me.margin=o.margin,Me.speed=o.speed,Me.start(this))}var h,u,d},_updateEventTargets:function(e,t){this._eventTarget=e,this._curEventTarget=t}},U.prototype={preventDefault:t,stopImmediatePropagation:function(){this.immediatePropagationStopped=this.propagationStopped=!0},stopPropagation:function(){this.propagationStopped=!0}};for(var Ue={},$e=["dragStart","dragMove","resizeStart","resizeMove","gestureStart","gestureMove","pointerOver","pointerOut","pointerHover","selectorDown","pointerDown","pointerMove","pointerUp","pointerCancel","pointerEnd","addPointer","removePointer","recordPointer","autoScrollMove"],We=0,Ge=$e.length;We<Ge;We++){var Ye=$e[We];Ue[Ye]=J(Ye)}xe.indexOfElement=function(e,t){t=t||ce;for(var i=0;i<this.length;i++){var n=this[i];if(n.selector===e&&n._context===t||!n.selector&&n._element===e)return i}return-1},xe.get=function(e,t){return this[this.indexOfElement(e,t&&t.context)]},xe.forEachSelector=function(e){for(var t=0;t<this.length;t++){var i=this[t];if(i.selector){var n=e(i,i.selector,i._context,t,this);if(void 0!==n)return n}}},(te.prototype={setOnEvents:function(e,t){return"drop"===e?(a(t.ondrop)&&(this.ondrop=t.ondrop),a(t.ondropactivate)&&(this.ondropactivate=t.ondropactivate),a(t.ondropdeactivate)&&(this.ondropdeactivate=t.ondropdeactivate),a(t.ondragenter)&&(this.ondragenter=t.ondragenter),a(t.ondragleave)&&(this.ondragleave=t.ondragleave),a(t.ondropmove)&&(this.ondropmove=t.ondropmove)):(e="on"+e,a(t.onstart)&&(this[e+"start"]=t.onstart),a(t.onmove)&&(this[e+"move"]=t.onmove),a(t.onend)&&(this[e+"end"]=t.onend),a(t.oninertiastart)&&(this[e+"inertiastart"]=t.oninertiastart)),this},draggable:function(e){return o(e)?(this.options.drag.enabled=!1!==e.enabled,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^x$|^y$|^xy$/.test(e.axis)?this.options.drag.axis=e.axis:null===e.axis&&delete this.options.drag.axis,this):h(e)?(this.options.drag.enabled=e,this):this.options.drag},setPerAction:function(e,t){for(var i in t)i in Te[e]&&(o(t[i])?(this.options[e][i]=c(this.options[e][i]||{},t[i]),o(Te.perAction[i])&&"enabled"in Te.perAction[i]&&(this.options[e][i].enabled=!1!==t[i].enabled)):h(t[i])&&o(Te.perAction[i])?this.options[e][i].enabled=t[i]:void 0!==t[i]&&(this.options[e][i]=t[i]))},dropzone:function(e){return o(e)?(this.options.drop.enabled=!1!==e.enabled,this.setOnEvents("drop",e),/^(pointer|center)$/.test(e.overlap)?this.options.drop.overlap=e.overlap:l(e.overlap)&&(this.options.drop.overlap=Math.max(Math.min(1,e.overlap),0)),"accept"in e&&(this.options.drop.accept=e.accept),"checker"in e&&(this.options.drop.checker=e.checker),this):h(e)?(this.options.drop.enabled=e,this):this.options.drop},dropCheck:function(e,t,i,n,s,r){var o=!1;if(!(r=r||this.getRect(s)))return!!this.options.drop.checker&&this.options.drop.checker(e,t,o,this,s,i,n);var a=this.options.drop.overlap;if("pointer"===a){var h,u,d=_(e),c=A(i,n);d.x+=c.x,d.y+=c.y,h=d.x>r.left&&d.x<r.right,u=d.y>r.top&&d.y<r.bottom,o=h&&u}var p=i.getRect(n);if("center"===a){var m=p.left+p.width/2,f=p.top+p.height/2;o=m>=r.left&&m<=r.right&&f>=r.top&&f<=r.bottom}return l(a)&&(o=Math.max(0,Math.min(r.right,p.right)-Math.max(r.left,p.left))*Math.max(0,Math.min(r.bottom,p.bottom)-Math.max(r.top,p.top))/(p.width*p.height)>=a),this.options.drop.checker&&(o=this.options.drop.checker(e,t,o,this,s,i,n)),o},dropChecker:function(e){return a(e)?(this.options.drop.checker=e,this):null===e?(delete this.options.getRect,this):this.options.drop.checker},accept:function(e){return i(e)?(this.options.drop.accept=e,this):d(e)?(this.options.drop.accept=e,this):null===e?(delete this.options.drop.accept,this):this.options.drop.accept},resizable:function(e){return o(e)?(this.options.resize.enabled=!1!==e.enabled,this.setPerAction("resize",e),this.setOnEvents("resize",e),/^x$|^y$|^xy$/.test(e.axis)?this.options.resize.axis=e.axis:null===e.axis&&(this.options.resize.axis=Te.resize.axis),h(e.preserveAspectRatio)?this.options.resize.preserveAspectRatio=e.preserveAspectRatio:h(e.square)&&(this.options.resize.square=e.square),this):h(e)?(this.options.resize.enabled=e,this):this.options.resize},squareResize:function(e){return h(e)?(this.options.resize.square=e,this):null===e?(delete this.options.resize.square,this):this.options.resize.square},gesturable:function(e){return o(e)?(this.options.gesture.enabled=!1!==e.enabled,this.setPerAction("gesture",e),this.setOnEvents("gesture",e),this):h(e)?(this.options.gesture.enabled=e,this):this.options.gesture},autoScroll:function(e){return o(e)?e=c({actions:["drag","resize"]},e):h(e)&&(e={actions:["drag","resize"],enabled:e}),this.setOptions("autoScroll",e)},snap:function(e){var t=this.setOptions("snap",e);return t===this?this:t.drag},setOptions:function(e,t){var i,n=t&&r(t.actions)?t.actions:["drag"];if(o(t)||h(t)){for(i=0;i<n.length;i++){var s=/resize/.test(n[i])?"resize":n[i];if(o(this.options[s])){var a=this.options[s][e];o(t)?(c(a,t),a.enabled=!1!==t.enabled,"snap"===e&&("grid"===a.mode?a.targets=[ee.createSnapGrid(c({offset:a.gridOffset||{x:0,y:0}},a.grid||{}))]:"anchor"===a.mode?a.targets=a.anchors:"path"===a.mode&&(a.targets=a.paths),"elementOrigin"in t&&(a.relativePoints=[t.elementOrigin]))):h(t)&&(a.enabled=t)}}return this}var l={},u=["drag","resize","gesture"];for(i=0;i<u.length;i++)e in Te[u[i]]&&(l[u[i]]=this.options[u[i]][e]);return l},inertia:function(e){var t=this.setOptions("inertia",e);return t===this?this:t.drag},getAction:function(e,t,i,n){var s=this.defaultActionChecker(e,i,n);return this.options.actionChecker?this.options.actionChecker(e,t,s,this,n,i):s},defaultActionChecker:Y,actionChecker:function(e){return a(e)?(this.options.actionChecker=e,this):null===e?(delete this.options.actionChecker,this):this.options.actionChecker},getRect:function(e){return e=e||this._element,this.selector&&!i(e)&&(e=this._context.querySelector(this.selector)),S(e)},rectChecker:function(e){return a(e)?(this.getRect=e,this):null===e?(delete this.options.getRect,this):this.getRect},styleCursor:function(e){return h(e)?(this.options.styleCursor=e,this):null===e?(delete this.options.styleCursor,this):this.options.styleCursor},preventDefault:function(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):h(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault},origin:function(e){return d(e)?(this.options.origin=e,this):o(e)?(this.options.origin=e,this):this.options.origin},deltaSource:function(e){return"page"===e||"client"===e?(this.options.deltaSource=e,this):this.options.deltaSource},restrict:function(e){if(!o(e))return this.setOptions("restrict",e);for(var t,i=["drag","resize","gesture"],n=0;n<i.length;n++){var s=i[n];if(s in e){var r=c({actions:[s],restriction:e[s]},e);t=this.setOptions("restrict",r)}}return t},context:function(){return this._context},_context:ce,ignoreFrom:function(e){return d(e)?(this.options.ignoreFrom=e,this):i(e)?(this.options.ignoreFrom=e,this):this.options.ignoreFrom},allowFrom:function(e){return d(e)?(this.options.allowFrom=e,this):i(e)?(this.options.allowFrom=e,this):this.options.allowFrom},element:function(){return this._element},fire:function(e){if(!e||!e.type||!oe(Le,e.type))return this;var t,i,n,s="on"+e.type;if(e.type in this._iEvents)for(i=0,n=(t=this._iEvents[e.type]).length;i<n&&!e.immediatePropagationStopped;i++)t[i].name,t[i](e);if(a(this[s])&&(this[s].name,this[s](e)),e.type in ze&&(t=ze[e.type]))for(i=0,n=t.length;i<n&&!e.immediatePropagationStopped;i++)t[i].name,t[i](e);return this},on:function(e,t,i){var n;if(u(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),r(e)){for(n=0;n<e.length;n++)this.on(e[n],t,i);return this}if(o(e)){for(var s in e)this.on(s,e[s],t);return this}if("wheel"===e&&(e=Fe),i=!!i,oe(Le,e))e in this._iEvents?this._iEvents[e].push(t):this._iEvents[e]=[t];else if(this.selector){if(!Ce[e])for(Ce[e]={selectors:[],contexts:[],listeners:[]},n=0;n<we.length;n++)Qe.add(we[n],e,K),Qe.add(we[n],e,Z,!0);var a,l=Ce[e];for(a=l.selectors.length-1;a>=0&&(l.selectors[a]!==this.selector||l.contexts[a]!==this._context);a--);-1===a&&(a=l.selectors.length,l.selectors.push(this.selector),l.contexts.push(this._context),l.listeners.push([])),l.listeners[a].push([t,i])}else Qe.add(this._element,e,t,i);return this},off:function(e,t,i){var n;if(u(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),r(e)){for(n=0;n<e.length;n++)this.off(e[n],t,i);return this}if(o(e)){for(var s in e)this.off(s,e[s],t);return this}var a,l=-1;if(i=!!i,"wheel"===e&&(e=Fe),oe(Le,e))(a=this._iEvents[e])&&-1!==(l=re(a,t))&&this._iEvents[e].splice(l,1);else if(this.selector){var h=Ce[e],d=!1;if(!h)return this;for(l=h.selectors.length-1;l>=0;l--)if(h.selectors[l]===this.selector&&h.contexts[l]===this._context){var c=h.listeners[l];for(n=c.length-1;n>=0;n--){var p=c[n][0],m=c[n][1];if(p===t&&m===i){c.splice(n,1),c.length||(h.selectors.splice(l,1),h.contexts.splice(l,1),h.listeners.splice(l,1),Qe.remove(this._context,e,K),Qe.remove(this._context,e,Z,!0),h.selectors.length||(Ce[e]=null)),d=!0;break}}if(d)break}}else Qe.remove(this._element,e,t,i);return this},set:function(e){o(e)||(e={}),this.options=c({},Te.base);var t,i=["drag","drop","resize","gesture"],n=["draggable","dropzone","resizable","gesturable"],s=c(c({},Te.perAction),e[r]||{});for(t=0;t<i.length;t++){var r=i[t];this.options[r]=c({},Te[r]),this.setPerAction(r,s),this[n[t]](e[r])}var a=["accept","actionChecker","allowFrom","deltaSource","dropChecker","ignoreFrom","origin","preventDefault","rectChecker","styleCursor"];for(t=0,Ge=a.length;t<Ge;t++){var l=a[t];this.options[l]=Te.base[l],l in e&&this[l](e[l])}return this},unset:function(){if(Qe.remove(this._element,"all"),u(this.selector))for(var e in Ce)for(var t=Ce[e],i=0;i<t.selectors.length;i++){t.selectors[i]===this.selector&&t.contexts[i]===this._context&&(t.selectors.splice(i,1),t.contexts.splice(i,1),t.listeners.splice(i,1),t.selectors.length||(Ce[e]=null)),Qe.remove(this._context,e,K),Qe.remove(this._context,e,Z,!0);break}else Qe.remove(this,"all"),this.options.styleCursor&&(this._element.style.cursor="");return this.dropzone(!1),xe.splice(re(xe,this),1),ee}}).snap=ie(te.prototype.snap,"Interactable#snap is deprecated. See the new documentation for snapping at http://interactjs.io/docs/snapping"),te.prototype.restrict=ie(te.prototype.restrict,"Interactable#restrict is deprecated. See the new documentation for resticting at http://interactjs.io/docs/restriction"),te.prototype.inertia=ie(te.prototype.inertia,"Interactable#inertia is deprecated. See the new documentation for inertia at http://interactjs.io/docs/inertia"),te.prototype.autoScroll=ie(te.prototype.autoScroll,"Interactable#autoScroll is deprecated. See the new documentation for autoScroll at http://interactjs.io/docs/#autoscroll"),te.prototype.squareResize=ie(te.prototype.squareResize,"Interactable#squareResize is deprecated. See http://interactjs.io/docs/#resize-square"),te.prototype.accept=ie(te.prototype.accept,"Interactable#accept is deprecated. use Interactable#dropzone({ accept: target }) instead"),te.prototype.dropChecker=ie(te.prototype.dropChecker,"Interactable#dropChecker is deprecated. use Interactable#dropzone({ dropChecker: checkerFunction }) instead"),te.prototype.context=ie(te.prototype.context,"Interactable#context as a method is deprecated. It will soon be a DOM Node instead"),ee.isSet=function(e,t){return-1!==xe.indexOfElement(e,t&&t.context)},ee.on=function(e,t,i){if(u(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),r(e)){for(var n=0;n<e.length;n++)ee.on(e[n],t,i);return ee}if(o(e)){for(var s in e)ee.on(s,e[s],t);return ee}return oe(Le,e)?ze[e]?ze[e].push(t):ze[e]=[t]:Qe.add(ce,e,t,i),ee},ee.off=function(e,t,i){if(u(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),r(e)){for(var n=0;n<e.length;n++)ee.off(e[n],t,i);return ee}if(o(e)){for(var s in e)ee.off(s,e[s],t);return ee}var a;oe(Le,e)?e in ze&&-1!==(a=re(ze[e],t))&&ze[e].splice(a,1):Qe.remove(ce,e,t,i);return ee},ee.enableDragging=ie(function(e){return null!==e&&void 0!==e?(Ie.drag=e,ee):Ie.drag},"interact.enableDragging is deprecated and will soon be removed."),ee.enableResizing=ie(function(e){return null!==e&&void 0!==e?(Ie.resize=e,ee):Ie.resize},"interact.enableResizing is deprecated and will soon be removed."),ee.enableGesturing=ie(function(e){return null!==e&&void 0!==e?(Ie.gesture=e,ee):Ie.gesture},"interact.enableGesturing is deprecated and will soon be removed."),ee.eventTypes=Le,ee.debug=function(){var e=ke[0]||new V;return{interactions:ke,target:e.target,dragging:e.dragging,resizing:e.resizing,gesturing:e.gesturing,prepared:e.prepared,matches:e.matches,matchElements:e.matchElements,prevCoords:e.prevCoords,startCoords:e.startCoords,pointerIds:e.pointerIds,pointers:e.pointers,addPointer:Ue.addPointer,removePointer:Ue.removePointer,recordPointer:Ue.recordPointer,snap:e.snapStatus,restrict:e.restrictStatus,inertia:e.inertiaStatus,downTime:e.downTimes[0],downEvent:e.downEvent,downPointer:e.downPointer,prevEvent:e.prevEvent,Interactable:te,interactables:xe,pointerIsDown:e.pointerIsDown,defaultOptions:Te,defaultActionChecker:Y,actionCursors:Pe,dragMove:Ue.dragMove,resizeMove:Ue.resizeMove,gestureMove:Ue.gestureMove,pointerUp:Ue.pointerUp,pointerDown:Ue.pointerDown,pointerMove:Ue.pointerMove,pointerHover:Ue.pointerHover,eventTypes:Le,events:Qe,globalEvents:ze,delegatedEvents:Ce,prefixedPropREs:Je}},ee.getPointerAverage=T,ee.getTouchBBox=M,ee.getTouchDistance=E,ee.getTouchAngle=D,ee.getElementRect=S,ee.getElementClientRect=k,ee.matchesSelector=ae,ee.closest=P,ee.margin=ie(function(e){return l(e)?(Ae=e,ee):Ae},"interact.margin is deprecated. Use interact(target).resizable({ margin: number }); instead."),ee.supportsTouch=function(){return Ee},ee.supportsPointerEvent=function(){return De},ee.stop=function(e){for(var t=ke.length-1;t>=0;t--)ke[t].stop(e);return ee},ee.dynamicDrop=function(e){return h(e)?(Se=e,ee):Se},ee.pointerMoveTolerance=function(e){return l(e)?(Ne=e,this):Ne},ee.maxInteractions=function(e){return l(e)?(je=e,this):je},ee.createSnapGrid=function(e){return function(t,i){var n=0,s=0;o(e.offset)&&(n=e.offset.x,s=e.offset.y);var r=Math.round((t-n)/e.x),a=Math.round((i-s)/e.y);return{x:r*e.x+n,y:a*e.y+s,range:e.range}}},se(ce),Be in Element.prototype&&a(Element.prototype[Be])||(ue=function(e,t,i){for(var n=0,s=(i=i||e.parentNode.querySelectorAll(t)).length;n<s;n++)if(i[n]===e)return!0;return!1}),function(){for(var t=0,i=["ms","moz","webkit","o"],n=0;n<i.length&&!e.requestAnimationFrame;++n)He=e[i[n]+"RequestAnimationFrame"],Ve=e[i[n]+"CancelAnimationFrame"]||e[i[n]+"CancelRequestAnimationFrame"];He||(He=function(e){var i=(new Date).getTime(),n=Math.max(0,16-(i-t)),s=setTimeout(function(){e(i+n)},n);return t=i+n,s}),Ve||(Ve=function(e){clearTimeout(e)})}(),"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=ee),exports.interact=ee):"function"==typeof define&&define.amd?define("interact",function(){return ee}):e.interact=ee}var Xe}("undefined"==typeof window?void 0:window),function(e){e.fn.businessHours=function(t){function i(e,t,i){e.val(t),i&&e.prop("readonly",!0)}var n={preInit:function(){},postInit:function(){},inputDisabled:!1,checkedColorClass:"WorkingDayState",uncheckedColorClass:"RestDayState",colorBoxValContainerClass:"colorBoxContainer",weekdays:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],operationTime:[{},{},{},{},{},{isActive:!1},{isActive:!1}],defaultOperationTimeFrom:"9:00",defaultOperationTimeTill:"18:00",defaultActive:!0,containerTmpl:'<div class="clean"/>',dayTmpl:'<div class="dayContainer"><div data-original-title="" class="colorBox"><input type="checkbox" class="invisible operationState"/></div><div class="weekday"></div><div class="operationDayTimeContainer"><div class="operationTime"><input type="text" name="startTime" class="mini-time operationTimeFrom" value=""/></div><div class="operationTime"><input type="text" name="endTime" class="mini-time operationTimeTill" value=""/></div></div></div>'},s=e(this);return{getValueOrDefault:function(e,t){return"undefined"===jQuery.type(e)||null==e?t:e},init:function(t){return this.options=e.extend(n,t),s.html(""),"function"==typeof this.options.preInit&&this.options.preInit(),this.initView(this.options),"function"==typeof this.options.postInit&&this.options.postInit(),{serialize:function(){var t=[];return s.find(".operationState").each(function(i,n){var s=e(n).prop("checked"),r=e(n).parents(".dayContainer");t.push({isActive:s,timeFrom:s?r.find("[name='startTime']").val():null,timeTill:s?r.find("[name='endTime']").val():null})}),t}}},initView:function(t){for(var n=[t.checkedColorClass,t.uncheckedColorClass],r=s.append(e(t.containerTmpl)),o=this,a=0;a<t.weekdays.length;a++)r.append(t.dayTmpl);e.each(t.weekdays,function(e,n){var r=t.operationTime[e],a=s.find(".dayContainer").eq(e);a.find(".weekday").html(n);var l=o.getValueOrDefault(r.isActive,t.defaultActive);a.find(".operationState").prop("checked",l);var h=o.getValueOrDefault(r.timeFrom,t.defaultOperationTimeFrom);i(a.find('[name="startTime"]'),h,t.inputDisabled);var u=o.getValueOrDefault(r.timeTill,t.defaultOperationTimeTill);i(a.find('[name="endTime"]'),u,t.inputDisabled)}),s.find(".operationState").change(function(){var i=e(this),s=t.checkedColorClass,r=!1;i.prop("checked")||(s=t.uncheckedColorClass,r=!0),i.parents(".colorBox").removeClass(n.join(" ")).addClass(s),i.parents(".dayContainer").find(".operationTime").toggle(!r)}).trigger("change"),t.inputDisabled||s.find(".colorBox").on("click",function(){var t=e(this).find(".operationState");t.prop("checked",!t.prop("checked")).trigger("change")})}}.init(t)}}(jQuery),jQuery.fn.caret=function(e){var t=this[0],i="true"===t.contentEditable;if(0==arguments.length){if(window.getSelection)return i?(t.focus(),(s=(n=window.getSelection().getRangeAt(0)).cloneRange()).selectNodeContents(t),s.setEnd(n.endContainer,n.endOffset),s.toString().length):t.selectionStart;if(document.selection){if(t.focus(),i){var n=document.selection.createRange();return(s=document.body.createTextRange()).moveToElementText(t),s.setEndPoint("EndToEnd",n),s.text.length}e=0;var s,r=t.createTextRange(),o=(s=document.selection.createRange().duplicate()).getBookmark();for(r.moveToBookmark(o);0!==r.moveStart("character",-1);)e++;return e}return t.selectionStart?t.selectionStart:0}return-1==e&&(e=this[i?"text":"val"]().length),window.getSelection?i?(t.focus(),window.getSelection().collapse(t.firstChild,e)):t.setSelectionRange(e,e):document.body.createTextRange&&(i?((r=document.body.createTextRange()).moveToElementText(t),r.moveStart("character",e),r.collapse(!0),r.select()):((r=t.createTextRange()).move("character",e),r.select())),i||t.focus(),e},function(e){e.fn.tagEditorInput=function(){var t=e(this),i=parseInt(t.css("fontSize")),n=e("<span/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:t.css("fontSize"),fontFamily:t.css("fontFamily"),fontWeight:t.css("fontWeight"),letterSpacing:t.css("letterSpacing"),whiteSpace:"nowrap"});return n.insertAfter(t),t.bind("keydown keyup focus update",function(){var e=t.val(),s=n.text(e).width()+i;t.css({"margin-right":-i,width:e.length>4?s:s+i})})},e.fn.tagEditor=function(t,i,n){function s(e){var t=e.match(/{{\s*[\w\.]+\s*}}|[^{}]+/g);return t||[]}function r(e){return!!e&&!!e.match(/{{\s*[\w\.]+\s*}}/)}function o(t){return e("<div/>").text(t).html()}var a,l=e.extend({},e.fn.tagEditor.defaults,t);if("string"==typeof t){var h=[];return this.each(function(){var s=e(this),o=s.data("options"),a=s.next(".tag-editor");if("getTags"===t)h.push({field:s[0],editor:a,tags:a.data("tags")});else if("addTag"===t){if(o.maxTags&&a.data("tags").length>=o.maxTags)return!1;r(i)?e('<li><div class="tag-editor-tag"></div><div class="tag-editor-delete"><i></i></div></li>').appendTo(a).find(".tag-editor-tag").html('<input type="text" maxlength="'+o.maxLength+'">').addClass("active").find("input").val(i).blur():e('<li><div class="tag-editor-tag normal"></div></li>').appendTo(a).find(".tag-editor-tag").html('<input type="text" maxlength="'+o.maxLength+'">').addClass("active").find("input").val(i).blur(),n?e(".placeholder",a).remove():a.click()}}),"getTags"===t?h:this}return window.getSelection&&e(document).off("keydown.tag-editor").on("keydown.tag-editor",function(t){if(8===t.which||46===t.which||t.ctrlKey&&88===t.which){try{var i=getSelection(),n="INPUT"!==document.activeElement.tagName?e(i.getRangeAt(0).startContainer.parentNode).closest(".tag-editor"):0}catch(t){n=0}if(i.rangeCount>0&&n&&n.length){for(var s=[],r=i.toString().split(n.prev().data("options").dregex),o=0;o<r.length;o++){var a=e.trim(r[o]);a&&s.push(a)}return e(".tag-editor-tag",n).each(function(){~e.inArray(e(this).text(),s)&&e(this).closest("li").find(".tag-editor-delete").click()}),!1}}}),this.each(function(){var t=e(this),i=[],n=e("<ul "+(l.clickDelete?'oncontextmenu="return false;" ':"")+'class="tag-editor '+t.attr("class")+'"></ul>').insertAfter(t);t.addClass("tag-editor-hidden-src").data("options",l).on("focus.tag-editor",function(){n.click()}),n.append('<li style="width:1px">&nbsp;</li>');var h,u,d='<li><div class="tag-editor-tag normal"></div></div></li>';function c(){!l.placeholder||i.length||e(".deleted, .placeholder, input",n).length||n.append('<li class="placeholder"><div>'+l.placeholder+"</div></li>")}function p(r){var o=i.join("");i=s((i=e(".tag-editor-tag:not(.deleted)",n).map(function(t,i){var n=e(this).hasClass("active")?e(this).find("input").val():e(i).text();if(n)return n}).get()).join("")),n.data("tags",i),t.val(i.join("")),r||o!==i.join("")&&l.onChange(t,n,i),c()}function m(e){var a,h=e.closest("li"),u=s(e.val()),d=e.data("old_tag"),c=i.slice(0),m=!1;if(u){for(var f=0;f<u.length;f++)if(v=u[f].slice(0,l.maxLength),a=l.beforeTagSave(t,n,c,d,v),v=a||v,!1!==a&&v&&(c.push(v),r(v)?h.before('<li><div class="tag-editor-tag">'+o(v)+'</div><div class="tag-editor-delete"><i></i></div></li>'):h.before('<li><div class="tag-editor-tag normal">'+o(v)+"</div></li>"),l.maxTags&&c.length>=l.maxTags)){m=!0;break}e.attr("maxlength",l.maxLength).removeData("old_tag").val(""),m?e.blur():e.focus(),p()}}n.click(function(t,i){var s,r,o=99999;if(!window.getSelection||getSelection())return l.maxTags&&n.data("tags").length>=l.maxTags?(n.find("input").blur(),!1):(a=!0,e("input:focus",n).blur(),!!a&&(a=!0,e(".placeholder",n).remove(),i&&i.length?r="before":e(".tag-editor-tag",n).each(function(){var n=e(this),a=n.offset(),l=a.left,h=a.top;t.pageY>=h&&t.pageY<=h+n.height()&&(t.pageX<l?(r="before",s=l-t.pageX):(r="after",s=t.pageX-l-n.width()),s<o&&(o=s,i=n))}),"before"===r?e(d).insertBefore(i.closest("li")).find(".tag-editor-tag").click():"after"===r?e(d).insertAfter(i.closest("li")).find(".tag-editor-tag").click():e(d).appendTo(n).find(".tag-editor-tag").click(),!1))}),n.on("click",".tag-editor-delete",function(s){if(e(this).prev().hasClass("active"))return e(this).closest("li").find("input").caret(-1),!1;var r=e(this).closest("li"),o=r.find(".tag-editor-tag");return!1!==l.beforeTagDelete(t,n,i,o.text())&&(o.addClass("deleted").animate({width:0,opacity:0},l.animateDelete,function(){r.remove(),c()}),p(),!1)}),l.clickDelete&&n.on("mousedown",".tag-editor-tag",function(s){if(s.ctrlKey||s.which>1){var r=e(this).closest("li"),o=r.find(".tag-editor-tag");return!1!==l.beforeTagDelete(t,n,i,o.text())&&(o.addClass("deleted").animate({width:0,opacity:0},l.animateDelete,function(){r.remove(),c()}),p(),!1)}}),n.on("click",".tag-editor-tag",function(t){if(l.clickDelete&&(t.ctrlKey||t.which>1))return!1;if(!e(this).hasClass("active")){var i=e(this).text(),s=Math.abs((e(this).offset().left-t.pageX)/e(this).width()),r=parseInt(i.length*s),a=e(this).html('<input type="text" maxlength="'+l.maxLength+'" value="'+o(i)+'">').addClass("active").find("input");if(a.data("old_tag",i).tagEditorInput().focus().caret(r),l.autocomplete){var h=e.extend({},l.autocomplete),u="select"in h?l.autocomplete.select:"";h.select=function(t,i){u&&u(t,i),setTimeout(function(){n.trigger("click",[e(".active",n).find("input").closest("li").next("li").find(".tag-editor-tag")])},20)},a.autocomplete(h)}}return!1}),n.on("blur","input",function(h){h.stopPropagation();var u=e(this),d=u.data("old_tag"),m=s(u.val()),f=m.join("");if(f)if(f!==d){var g=l.beforeTagSave(t,n,i,d,m);if(m=g||m,!1===g){if(d)return u.val(d).focus(),a=!1,void p();try{u.closest("li").remove()}catch(h){}d&&p()}for(var v=[],_=0;_<m.length;_++)r(m[_])?v.push('<div class="tag-editor-tag">'+o(m[_])+'</div><div class="tag-editor-delete"><i></i></div>'):v.push('<div class="tag-editor-tag normal">'+o(m[_])+"</div>");u.parent().parent().replaceWith("<li>"+v.join("</li><li>")+"</li>"),p()}else u.parent().html(o(m.join(""))).removeClass("active");else{if(d&&!1===l.beforeTagDelete(t,n,i,d))return u.val(d).focus(),a=!1,void p();try{u.closest("li").remove()}catch(h){}d&&p()}c()}),n.on("paste","input",function(t){e(this).removeAttr("maxlength"),h=e(this),setTimeout(function(){m(h)},30)}),n.on("keypress","input",function(t){" "===String.fromCharCode(t.which)&&(u=e(this),setTimeout(function(){m(u)},20))}),n.on("keydown","input",function(t){var i,s,r=e(this);if((37===t.which||!l.autocomplete&&38===t.which)&&!r.caret()||8===t.which&&!r.val())return(s=r.closest("li").prev("li").find(".tag-editor-tag")).length?s.click().find("input").caret(-1):!r.val()||l.maxTags&&n.data("tags").length>=l.maxTags||e(d).before(r.closest("li")).find(".tag-editor-tag").click(),!1;if((39===t.which||!l.autocomplete&&40===t.which)&&r.caret()===r.val().length)return(i=r.closest("li").next("li").find(".tag-editor-tag")).length?i.click().find("input").caret(0):r.val()&&n.click(),!1;if(!(46!==t.which||e.trim(r.val())&&r.caret()!==r.val().length))return(i=r.closest("li").next("li").find(".tag-editor-tag")).length?i.click().find("input").caret(0):r.val()&&n.click(),!1;if(13===t.which)return n.trigger("click",[r.closest("li").next("li").find(".tag-editor-tag")]),l.maxTags&&n.data("tags").length>=l.maxTags&&n.find("input").blur(),!1;if(36!==t.which||r.caret()){if(35===t.which&&r.caret()===r.val().length)n.find(".tag-editor-tag").last().click();else if(27===t.which)return r.val(r.data("old_tag")?r.data("old_tag"):"").blur(),!1}else n.find(".tag-editor-tag").first().click()});for(var f=l.initialTags.length?l.initialTags:s(t.val()),g=0;g<f.length&&!(l.maxTags&&g>=l.maxTags);g++){var v=f[g];v&&(i.push(v),r(v)?n.append('<li><div class="tag-editor-tag">'+o(v)+'</div><div class="tag-editor-delete"><i></i></div></li>'):n.append('<li><div class="tag-editor-tag normal">'+o(v)+"</div></li>"))}p(!0),l.sortable&&e.fn.sortable&&n.sortable({distance:5,cancel:"input",helper:"clone",update:function(){p()}})})},e.fn.tagEditor.defaults={initialTags:[],maxTags:0,maxLength:256,placeholder:"",clickDelete:!1,animateDelete:100,sortable:!0,autocomplete:null,onChange:function(e,t,i){},beforeTagSave:function(){},beforeTagDelete:function(){}}}(jQuery),function(e){"object"==typeof exports&&exports&&"object"==typeof module&&module&&module.exports===exports?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(e){var t=e[0];return t.offsetWidth>0&&t.offsetHeight>0}function i(t){if(t.minTime&&(t.minTime=y(t.minTime)),t.maxTime&&(t.maxTime=y(t.maxTime)),t.durationTime&&"function"!=typeof t.durationTime&&(t.durationTime=y(t.durationTime)),"now"==t.scrollDefault)t.scrollDefault=function(){return t.roundingFunction(y(new Date),t)};else if(t.scrollDefault&&"function"!=typeof t.scrollDefault){var i=t.scrollDefault;t.scrollDefault=function(){return t.roundingFunction(y(i),t)}}else t.minTime&&(t.scrollDefault=function(){return t.roundingFunction(t.minTime,t)});if("string"===e.type(t.timeFormat)&&t.timeFormat.match(/[gh]/)&&(t._twelveHourTime=!0),!1===t.showOnFocus&&-1!=t.showOn.indexOf("focus")&&t.showOn.splice(t.showOn.indexOf("focus"),1),t.disableTimeRanges.length>0){for(var n in t.disableTimeRanges)t.disableTimeRanges[n]=[y(t.disableTimeRanges[n][0]),y(t.disableTimeRanges[n][1])];t.disableTimeRanges=t.disableTimeRanges.sort(function(e,t){return e[0]-t[0]});for(n=t.disableTimeRanges.length-1;n>0;n--)t.disableTimeRanges[n][0]<=t.disableTimeRanges[n-1][1]&&(t.disableTimeRanges[n-1]=[Math.min(t.disableTimeRanges[n][0],t.disableTimeRanges[n-1][0]),Math.max(t.disableTimeRanges[n][1],t.disableTimeRanges[n-1][1])],t.disableTimeRanges.splice(n,1))}return t}function n(t){var i=t.data("timepicker-settings"),n=t.data("timepicker-list");if(n&&n.length&&(n.remove(),t.data("timepicker-list",!1)),i.useSelect)var o=n=e("<select />",{class:"ui-timepicker-select"});else n=e("<ul />",{class:"ui-timepicker-list"}),(o=e("<div />",{class:"ui-timepicker-wrapper",tabindex:-1})).css({display:"none",position:"absolute"}).append(n);if(i.noneOption)if(!0===i.noneOption&&(i.noneOption=i.useSelect?"Time...":"None"),e.isArray(i.noneOption)){for(var l in i.noneOption)if(parseInt(l,10)==l){var u=s(i.noneOption[l],i.useSelect);n.append(u)}}else{u=s(i.noneOption,i.useSelect);n.append(u)}i.className&&o.addClass(i.className),null===i.minTime&&null===i.durationTime||!i.showDuration||("function"==typeof i.step||i.step,o.addClass("ui-timepicker-with-duration"),o.addClass("ui-timepicker-step-"+i.step));var d=i.minTime;"function"==typeof i.durationTime?d=y(i.durationTime()):null!==i.durationTime&&(d=i.durationTime);var p=null!==i.minTime?i.minTime:0,m=null!==i.maxTime?i.maxTime:p+w-1;m<p&&(m+=w),m===w-1&&"string"===e.type(i.timeFormat)&&i.show2400&&(m=w);var f=i.disableTimeRanges,x=0,k=f.length,C=i.step;"function"!=typeof C&&(C=function(){return i.step});l=p;for(var T=0;l<=m;l+=60*C(++T)){var M,E=l,D=_(E,i);if(i.useSelect)(M=e("<option />",{value:D})).text(D);else(M=e("<li />")).addClass(E%w<w/2?"ui-timepicker-am":"ui-timepicker-pm"),M.data("time",b(E,i)),M.text(D);if((null!==i.minTime||null!==i.durationTime)&&i.showDuration){var A=v(l-d,i.step);if(i.useSelect)M.text(M.text()+" ("+A+")");else{var N=e("<span />",{class:"ui-timepicker-duration"});N.text(" ("+A+")"),M.append(N)}}x<k&&(E>=f[x][1]&&(x+=1),f[x]&&E>=f[x][0]&&E<f[x][1]&&(i.useSelect?M.prop("disabled",!0):M.addClass("ui-timepicker-disabled"))),n.append(M)}if(o.data("timepicker-input",t),t.data("timepicker-list",o),i.useSelect)t.val()&&n.val(r(y(t.val()),i)),n.on("focus",function(){e(this).data("timepicker-input").trigger("showTimepicker")}),n.on("blur",function(){e(this).data("timepicker-input").trigger("hideTimepicker")}),n.on("change",function(){c(t,e(this).val(),"select")}),c(t,n.val(),"initial"),t.hide().after(n);else{var O=i.appendTo;"string"==typeof O?O=e(O):"function"==typeof O&&(O=O(t)),O.append(o),h(t,n),n.on("mousedown click","li",function(i){t.off("focus.timepicker"),t.on("focus.timepicker-ie-hack",function(){t.off("focus.timepicker-ie-hack"),t.on("focus.timepicker",S.show)}),a(t)||t[0].focus(),n.find("li").removeClass("ui-timepicker-selected"),e(this).addClass("ui-timepicker-selected"),g(t)&&(t.trigger("hideTimepicker"),n.on("mouseup.timepicker click.timepicker","li",function(e){n.off("mouseup.timepicker click.timepicker"),o.hide()}))})}}function s(t,i){var n,s,r;return"object"==typeof t?(n=t.label,s=t.className,r=t.value):"string"==typeof t?(n=t,r=""):e.error("Invalid noneOption value"),i?e("<option />",{value:r,class:s,text:n}):e("<li />",{class:s,text:n}).data("time",String(r))}function r(e,t){if(null!==(e=t.roundingFunction(e,t)))return _(e,t)}function o(t){if(t.target!=window){var i=e(t.target);i.closest(".ui-timepicker-input").length||i.closest(".ui-timepicker-wrapper").length||(S.hide(),e(document).unbind(".ui-timepicker"),e(window).unbind(".ui-timepicker"))}}function a(e){var t=e.data("timepicker-settings");return(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&t.disableTouchKeyboard}function l(t,i,n){if(!n&&0!==n)return!1;var s=t.data("timepicker-settings"),r=!1;n=s.roundingFunction(n,s);return i.find("li").each(function(t,i){var s=e(i);if("number"==typeof s.data("time"))return s.data("time")==n?(r=s,!1):void 0}),r}function h(e,t){t.find("li").removeClass("ui-timepicker-selected");var i=e.data("timepicker-settings"),n=y(d(e),i);if(null!==n){var s=l(e,t,n);if(s){var r=s.offset().top-t.offset().top;(r+s.outerHeight()>t.outerHeight()||r<0)&&t.scrollTop(t.scrollTop()+s.position().top-s.outerHeight()),(i.forceRoundTime||s.data("time")===n)&&s.addClass("ui-timepicker-selected")}}}function u(t,i){if("timepicker"!=i){var n=e(this);if(""===this.value)return void c(n,null,i);if(!n.is(":focus")||t&&"change"==t.type){var s=n.data("timepicker-settings"),r=y(this.value,s);if(null===r)return void n.trigger("timeFormatError");var o=!1;if(null!==s.minTime&&null!==s.maxTime&&(r<s.minTime||r>s.maxTime)&&(o=!0),e.each(s.disableTimeRanges,function(){if(r>=this[0]&&r<this[1])return o=!0,!1}),s.forceRoundTime){var a=s.roundingFunction(r,s);a!=r&&(r=a,i=null)}var l=_(r,s);o?(c(n,l,"error")||t&&"change"==t.type)&&n.trigger("timeRangeError"):c(n,l,i)}}}function d(e){return e.is("input")?e.val():e.data("ui-timepicker-value")}function c(e,t,i){if(e.is("input")){e.val(t);var n=e.data("timepicker-settings");n.useSelect&&"select"!=i&&e.data("timepicker-list").val(r(y(t),n))}return e.data("ui-timepicker-value")!=t?(e.data("ui-timepicker-value",t),"select"==i?e.trigger("selectTime").trigger("changeTime").trigger("change","timepicker"):-1==["error","initial"].indexOf(i)&&e.trigger("changeTime"),!0):(-1==["error","initial"].indexOf(i)&&e.trigger("selectTime"),!1)}function p(e){switch(e.keyCode){case 13:case 9:return;default:e.preventDefault()}}function m(i){var n=e(this),s=n.data("timepicker-list");if(!s||!t(s)){if(40!=i.keyCode)return!0;S.show.call(n.get(0)),s=n.data("timepicker-list"),a(n)||n.focus()}switch(i.keyCode){case 13:return g(n)&&(u.call(n.get(0),{type:"change"}),S.hide.apply(this)),i.preventDefault(),!1;case 38:var r=s.find(".ui-timepicker-selected");return r.length?r.is(":first-child")||(r.removeClass("ui-timepicker-selected"),r.prev().addClass("ui-timepicker-selected"),r.prev().position().top<r.outerHeight()&&s.scrollTop(s.scrollTop()-r.outerHeight())):(s.find("li").each(function(t,i){if(e(i).position().top>0)return r=e(i),!1}),r.addClass("ui-timepicker-selected")),!1;case 40:return 0===(r=s.find(".ui-timepicker-selected")).length?(s.find("li").each(function(t,i){if(e(i).position().top>0)return r=e(i),!1}),r.addClass("ui-timepicker-selected")):r.is(":last-child")||(r.removeClass("ui-timepicker-selected"),r.next().addClass("ui-timepicker-selected"),r.next().position().top+2*r.outerHeight()>s.outerHeight()&&s.scrollTop(s.scrollTop()+r.outerHeight())),!1;case 27:s.find("li").removeClass("ui-timepicker-selected"),S.hide();break;case 9:S.hide();break;default:return!0}}function f(i){var n=e(this),s=n.data("timepicker-list"),r=n.data("timepicker-settings");if(!s||!t(s)||r.disableTextInput)return!0;if("paste"!==i.type&&"cut"!==i.type)switch(i.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:r.typeaheadHighlight?h(n,s):s.hide()}else setTimeout(function(){r.typeaheadHighlight?h(n,s):s.hide()},0)}function g(e){var t=e.data("timepicker-settings"),i=null,n=e.data("timepicker-list").find(".ui-timepicker-selected");return!n.hasClass("ui-timepicker-disabled")&&(n.length&&(i=n.data("time")),null!==i&&("string"!=typeof i&&(i=_(i,t)),c(e,i,"select")),!0)}function v(e,t){e=Math.abs(e);var i,n,s=Math.round(e/60),r=[];return s<60?r=[s,x.mins]:(i=Math.floor(s/60),n=s%60,30==t&&30==n&&(i+=x.decimal+5),r.push(i),r.push(1==i?x.hr:x.hrs),30!=t&&n&&(r.push(n),r.push(x.mins))),r.join(" ")}function _(t,i){if("number"!=typeof t)return null;var n=parseInt(t%60),s=parseInt(t/60%60),r=parseInt(t/3600%24),o=new Date(1970,0,2,r,s,n,0);if(isNaN(o.getTime()))return null;if("function"===e.type(i.timeFormat))return i.timeFormat(o);for(var a,l,h="",u=0;u<i.timeFormat.length;u++)switch(l=i.timeFormat.charAt(u)){case"a":h+=o.getHours()>11?x.pm:x.am;break;case"A":h+=o.getHours()>11?x.PM:x.AM;break;case"g":h+=0===(a=o.getHours()%12)?"12":a;break;case"G":a=o.getHours(),t===w&&(a=i.show2400?24:0),h+=a;break;case"h":0!==(a=o.getHours()%12)&&a<10&&(a="0"+a),h+=0===a?"12":a;break;case"H":a=o.getHours(),t===w&&(a=i.show2400?24:0),h+=a>9?a:"0"+a;break;case"i":h+=(s=o.getMinutes())>9?s:"0"+s;break;case"s":h+=(n=o.getSeconds())>9?n:"0"+n;break;case"\\":u++,h+=i.timeFormat.charAt(u);break;default:h+=l}return h}function y(e,t){if(""===e||null===e)return null;if("object"==typeof e)return 3600*e.getHours()+60*e.getMinutes()+e.getSeconds();if("string"!=typeof e)return e;"a"!=(e=e.toLowerCase().replace(/[\s\.]/g,"")).slice(-1)&&"p"!=e.slice(-1)||(e+="m");var i="("+x.am.replace(".","")+"|"+x.pm.replace(".","")+"|"+x.AM.replace(".","")+"|"+x.PM.replace(".","")+")?",n=new RegExp("^"+i+"([0-9]?[0-9])\\W?([0-5][0-9])?\\W?([0-5][0-9])?"+i+"$"),s=e.match(n);if(!s)return null;var r=parseInt(1*s[2],10),o=s[1]||s[5],a=r,l=1*s[3]||0,h=1*s[4]||0;if(r<=12&&o){var u=o==x.pm||o==x.PM;a=12==r?u?12:0:r+(u?12:0)}else if(t){if(3600*r+60*l+h>=w+(t.show2400?1:0)){if(!1===t.wrapHours)return null;a=r%24}}var d=3600*a+60*l+h;if(r<12&&!o&&t&&t._twelveHourTime&&t.scrollDefault){var c=d-t.scrollDefault();c<0&&c>=w/-2&&(d=(d+w/2)%w)}return d}function b(e,t){return e==w&&t.show2400?e:e%w}var w=86400,x={am:"am",pm:"pm",AM:"AM",PM:"PM",decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},k={appendTo:"body",className:null,closeOnWindowScroll:!1,disableTextInput:!1,disableTimeRanges:[],disableTouchKeyboard:!1,durationTime:null,forceRoundTime:!1,maxTime:null,minTime:null,noneOption:!1,orientation:"l",roundingFunction:function(e,t){if(null===e)return null;if("number"!=typeof t.step)return e;var i=e%(60*t.step);return(i-=(t.minTime||0)%(60*t.step))>=30*t.step?e+=60*t.step-i:e-=i,b(e,t)},scrollDefault:null,selectOnBlur:!1,show2400:!1,showDuration:!1,showOn:["click","focus"],showOnFocus:!0,step:30,stopScrollPropagation:!1,timeFormat:"g:ia",typeaheadHighlight:!0,useSelect:!1,wrapHours:!0},S={init:function(t){return this.each(function(){var s=e(this),r=[];for(var o in k)s.data(o)&&(r[o]=s.data(o));var a=e.extend({},k,t,r);if(a.lang&&(x=e.extend(x,a.lang)),a=i(a),s.data("timepicker-settings",a),s.addClass("ui-timepicker-input"),a.useSelect)n(s);else{if(s.prop("autocomplete","off"),a.showOn)for(var l in a.showOn)s.on(a.showOn[l]+".timepicker",S.show);s.on("change.timepicker",u),s.on("keydown.timepicker",m),s.on("keyup.timepicker",f),a.disableTextInput&&s.on("keydown.timepicker",p),s.on("cut.timepicker",f),s.on("paste.timepicker",f),u.call(s.get(0),null,"initial")}})},show:function(i){var s=e(this),r=s.data("timepicker-settings");if(i&&i.preventDefault(),r.useSelect)s.data("timepicker-list").focus();else{a(s)&&s.blur();var u=s.data("timepicker-list");if(!s.prop("readonly")&&(u&&0!==u.length&&"function"!=typeof r.durationTime||(n(s),u=s.data("timepicker-list")),!t(u))){s.data("ui-timepicker-value",s.val()),h(s,u),S.hide(),u.show();var c={};r.orientation.match(/r/)?c.left=s.offset().left+s.outerWidth()-u.outerWidth()+parseInt(u.css("marginLeft").replace("px",""),10):c.left=s.offset().left+parseInt(u.css("marginLeft").replace("px",""),10),"t"==(r.orientation.match(/t/)?"t":r.orientation.match(/b/)?"b":s.offset().top+s.outerHeight(!0)+u.outerHeight()>e(window).height()+e(window).scrollTop()?"t":"b")?(u.addClass("ui-timepicker-positioned-top"),c.top=s.offset().top-u.outerHeight()+parseInt(u.css("marginTop").replace("px",""),10)):(u.removeClass("ui-timepicker-positioned-top"),c.top=s.offset().top+s.outerHeight()+parseInt(u.css("marginTop").replace("px",""),10)),u.offset(c);var p=u.find(".ui-timepicker-selected");if(!p.length){var m=y(d(s));null!==m?p=l(s,u,m):r.scrollDefault&&(p=l(s,u,r.scrollDefault()))}if(p.length&&!p.hasClass("ui-timepicker-disabled")||(p=u.find("li:not(.ui-timepicker-disabled):first")),p&&p.length){var f=u.scrollTop()+p.position().top-p.outerHeight();u.scrollTop(f)}else u.scrollTop(0);return r.stopScrollPropagation&&e(document).on("wheel.ui-timepicker",".ui-timepicker-wrapper",function(t){t.preventDefault();var i=e(this).scrollTop();e(this).scrollTop(i+t.originalEvent.deltaY)}),e(document).on("touchstart.ui-timepicker mousedown.ui-timepicker",o),e(window).on("resize.ui-timepicker",o),r.closeOnWindowScroll&&e(document).on("scroll.ui-timepicker",o),s.trigger("showTimepicker"),this}}},hide:function(i){var n=e(this),s=n.data("timepicker-settings");return s&&s.useSelect&&n.blur(),e(".ui-timepicker-wrapper").each(function(){var i=e(this);if(t(i)){var n=i.data("timepicker-input"),s=n.data("timepicker-settings");s&&s.selectOnBlur&&g(n),i.hide(),n.trigger("hideTimepicker")}}),this},option:function(t,s){return"string"==typeof t&&void 0===s?e(this).data("timepicker-settings")[t]:this.each(function(){var r=e(this),o=r.data("timepicker-settings"),a=r.data("timepicker-list");"object"==typeof t?o=e.extend(o,t):"string"==typeof t&&(o[t]=s),o=i(o),r.data("timepicker-settings",o),u.call(r.get(0),{type:"change"},"initial"),a&&(a.remove(),r.data("timepicker-list",!1)),o.useSelect&&n(r)})},getSecondsFromMidnight:function(){return y(d(this))},getTime:function(e){var t=d(this);if(!t)return null;var i=y(t);if(null===i)return null;e||(e=new Date);var n=new Date(e);return n.setHours(i/3600),n.setMinutes(i%3600/60),n.setSeconds(i%60),n.setMilliseconds(0),n},isVisible:function(){var e=this.data("timepicker-list");return!(!e||!t(e))},setTime:function(e){var t=this.data("timepicker-settings");if(t.forceRoundTime)var i=r(y(e),t);else i=_(y(e),t);return e&&null===i&&t.noneOption&&(i=e),c(this,i,"initial"),u.call(this.get(0),{type:"change"},"initial"),this.data("timepicker-list")&&h(this,this.data("timepicker-list")),this},remove:function(){if(this.hasClass("ui-timepicker-input")){var e=this.data("timepicker-settings");return this.removeAttr("autocomplete","off"),this.removeClass("ui-timepicker-input"),this.removeData("timepicker-settings"),this.off(".timepicker"),this.data("timepicker-list")&&this.data("timepicker-list").remove(),e.useSelect&&this.show(),this.removeData("timepicker-list"),this}}};e.fn.timepicker=function(t){return this.length?S[t]?this.hasClass("ui-timepicker-input")?S[t].apply(this,Array.prototype.slice.call(arguments,1)):this:"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.timepicker"):S.init.apply(this,arguments):this}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){e.registerHelper("lint","json",function(t){var i=[];jsonlint.parseError=function(t,n){var s=n.loc;i.push({from:e.Pos(s.first_line-1,s.first_column),to:e.Pos(s.last_line-1,s.last_column),message:t})};try{jsonlint.parse(t)}catch(e){}return i})}),function(){var e,t,i;t=!1,i=/xyz/.test(function(){window.postMessage("xyz")})?/\b_super\b/:/.*/,(e=function(){}).extend=function e(n){function s(){!t&&this.init&&this.init.apply(this,arguments)}var r=this.prototype;t=!0;var o=new this;t=!1;for(var a in n)o[a]="function"==typeof n[a]&&"function"==typeof r[a]&&i.test(n[a])?function(e,t){return function(){var i=this._super;this._super=r[e];var n=t.apply(this,arguments);return this._super=i,n}}(a,n[a]):n[a];return s.prototype=o,s.prototype.constructor=s,s.extend=e,s},function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}e.prototype=window.Event.prototype,window.CustomEvent=e}(),function(){for(var e=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,i){var n=(new Date).getTime(),s=Math.max(0,16-(n-e)),r=window.setTimeout(function(){t(n+s)},s);return e=n+s,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var n=function(e){var t,i,s,r;for(i=1;i<arguments.length;i++){t=arguments[i];for(s in t)t.hasOwnProperty(s)&&(!t[s]||(r=t[s],"object"!=typeof r||r.nodeType||null!==r&&r===r.window||r.constructor&&!Object.prototype.hasOwnProperty.call(r.constructor.prototype,"isPrototypeOf"))?e[s]=t[s]:(e.hasOwnProperty(s)||(e[s]={}),n(e[s],t[s])))}return e},s=function(e,t){var i;if(e&&"object"==typeof e)if(Array.isArray(e)||"number"==typeof e.length&&e.length>0&&e.length-1 in e){for(i=0;i<e.length;i++)if(!1===t(i,e[i]))return}else if(Object.keys){var n=Object.keys(e);for(i=0;i<n.length;i++)if(!1===t(n[i],e[n[i]]))return}else for(i in e)if(e.hasOwnProperty(i)&&!1===t(i,e[i]))return},r=function(e,t){var i=document.createEvent("HTMLEvents");i.initEvent(t,!0,!0),e.dispatchEvent(i)},o=function(e,t){if(!(e instanceof Element))throw new Error("element should be an instance of Element");t=n({},o.defaults.options,t||{}),this.element=e,this.options=t,this.init()};o.prototype={constructor:o,init:function(){var e=this;this.ready=!1;var t=o.defaults.themes[this.options.theme||o.defaults.theme];if(!t)throw"Unknown theme "+(this.options.theme||o.defaults.theme);this.schema=this.options.schema,this.theme=new t,this.template=this.options.template,this.refs=this.options.refs||{},this.uuid=0,this.__data={};var i=o.defaults.iconlibs[this.options.iconlib||o.defaults.iconlib];i&&(this.iconlib=new i),this.root_container=this.theme.getContainer(),this.element.appendChild(this.root_container),this.translate=this.options.translate||o.defaults.translate,this._loadExternalRefs(this.schema,function(){e._getDefinitions(e.schema);var t={};e.options.custom_validators&&(t.custom_validators=e.options.custom_validators),e.validator=new o.Validator(e,null,t);var i=e.getEditorClass(e.schema);e.root=e.createEditor(i,{jsoneditor:e,schema:e.schema,required:!0,container:e.root_container}),e.root.preBuild(),e.root.build(),e.root.postBuild(),e.options.startval&&e.root.setValue(e.options.startval),e.validation_results=e.validator.validate(e.root.getValue()),e.root.showValidationErrors(e.validation_results),e.ready=!0,window.requestAnimationFrame(function(){e.ready&&(e.validation_results=e.validator.validate(e.root.getValue()),e.root.showValidationErrors(e.validation_results),e.trigger("ready"),e.trigger("change"))})})},getValue:function(){if(!this.ready)throw"JSON Editor not ready yet.  Listen for 'ready' event before getting the value";return this.root.getValue()},setValue:function(e){if(!this.ready)throw"JSON Editor not ready yet.  Listen for 'ready' event before setting the value";return this.root.setValue(e),this},validate:function(e){if(!this.ready)throw"JSON Editor not ready yet.  Listen for 'ready' event before validating";return 1===arguments.length?this.validator.validate(e):this.validation_results},destroy:function(){this.destroyed||this.ready&&(this.schema=null,this.options=null,this.root.destroy(),this.root=null,this.root_container=null,this.validator=null,this.validation_results=null,this.theme=null,this.iconlib=null,this.template=null,this.__data=null,this.ready=!1,this.element.innerHTML="",this.destroyed=!0)},on:function(e,t){return this.callbacks=this.callbacks||{},this.callbacks[e]=this.callbacks[e]||[],this.callbacks[e].push(t),this},off:function(e,t){if(e&&t){this.callbacks=this.callbacks||{},this.callbacks[e]=this.callbacks[e]||[];for(var i=[],n=0;n<this.callbacks[e].length;n++)this.callbacks[e][n]!==t&&i.push(this.callbacks[e][n]);this.callbacks[e]=i}else e?(this.callbacks=this.callbacks||{},this.callbacks[e]=[]):this.callbacks={};return this},trigger:function(e){if(this.callbacks&&this.callbacks[e]&&this.callbacks[e].length)for(var t=0;t<this.callbacks[e].length;t++)this.callbacks[e][t]();return this},setOption:function(e,t){if("show_errors"!==e)throw"Option "+e+" must be set during instantiation and cannot be changed later";return this.options.show_errors=t,this.onChange(),this},getEditorClass:function(e){var t;if(e=this.expandSchema(e),s(o.defaults.resolvers,function(i,n){var s=n(e);if(s&&o.defaults.editors[s])return t=s,!1}),!t)throw"Unknown editor for schema "+JSON.stringify(e);if(!o.defaults.editors[t])throw"Unknown editor "+t;return o.defaults.editors[t]},createEditor:function(e,t){return new e(t=n({},e.options||{},t))},onChange:function(){if(this.ready&&!this.firing_change){this.firing_change=!0;var e=this;return window.requestAnimationFrame(function(){e.firing_change=!1,e.ready&&(e.validation_results=e.validator.validate(e.root.getValue()),"never"!==e.options.show_errors?e.root.showValidationErrors(e.validation_results):e.root.showValidationErrors([]),e.trigger("change"))}),this}},compileTemplate:function(e,t){var i;if("string"==typeof(t=t||o.defaults.template)){if(!o.defaults.templates[t])throw"Unknown template engine "+t;if(!(i=o.defaults.templates[t]()))throw"Template engine "+t+" missing required library."}else i=t;if(!i)throw"No template engine set";if(!i.compile)throw"Invalid template engine set";return i.compile(e)},_data:function(e,t,i){if(3!==arguments.length)return e.hasAttribute("data-jsoneditor-"+t)?this.__data[e.getAttribute("data-jsoneditor-"+t)]:null;var n;e.hasAttribute("data-jsoneditor-"+t)?n=e.getAttribute("data-jsoneditor-"+t):(n=this.uuid++,e.setAttribute("data-jsoneditor-"+t,n)),this.__data[n]=i},registerEditor:function(e){return this.editors=this.editors||{},this.editors[e.path]=e,this},unregisterEditor:function(e){return this.editors=this.editors||{},this.editors[e.path]=null,this},getEditor:function(e){if(this.editors)return this.editors[e]},watch:function(e,t){return this.watchlist=this.watchlist||{},this.watchlist[e]=this.watchlist[e]||[],this.watchlist[e].push(t),this},unwatch:function(e,t){if(!this.watchlist||!this.watchlist[e])return this;if(!t)return this.watchlist[e]=null,this;for(var i=[],n=0;n<this.watchlist[e].length;n++)this.watchlist[e][n]!==t&&i.push(this.watchlist[e][n]);return this.watchlist[e]=i.length?i:null,this},notifyWatchers:function(e){if(!this.watchlist||!this.watchlist[e])return this;for(var t=0;t<this.watchlist[e].length;t++)this.watchlist[e][t]()},isEnabled:function(){return!this.root||this.root.isEnabled()},enable:function(){this.root.enable()},disable:function(){this.root.disable()},_getDefinitions:function(e,t){if(t=t||"#/definitions/",e.definitions)for(var i in e.definitions)e.definitions.hasOwnProperty(i)&&(this.refs[t+i]=e.definitions[i],e.definitions[i].definitions&&this._getDefinitions(e.definitions[i],t+i+"/definitions/"))},_getExternalRefs:function(e){var t={},i=function(e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=!0)};e.$ref&&"object"!=typeof e.$ref&&"#"!==e.$ref.substr(0,1)&&!this.refs[e.$ref]&&(t[e.$ref]=!0);for(var n in e)if(e.hasOwnProperty(n))if(e[n]&&"object"==typeof e[n]&&Array.isArray(e[n]))for(var s=0;s<e[n].length;s++)"object"==typeof e[n][s]&&i(this._getExternalRefs(e[n][s]));else e[n]&&"object"==typeof e[n]&&i(this._getExternalRefs(e[n]));return t},_loadExternalRefs:function(e,t){var i=this,n=this._getExternalRefs(e),r=0,o=0,a=!1;s(n,function(e){if(!i.refs[e]){if(!i.options.ajax)throw"Must set ajax option to true to load external ref "+e;i.refs[e]="loading",o++;var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){if(4==n.readyState){if(200!==n.status)throw window.console.log(n),"Failed to fetch ref via ajax- "+e;var s;try{s=JSON.parse(n.responseText)}catch(t){throw window.console.log(t),"Failed to parse external ref "+e}if(!s||"object"!=typeof s)throw"External ref does not contain a valid schema - "+e;i.refs[e]=s,i._loadExternalRefs(s,function(){++r>=o&&!a&&(a=!0,t())})}},n.send()}}),o||t()},expandRefs:function(e){for(e=n({},e);e.$ref;){var t=e.$ref;delete e.$ref,this.refs[t]||(t=decodeURIComponent(t)),e=this.extendSchemas(e,this.refs[t])}return e},expandSchema:function(e){var t,i=this,r=n({},e);if("object"==typeof e.type&&(Array.isArray(e.type)?s(e.type,function(t,n){"object"==typeof n&&(e.type[t]=i.expandSchema(n))}):e.type=i.expandSchema(e.type)),"object"==typeof e.disallow&&(Array.isArray(e.disallow)?s(e.disallow,function(t,n){"object"==typeof n&&(e.disallow[t]=i.expandSchema(n))}):e.disallow=i.expandSchema(e.disallow)),e.anyOf&&s(e.anyOf,function(t,n){e.anyOf[t]=i.expandSchema(n)}),e.dependencies&&s(e.dependencies,function(t,n){"object"!=typeof n||Array.isArray(n)||(e.dependencies[t]=i.expandSchema(n))}),e.not&&(e.not=this.expandSchema(e.not)),e.allOf){for(t=0;t<e.allOf.length;t++)r=this.extendSchemas(r,this.expandSchema(e.allOf[t]));delete r.allOf}if(e.extends){if(Array.isArray(e.extends))for(t=0;t<e.extends.length;t++)r=this.extendSchemas(r,this.expandSchema(e.extends[t]));else r=this.extendSchemas(r,this.expandSchema(e.extends));delete r.extends}if(e.oneOf){var o=n({},r);for(delete o.oneOf,t=0;t<e.oneOf.length;t++)r.oneOf[t]=this.extendSchemas(this.expandSchema(e.oneOf[t]),o)}return this.expandRefs(r)},extendSchemas:function(e,t){e=n({},e),t=n({},t);var i=this,r={};return s(e,function(e,n){void 0!==t[e]?"required"!==e&&"defaultProperties"!==e||"object"!=typeof n||!Array.isArray(n)?"type"!==e||"string"!=typeof n&&!Array.isArray(n)?"object"==typeof n&&Array.isArray(n)?r[e]=n.filter(function(i){return-1!==t[e].indexOf(i)}):r[e]="object"==typeof n&&null!==n?i.extendSchemas(n,t[e]):n:("string"==typeof n&&(n=[n]),"string"==typeof t.type&&(t.type=[t.type]),t.type&&t.type.length?r.type=n.filter(function(e){return-1!==t.type.indexOf(e)}):r.type=n,1===r.type.length&&"string"==typeof r.type[0]?r.type=r.type[0]:0===r.type.length&&delete r.type):r[e]=n.concat(t[e]).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]):r[e]=n}),s(t,function(t,i){void 0===e[t]&&(r[t]=i)}),r}},o.defaults={themes:{},templates:{},iconlibs:{},editors:{},languages:{},resolvers:[],custom_validators:[]},o.Validator=e.extend({init:function(e,t,i){this.jsoneditor=e,this.schema=t||this.jsoneditor.schema,this.options=i||{},this.translate=this.jsoneditor.translate||o.defaults.translate},validate:function(e){return this._validateSchema(this.schema,e)},_validateSchema:function(e,t,i){var r,a,l,h=this,u=[],d=JSON.stringify(t);if(i=i||"root",(e=n({},this.jsoneditor.expandRefs(e))).required&&!0===e.required){if(void 0===t)return u.push({path:i,property:"required",message:this.translate("error_notset")}),u}else if(void 0===t){if(!this.jsoneditor.options.required_by_default)return u;u.push({path:i,property:"required",message:this.translate("error_notset")})}if(e.enum){for(r=!1,a=0;a<e.enum.length;a++)d===JSON.stringify(e.enum[a])&&(r=!0);r||u.push({path:i,property:"enum",message:this.translate("error_enum")})}if(e.extends)for(a=0;a<e.extends.length;a++)u=u.concat(this._validateSchema(e.extends[a],t,i));if(e.allOf)for(a=0;a<e.allOf.length;a++)u=u.concat(this._validateSchema(e.allOf[a],t,i));if(e.anyOf){for(r=!1,a=0;a<e.anyOf.length;a++)if(!this._validateSchema(e.anyOf[a],t,i).length){r=!0;break}r||u.push({path:i,property:"anyOf",message:this.translate("error_anyOf")})}if(e.oneOf){r=0;var c=[];for(a=0;a<e.oneOf.length;a++){var p=this._validateSchema(e.oneOf[a],t,i);for(p.length||r++,l=0;l<p.length;l++)p[l].path=i+".oneOf["+a+"]"+p[l].path.substr(i.length);c=c.concat(p)}1!==r&&(u.push({path:i,property:"oneOf",message:this.translate("error_oneOf",[r])}),u=u.concat(c))}if(e.not&&(this._validateSchema(e.not,t,i).length||u.push({path:i,property:"not",message:this.translate("error_not")})),e.type)if(Array.isArray(e.type)){for(r=!1,a=0;a<e.type.length;a++)if(this._checkType(e.type[a],t)){r=!0;break}r||u.push({path:i,property:"type",message:this.translate("error_type_union")})}else this._checkType(e.type,t)||u.push({path:i,property:"type",message:this.translate("error_type",[e.type])});if(e.disallow)if(Array.isArray(e.disallow)){for(r=!0,a=0;a<e.disallow.length;a++)if(this._checkType(e.disallow[a],t)){r=!1;break}r||u.push({path:i,property:"disallow",message:this.translate("error_disallow_union")})}else this._checkType(e.disallow,t)&&u.push({path:i,property:"disallow",message:this.translate("error_disallow",[e.disallow])});if("number"==typeof t){if(e.multipleOf||e.divisibleBy){var m=e.multipleOf||e.divisibleBy;r=t/m===Math.floor(t/m),window.math?r=window.math.mod(window.math.bignumber(t),window.math.bignumber(m)).equals(0):window.Decimal&&(r=new window.Decimal(t).mod(new window.Decimal(m)).equals(0)),r||u.push({path:i,property:e.multipleOf?"multipleOf":"divisibleBy",message:this.translate("error_multipleOf",[m])})}e.hasOwnProperty("maximum")&&(r=e.exclusiveMaximum?t<e.maximum:t<=e.maximum,window.math?r=window.math[e.exclusiveMaximum?"smaller":"smallerEq"](window.math.bignumber(t),window.math.bignumber(e.maximum)):window.Decimal&&(r=new window.Decimal(t)[e.exclusiveMaximum?"lt":"lte"](new window.Decimal(e.maximum))),r||u.push({path:i,property:"maximum",message:this.translate(e.exclusiveMaximum?"error_maximum_excl":"error_maximum_incl",[e.maximum])})),e.hasOwnProperty("minimum")&&(r=e.exclusiveMinimum?t>e.minimum:t>=e.minimum,window.math?r=window.math[e.exclusiveMinimum?"larger":"largerEq"](window.math.bignumber(t),window.math.bignumber(e.minimum)):window.Decimal&&(r=new window.Decimal(t)[e.exclusiveMinimum?"gt":"gte"](new window.Decimal(e.minimum))),r||u.push({path:i,property:"minimum",message:this.translate(e.exclusiveMinimum?"error_minimum_excl":"error_minimum_incl",[e.minimum])}))}else if("string"==typeof t)e.maxLength&&(t+"").length>e.maxLength&&u.push({path:i,property:"maxLength",message:this.translate("error_maxLength",[e.maxLength])}),e.minLength&&(t+"").length<e.minLength&&u.push({path:i,property:"minLength",message:this.translate(1===e.minLength?"error_notempty":"error_minLength",[e.minLength])}),e.pattern&&(new RegExp(e.pattern).test(t)||u.push({path:i,property:"pattern",message:this.translate("error_pattern",[e.pattern])}));else if("object"==typeof t&&null!==t&&Array.isArray(t)){if(e.items)if(Array.isArray(e.items))for(a=0;a<t.length;a++)if(e.items[a])u=u.concat(this._validateSchema(e.items[a],t[a],i+"."+a));else{if(!0===e.additionalItems)break;if(!e.additionalItems){if(!1===e.additionalItems){u.push({path:i,property:"additionalItems",message:this.translate("error_additionalItems")});break}break}u=u.concat(this._validateSchema(e.additionalItems,t[a],i+"."+a))}else for(a=0;a<t.length;a++)u=u.concat(this._validateSchema(e.items,t[a],i+"."+a));if(e.maxItems&&t.length>e.maxItems&&u.push({path:i,property:"maxItems",message:this.translate("error_maxItems",[e.maxItems])}),e.minItems&&t.length<e.minItems&&u.push({path:i,property:"minItems",message:this.translate("error_minItems",[e.minItems])}),e.uniqueItems){var f={};for(a=0;a<t.length;a++){if(f[r=JSON.stringify(t[a])]){u.push({path:i,property:"uniqueItems",message:this.translate("error_uniqueItems")});break}f[r]=!0}}}else if("object"==typeof t&&null!==t){if(e.maxProperties){r=0;for(a in t)t.hasOwnProperty(a)&&r++;r>e.maxProperties&&u.push({path:i,property:"maxProperties",message:this.translate("error_maxProperties",[e.maxProperties])})}if(e.minProperties){r=0;for(a in t)t.hasOwnProperty(a)&&r++;r<e.minProperties&&u.push({path:i,property:"minProperties",message:this.translate("error_minProperties",[e.minProperties])})}if(e.required&&Array.isArray(e.required))for(a=0;a<e.required.length;a++)void 0===t[e.required[a]]&&u.push({path:i,property:"required",message:this.translate("error_required",[e.required[a]])});var g={};if(e.properties)for(a in e.properties)e.properties.hasOwnProperty(a)&&(g[a]=!0,u=u.concat(this._validateSchema(e.properties[a],t[a],i+"."+a)));if(e.patternProperties)for(a in e.patternProperties)if(e.patternProperties.hasOwnProperty(a)){var v=new RegExp(a);for(l in t)t.hasOwnProperty(l)&&v.test(l)&&(g[l]=!0,u=u.concat(this._validateSchema(e.patternProperties[a],t[l],i+"."+l)))}if(void 0!==e.additionalProperties||!this.jsoneditor.options.no_additional_properties||e.oneOf||e.anyOf||(e.additionalProperties=!1),void 0!==e.additionalProperties)for(a in t)if(t.hasOwnProperty(a)&&!g[a]){if(!e.additionalProperties){u.push({path:i,property:"additionalProperties",message:this.translate("error_additional_properties",[a])});break}if(!0===e.additionalProperties)break;u=u.concat(this._validateSchema(e.additionalProperties,t[a],i+"."+a))}if(e.dependencies)for(a in e.dependencies)if(e.dependencies.hasOwnProperty(a)&&void 0!==t[a])if(Array.isArray(e.dependencies[a]))for(l=0;l<e.dependencies[a].length;l++)void 0===t[e.dependencies[a][l]]&&u.push({path:i,property:"dependencies",message:this.translate("error_dependency",[e.dependencies[a][l]])});else u=u.concat(this._validateSchema(e.dependencies[a],t,i))}return s(o.defaults.custom_validators,function(n,s){u=u.concat(s.call(h,e,t,i))}),this.options.custom_validators&&s(this.options.custom_validators,function(n,s){u=u.concat(s.call(h,e,t,i))}),u},_checkType:function(e,t){return"string"==typeof e?"string"===e?"string"==typeof t:"number"===e?"number"==typeof t:"integer"===e?"number"==typeof t&&t===Math.floor(t):"boolean"===e?"boolean"==typeof t:"array"===e?Array.isArray(t):"object"===e?null!==t&&!Array.isArray(t)&&"object"==typeof t:"null"!==e||null===t:!this._validateSchema(e,t).length}}),o.AbstractEditor=e.extend({onChildEditorChange:function(e){this.onChange(!0)},notify:function(){this.path&&this.jsoneditor.notifyWatchers(this.path)},change:function(){this.parent?this.parent.onChildEditorChange(this):this.jsoneditor&&this.jsoneditor.onChange()},onChange:function(e){this.notify(),this.watch_listener&&this.watch_listener(),e&&this.change()},register:function(){this.jsoneditor.registerEditor(this),this.onChange()},unregister:function(){this.jsoneditor&&this.jsoneditor.unregisterEditor(this)},getNumColumns:function(){return 12},init:function(e){this.jsoneditor=e.jsoneditor,this.theme=this.jsoneditor.theme,this.template_engine=this.jsoneditor.template,this.iconlib=this.jsoneditor.iconlib,this.translate=this.jsoneditor.translate||o.defaults.translate,this.original_schema=e.schema,this.schema=this.jsoneditor.expandSchema(this.original_schema),this.options=n({},this.options||{},e.schema.options||{},e),e.path||this.schema.id||(this.schema.id="root"),this.path=e.path||"root",this.formname=e.formname||this.path.replace(/\.([^.]+)/g,"[$1]"),this.jsoneditor.options.form_name_root&&(this.formname=this.formname.replace(/^root\[/,this.jsoneditor.options.form_name_root+"[")),this.key=this.path.split(".").pop(),this.parent=e.parent,this.link_watchers=[],e.container&&this.setContainer(e.container)},setContainer:function(e){this.container=e,this.schema.id&&this.container.setAttribute("data-schemaid",this.schema.id),this.schema.type&&"string"==typeof this.schema.type&&this.container.setAttribute("data-schematype",this.schema.type),this.container.setAttribute("data-schemapath",this.path)},preBuild:function(){},build:function(){},postBuild:function(){this.setupWatchListeners(),this.addLinks(),this.setValue(this.getDefault(),!0),this.updateHeaderText(),this.register(),this.onWatchedFieldChange()},setupWatchListeners:function(){var e,t,i,n,s,r=this;if(this.watched={},this.schema.vars&&(this.schema.watch=this.schema.vars),this.watched_values={},this.watch_listener=function(){r.refreshWatchedFieldValues()&&r.onWatchedFieldChange()},this.register(),this.schema.hasOwnProperty("watch"))for(var o in this.schema.watch)if(this.schema.watch.hasOwnProperty(o)){if(e=this.schema.watch[o],Array.isArray(e)){if(e.length<2)continue;t=[e[0]].concat(e[1].split("."))}else t=e.split("."),r.theme.closest(r.container,'[data-schemaid="'+t[0]+'"]')||t.unshift("#");if("#"===(i=t.shift())&&(i=r.jsoneditor.schema.id||"root"),!(n=r.theme.closest(r.container,'[data-schemaid="'+i+'"]')))throw"Could not find ancestor node with id "+i;s=n.getAttribute("data-schemapath")+"."+t.join("."),r.jsoneditor.watch(s,r.watch_listener),r.watched[o]=s}this.schema.headerTemplate&&(this.header_template=this.jsoneditor.compileTemplate(this.schema.headerTemplate,this.template_engine))},addLinks:function(){if(!this.no_link_holder&&(this.link_holder=this.theme.getLinksHolder(),this.container.appendChild(this.link_holder),this.schema.links))for(var e=0;e<this.schema.links.length;e++)this.addLink(this.getLink(this.schema.links[e]))},getButton:function(e,t,i){var n="json-editor-btn-"+t;!(t=this.iconlib?this.iconlib.getIcon(t):null)&&i&&(e=i,i=null);var s=this.theme.getButton(e,t,i);return s.className+=" "+n+" ",s},setButtonText:function(e,t,i,n){return!(i=this.iconlib?this.iconlib.getIcon(i):null)&&n&&(t=n,n=null),this.theme.setButtonText(e,t,i,n)},addLink:function(e){this.link_holder&&this.link_holder.appendChild(e)},getLink:function(e){var t,i,n=(e.mediaType||"application/javascript").split("/")[0],s=this.jsoneditor.compileTemplate(e.href,this.template_engine),r=null;if(e.download&&(r=e.download),r&&!0!==r&&(r=this.jsoneditor.compileTemplate(r,this.template_engine)),"image"===n){t=this.theme.getBlockLinkHolder(),(i=document.createElement("a")).setAttribute("target","_blank");var o=document.createElement("img");this.theme.createImageLink(t,i,o),this.link_watchers.push(function(t){var n=s(t);i.setAttribute("href",n),i.setAttribute("title",e.rel||n),o.setAttribute("src",n)})}else if(["audio","video"].indexOf(n)>=0){t=this.theme.getBlockLinkHolder(),(i=this.theme.getBlockLink()).setAttribute("target","_blank");var a=document.createElement(n);a.setAttribute("controls","controls"),this.theme.createMediaLink(t,i,a),this.link_watchers.push(function(t){var n=s(t);i.setAttribute("href",n),i.textContent=e.rel||n,a.setAttribute("src",n)})}else i=t=this.theme.getBlockLink(),t.setAttribute("target","_blank"),t.textContent=e.rel,this.link_watchers.push(function(i){var n=s(i);t.setAttribute("href",n),t.textContent=e.rel||n});return r&&i&&(!0===r?i.setAttribute("download",""):this.link_watchers.push(function(e){i.setAttribute("download",r(e))})),e.class&&(i.className=i.className+" "+e.class),t},refreshWatchedFieldValues:function(){if(this.watched_values){var e,t,i={},n=!1;if(this.watched)for(var s in this.watched)this.watched.hasOwnProperty(s)&&(t=this.jsoneditor.getEditor(this.watched[s]),e=t?t.getValue():null,this.watched_values[s]!==e&&(n=!0),i[s]=e);return i.self=this.getValue(),this.watched_values.self!==i.self&&(n=!0),this.watched_values=i,n}},getWatchedFieldValues:function(){return this.watched_values},updateHeaderText:function(){if(this.header)if(this.header.children.length){for(var e=0;e<this.header.childNodes.length;e++)if(3===this.header.childNodes[e].nodeType){this.header.childNodes[e].nodeValue=this.getHeaderText();break}}else this.header.textContent=this.getHeaderText()},getHeaderText:function(e){return this.header_text?this.header_text:e?this.schema.title:this.getTitle()},onWatchedFieldChange:function(){var e;if(this.header_template){e=n(this.getWatchedFieldValues(),{key:this.key,i:this.key,i0:1*this.key,i1:1*this.key+1,title:this.getTitle()});var t=this.header_template(e);t!==this.header_text&&(this.header_text=t,this.updateHeaderText(),this.notify())}if(this.link_watchers.length){e=this.getWatchedFieldValues();for(var i=0;i<this.link_watchers.length;i++)this.link_watchers[i](e)}},setValue:function(e){this.value=e},getValue:function(){return this.value},refreshValue:function(){},getChildEditors:function(){return!1},destroy:function(){var e=this;this.unregister(this),s(this.watched,function(t,i){e.jsoneditor.unwatch(i,e.watch_listener)}),this.watched=null,this.watched_values=null,this.watch_listener=null,this.header_text=null,this.header_template=null,this.value=null,this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container),this.container=null,this.jsoneditor=null,this.schema=null,this.path=null,this.key=null,this.parent=null},getDefault:function(){if(this.schema.default)return this.schema.default;if(this.schema.enum)return this.schema.enum[0];var e=this.schema.type||this.schema.oneOf;if(e&&Array.isArray(e)&&(e=e[0]),e&&"object"==typeof e&&(e=e.type),e&&Array.isArray(e)&&(e=e[0]),"string"==typeof e){if("number"===e)return 0;if("boolean"===e)return!1;if("integer"===e)return 0;if("string"===e)return"";if("object"===e)return{};if("array"===e)return[]}return null},getTitle:function(){return this.schema.title||this.key},enable:function(){this.disabled=!1},disable:function(){this.disabled=!0},isEnabled:function(){return!this.disabled},isRequired:function(){return"boolean"==typeof this.schema.required?this.schema.required:this.parent&&this.parent.schema&&Array.isArray(this.parent.schema.required)?this.parent.schema.required.indexOf(this.key)>-1:!!this.jsoneditor.options.required_by_default},getDisplayText:function(e){var t=[],i={};s(e,function(e,t){t.title&&(i[t.title]=i[t.title]||0,i[t.title]++),t.description&&(i[t.description]=i[t.description]||0,i[t.description]++),t.format&&(i[t.format]=i[t.format]||0,i[t.format]++),t.type&&(i[t.type]=i[t.type]||0,i[t.type]++)}),s(e,function(e,n){var s;s="string"==typeof n?n:n.title&&i[n.title]<=1?n.title:n.format&&i[n.format]<=1?n.format:n.type&&i[n.type]<=1?n.type:n.description&&i[n.description]<=1?n.descripton:n.title?n.title:n.format?n.format:n.type?n.type:n.description?n.description:JSON.stringify(n).length<50?JSON.stringify(n):"type",t.push(s)});var n={};return s(t,function(e,s){n[s]=n[s]||0,n[s]++,i[s]>1&&(t[e]=s+" "+n[s])}),t},getOption:function(e){try{throw"getOption is deprecated"}catch(e){window.console.error(e)}return this.options[e]},showValidationErrors:function(e){}}),o.defaults.editors.null=o.AbstractEditor.extend({getValue:function(){return null},setValue:function(){this.onChange()},getNumColumns:function(){return 2}}),o.defaults.editors.string=o.AbstractEditor.extend({register:function(){this._super(),this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super(),this.input&&this.input.removeAttribute("name")},setValue:function(e,t,i){if((!this.template||i)&&(null===e||void 0===e?e="":"object"==typeof e?e=JSON.stringify(e):"string"!=typeof e&&(e=""+e),e!==this.serialized)){var n=this.sanitize(e);if(this.input.value!==n){this.input.value=n,this.sceditor_instance?this.sceditor_instance.val(n):this.epiceditor?this.epiceditor.importFile(null,n):this.ace_editor&&this.ace_editor.setValue(n);var s=i||this.getValue()!==e;this.refreshValue(),t?this.is_dirty=!1:"change"===this.jsoneditor.options.show_errors&&(this.is_dirty=!0),this.adjust_height&&this.adjust_height(this.input),this.onChange(s)}}},getNumColumns:function(){var e,t=Math.ceil(Math.max(this.getTitle().length,this.schema.maxLength||0,this.schema.minLength||0)/5);return e="textarea"===this.input_type?6:["text","email"].indexOf(this.input_type)>=0?4:2,Math.min(12,Math.max(t,e))},build:function(){var e=this;if(this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.options.infoText)),this.format=this.schema.format,!this.format&&this.schema.media&&this.schema.media.type&&(this.format=this.schema.media.type.replace(/(^(application|text)\/(x-)?(script\.)?)|(-source$)/g,"")),!this.format&&this.options.default_format&&(this.format=this.options.default_format),this.options.format&&(this.format=this.options.format),this.format)if("textarea"===this.format)this.input_type="textarea",this.input=this.theme.getTextareaInput();else if("range"===this.format){this.input_type="range";var t=this.schema.minimum||0,i=this.schema.maximum||Math.max(100,t+1),n=1;this.schema.multipleOf&&(t%this.schema.multipleOf&&(t=Math.ceil(t/this.schema.multipleOf)*this.schema.multipleOf),i%this.schema.multipleOf&&(i=Math.floor(i/this.schema.multipleOf)*this.schema.multipleOf),n=this.schema.multipleOf),this.input=this.theme.getRangeInput(t,i,n)}else["actionscript","batchfile","bbcode","c","c++","cpp","coffee","csharp","css","dart","django","ejs","erlang","golang","groovy","handlebars","haskell","haxe","html","ini","jade","java","javascript","json","less","lisp","lua","makefile","markdown","matlab","mysql","objectivec","pascal","perl","pgsql","php","python","r","ruby","sass","scala","scss","smarty","sql","stylus","svg","twig","vbscript","xml","yaml"].indexOf(this.format)>=0?(this.input_type=this.format,this.source_code=!0,this.input=this.theme.getTextareaInput()):(this.input_type=this.format,this.input=this.theme.getFormInputField(this.input_type));else this.input_type="text",this.input=this.theme.getFormInputField(this.input_type);void 0!==this.schema.maxLength&&this.input.setAttribute("maxlength",this.schema.maxLength),void 0!==this.schema.pattern?this.input.setAttribute("pattern",this.schema.pattern):void 0!==this.schema.minLength&&this.input.setAttribute("pattern",".{"+this.schema.minLength+",}"),this.options.compact?this.container.className+=" compact":this.options.input_width&&(this.input.style.width=this.options.input_width),(this.schema.readOnly||this.schema.readonly||this.schema.template)&&(this.always_disabled=!0,this.input.disabled=!0),this.input.addEventListener("change",function(t){if(t.preventDefault(),t.stopPropagation(),e.schema.template)this.value=e.value;else{var i=this.value,n=e.sanitize(i);i!==n&&(this.value=n),e.is_dirty=!0,e.refreshValue(),e.onChange(!0)}}),this.options.input_height&&(this.input.style.height=this.options.input_height),this.options.expand_height&&(this.adjust_height=function(e){if(e){var t,i=e.offsetHeight;if(e.offsetHeight<e.scrollHeight)for(t=0;e.offsetHeight<e.scrollHeight+3&&!(t>100);)t++,i++,e.style.height=i+"px";else{for(t=0;e.offsetHeight>=e.scrollHeight+3&&!(t>100);)t++,i--,e.style.height=i+"px";e.style.height=i+1+"px"}}},this.input.addEventListener("keyup",function(t){e.adjust_height(this)}),this.input.addEventListener("change",function(t){e.adjust_height(this)}),this.adjust_height()),this.format&&this.input.setAttribute("data-schemaformat",this.format),this.control=this.theme.getFormControl(this.label,this.input,this.description,this.infoButton),this.container.appendChild(this.control),window.requestAnimationFrame(function(){e.input.parentNode&&e.afterInputReady(),e.adjust_height&&e.adjust_height(e.input)}),this.schema.template?(this.template=this.jsoneditor.compileTemplate(this.schema.template,this.template_engine),this.refreshValue()):this.refreshValue()},enable:function(){this.always_disabled||(this.input.disabled=!1),this._super()},disable:function(){this.input.disabled=!0,this._super()},afterInputReady:function(){var e,t=this;if(this.source_code)if(this.options.wysiwyg&&["html","bbcode"].indexOf(this.input_type)>=0&&window.jQuery&&window.jQuery.fn&&window.jQuery.fn.sceditor)e=n({},{plugins:"html"===t.input_type?"xhtml":"bbcode",emoticonsEnabled:!1,width:"100%",height:300},o.plugins.sceditor,t.options.sceditor_options||{}),window.jQuery(t.input).sceditor(e),t.sceditor_instance=window.jQuery(t.input).sceditor("instance"),t.sceditor_instance.blur(function(){var e=window.jQuery("<div>"+t.sceditor_instance.val()+"</div>");window.jQuery("#sceditor-start-marker,#sceditor-end-marker,.sceditor-nlf",e).remove(),t.input.value=e.html(),t.value=t.input.value,t.is_dirty=!0,t.onChange(!0)});else if("markdown"===this.input_type&&window.EpicEditor)this.epiceditor_container=document.createElement("div"),this.input.parentNode.insertBefore(this.epiceditor_container,this.input),this.input.style.display="none",e=n({},o.plugins.epiceditor,{container:this.epiceditor_container,clientSideStorage:!1}),this.epiceditor=new window.EpicEditor(e).load(),this.epiceditor.importFile(null,this.getValue()),this.epiceditor.on("update",function(){var e=t.epiceditor.exportFile();t.input.value=e,t.value=e,t.is_dirty=!0,t.onChange(!0)});else if(window.ace){var i=this.input_type;"cpp"!==i&&"c++"!==i&&"c"!==i||(i="c_cpp"),this.ace_container=document.createElement("div"),this.ace_container.style.width="100%",this.ace_container.style.position="relative",this.ace_container.style.height="400px",this.input.parentNode.insertBefore(this.ace_container,this.input),this.input.style.display="none",this.ace_editor=window.ace.edit(this.ace_container),this.ace_editor.setValue(this.getValue()),o.plugins.ace.theme&&this.ace_editor.setTheme("ace/theme/"+o.plugins.ace.theme),(i=window.ace.require("ace/mode/"+i))&&this.ace_editor.getSession().setMode(new i.Mode),this.ace_editor.on("change",function(){var e=t.ace_editor.getValue();t.input.value=e,t.refreshValue(),t.is_dirty=!0,t.onChange(!0)})}t.theme.afterInputReady(t.input)},refreshValue:function(){this.value=this.input.value,"string"!=typeof this.value&&(this.value=""),this.serialized=this.value},destroy:function(){this.sceditor_instance?this.sceditor_instance.destroy():this.epiceditor?this.epiceditor.unload():this.ace_editor&&this.ace_editor.destroy(),this.template=null,this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this._super()},sanitize:function(e){return e},onWatchedFieldChange:function(){var e;this.template&&(e=this.getWatchedFieldValues(),this.setValue(this.template(e),!1,!0)),this._super()},showValidationErrors:function(e){var t=this;if("always"===this.jsoneditor.options.show_errors);else if(!this.is_dirty&&this.previous_error_setting===this.jsoneditor.options.show_errors)return;this.previous_error_setting=this.jsoneditor.options.show_errors;var i=[];s(e,function(e,n){n.path===t.path&&i.push(n.message)}),i.length?this.theme.addInputError(this.input,i.join(". ")+"."):this.theme.removeInputError(this.input)}}),o.defaults.editors.number=o.defaults.editors.string.extend({sanitize:function(e){return(e+"").replace(/[^0-9\.\-eE]/g,"")},getNumColumns:function(){return 2},getValue:function(){return 1*this.value}}),o.defaults.editors.integer=o.defaults.editors.number.extend({sanitize:function(e){return(e+="").replace(/[^0-9\-]/g,"")},getNumColumns:function(){return 2}}),o.defaults.editors.object=o.AbstractEditor.extend({getDefault:function(){return n({},this.schema.default||{})},getChildEditors:function(){return this.editors},register:function(){if(this._super(),this.editors)for(var e in this.editors)this.editors.hasOwnProperty(e)&&this.editors[e].register()},unregister:function(){if(this._super(),this.editors)for(var e in this.editors)this.editors.hasOwnProperty(e)&&this.editors[e].unregister()},getNumColumns:function(){return Math.max(Math.min(12,this.maxwidth),3)},enable:function(){if(this.editjson_button&&(this.editjson_button.disabled=!1),this.addproperty_button&&(this.addproperty_button.disabled=!1),this._super(),this.editors)for(var e in this.editors)this.editors.hasOwnProperty(e)&&this.editors[e].enable()},disable:function(){if(this.editjson_button&&(this.editjson_button.disabled=!0),this.addproperty_button&&(this.addproperty_button.disabled=!0),this.hideEditJSON(),this._super(),this.editors)for(var e in this.editors)this.editors.hasOwnProperty(e)&&this.editors[e].disable()},layoutEditors:function(){var e,t,i=this;if(this.row_container){var n;if(this.property_order=Object.keys(this.editors),this.property_order=this.property_order.sort(function(e,t){var n=i.editors[e].schema.propertyOrder,s=i.editors[t].schema.propertyOrder;return"number"!=typeof n&&(n=1e3),"number"!=typeof s&&(s=1e3),n-s}),"grid"===this.format){var r=[];for(s(this.property_order,function(e,t){var n=i.editors[t];if(!n.property_removed){for(var s=!1,o=n.options.hidden?0:n.options.grid_columns||n.getNumColumns(),a=n.options.hidden?0:n.container.offsetHeight,l=0;l<r.length;l++)r[l].width+o<=12&&(!a||.5*r[l].minh<a&&2*r[l].maxh>a)&&(s=l);!1===s&&(r.push({width:0,minh:999999,maxh:0,editors:[]}),s=r.length-1),r[s].editors.push({key:t,width:o,height:a}),r[s].width+=o,r[s].minh=Math.min(r[s].minh,a),r[s].maxh=Math.max(r[s].maxh,a)}}),e=0;e<r.length;e++)if(r[e].width<12){var o=!1,a=0;for(t=0;t<r[e].editors.length;t++)!1===o?o=t:r[e].editors[t].width>r[e].editors[o].width&&(o=t),r[e].editors[t].width*=12/r[e].width,r[e].editors[t].width=Math.floor(r[e].editors[t].width),a+=r[e].editors[t].width;a<12&&(r[e].editors[o].width+=12-a),r[e].width=12}if(this.layout===JSON.stringify(r))return!1;for(this.layout=JSON.stringify(r),n=document.createElement("div"),e=0;e<r.length;e++){var l=this.theme.getGridRow();for(n.appendChild(l),t=0;t<r[e].editors.length;t++){var h=r[e].editors[t].key,u=this.editors[h];u.options.hidden?u.container.style.display="none":this.theme.setGridColumnSize(u.container,r[e].editors[t].width),l.appendChild(u.container)}}}else n=document.createElement("div"),s(this.property_order,function(e,t){var s=i.editors[t];if(!s.property_removed){var r=i.theme.getGridRow();n.appendChild(r),s.options.hidden?s.container.style.display="none":i.theme.setGridColumnSize(s.container,12),r.appendChild(s.container)}});this.row_container.innerHTML="",this.row_container.appendChild(n)}},getPropertySchema:function(e){var t=this.schema.properties[e]||{};t=n({},t);var i=!!this.schema.properties[e];if(this.schema.patternProperties)for(var s in this.schema.patternProperties)if(this.schema.patternProperties.hasOwnProperty(s)){new RegExp(s).test(e)&&(t.allOf=t.allOf||[],t.allOf.push(this.schema.patternProperties[s]),i=!0)}return!i&&this.schema.additionalProperties&&"object"==typeof this.schema.additionalProperties&&(t=n({},this.schema.additionalProperties)),t},preBuild:function(){this._super(),this.editors={},this.cached_editors={};var e=this;if(this.format=this.options.layout||this.options.object_layout||this.schema.format||this.jsoneditor.options.object_layout||"normal",this.schema.properties=this.schema.properties||{},this.minwidth=0,this.maxwidth=0,this.options.table_row)s(this.schema.properties,function(t,i){var n=e.jsoneditor.getEditorClass(i);e.editors[t]=e.jsoneditor.createEditor(n,{jsoneditor:e.jsoneditor,schema:i,path:e.path+"."+t,parent:e,compact:!0,required:!0}),e.editors[t].preBuild();var s=e.editors[t].options.hidden?0:e.editors[t].options.grid_columns||e.editors[t].getNumColumns();e.minwidth+=s,e.maxwidth+=s}),this.no_link_holder=!0;else{if(this.options.table)throw"Not supported yet";this.schema.defaultProperties||(this.jsoneditor.options.display_required_only||this.options.display_required_only?(this.schema.defaultProperties=[],s(this.schema.properties,function(t,i){e.isRequired({key:t,schema:i})&&e.schema.defaultProperties.push(t)})):e.schema.defaultProperties=Object.keys(e.schema.properties)),e.maxwidth+=1,s(this.schema.defaultProperties,function(t,i){e.addObjectProperty(i,!0),e.editors[i]&&(e.minwidth=Math.max(e.minwidth,e.editors[i].options.grid_columns||e.editors[i].getNumColumns()),e.maxwidth+=e.editors[i].options.grid_columns||e.editors[i].getNumColumns())})}this.property_order=Object.keys(this.editors),this.property_order=this.property_order.sort(function(t,i){var n=e.editors[t].schema.propertyOrder,s=e.editors[i].schema.propertyOrder;return"number"!=typeof n&&(n=1e3),"number"!=typeof s&&(s=1e3),n-s})},build:function(){var e=this;if(this.options.table_row)this.editor_holder=this.container,s(this.editors,function(t,i){var n=e.theme.getTableCell();e.editor_holder.appendChild(n),i.setContainer(n),i.build(),i.postBuild(),e.editors[t].options.hidden&&(n.style.display="none"),e.editors[t].options.input_width&&(n.style.width=e.editors[t].options.input_width)});else{if(this.options.table)throw"Not supported yet";this.header=document.createElement("span"),this.header.textContent=this.getTitle(),this.title=this.theme.getHeader(this.header),this.container.appendChild(this.title),this.container.style.position="relative",this.editjson_holder=this.theme.getModal(),this.editjson_textarea=this.theme.getTextareaInput(),this.editjson_textarea.style.height="170px",this.editjson_textarea.style.width="300px",this.editjson_textarea.style.display="block",this.editjson_save=this.getButton("Save","save","Save"),this.editjson_save.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e.saveJSON()}),this.editjson_cancel=this.getButton("Cancel","cancel","Cancel"),this.editjson_cancel.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e.hideEditJSON()}),this.editjson_holder.appendChild(this.editjson_textarea),this.editjson_holder.appendChild(this.editjson_save),this.editjson_holder.appendChild(this.editjson_cancel),this.addproperty_holder=this.theme.getModal(),this.addproperty_list=document.createElement("div"),this.addproperty_list.style.width="295px",this.addproperty_list.style.maxHeight="160px",this.addproperty_list.style.padding="5px 0",this.addproperty_list.style.overflowY="auto",this.addproperty_list.style.overflowX="hidden",this.addproperty_list.style.paddingLeft="5px",this.addproperty_list.setAttribute("class","property-selector"),this.addproperty_add=this.getButton("add","add","add"),this.addproperty_input=this.theme.getFormInputField("text"),this.addproperty_input.setAttribute("placeholder","Property name..."),this.addproperty_input.style.width="220px",this.addproperty_input.style.marginBottom="0",this.addproperty_input.style.display="inline-block",this.addproperty_add.addEventListener("click",function(t){if(t.preventDefault(),t.stopPropagation(),e.addproperty_input.value){if(e.editors[e.addproperty_input.value])return void window.alert("there is already a property with that name");e.addObjectProperty(e.addproperty_input.value),e.editors[e.addproperty_input.value]&&e.editors[e.addproperty_input.value].disable(),e.onChange(!0)}}),this.addproperty_holder.appendChild(this.addproperty_list),this.addproperty_holder.appendChild(this.addproperty_input),this.addproperty_holder.appendChild(this.addproperty_add);var t=document.createElement("div");t.style.clear="both",this.addproperty_holder.appendChild(t),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description),this.container.appendChild(this.description)),this.error_holder=document.createElement("div"),this.container.appendChild(this.error_holder),this.editor_holder=this.theme.getIndentedPanel(),this.container.appendChild(this.editor_holder),this.row_container=this.theme.getGridContainer(),this.editor_holder.appendChild(this.row_container),s(this.editors,function(t,i){var n=e.theme.getGridColumn();e.row_container.appendChild(n),i.setContainer(n),i.build(),i.postBuild()}),this.title_controls=this.theme.getHeaderButtonHolder(),this.editjson_controls=this.theme.getHeaderButtonHolder(),this.addproperty_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.title.appendChild(this.editjson_controls),this.title.appendChild(this.addproperty_controls),this.collapsed=!1,this.toggle_button=this.getButton("","collapse",this.translate("button_collapse")),this.title_controls.appendChild(this.toggle_button),this.toggle_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e.collapsed?(e.editor_holder.style.display="",e.collapsed=!1,e.setButtonText(e.toggle_button,"","collapse",e.translate("button_collapse"))):(e.editor_holder.style.display="none",e.collapsed=!0,e.setButtonText(e.toggle_button,"","expand",e.translate("button_expand")))}),this.options.collapsed&&r(this.toggle_button,"click"),this.schema.options&&void 0!==this.schema.options.disable_collapse?this.schema.options.disable_collapse&&(this.toggle_button.style.display="none"):this.jsoneditor.options.disable_collapse&&(this.toggle_button.style.display="none"),this.editjson_button=this.getButton("JSON","edit","Edit JSON"),this.editjson_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e.toggleEditJSON()}),this.editjson_controls.appendChild(this.editjson_button),this.editjson_controls.appendChild(this.editjson_holder),this.schema.options&&void 0!==this.schema.options.disable_edit_json?this.schema.options.disable_edit_json&&(this.editjson_button.style.display="none"):this.jsoneditor.options.disable_edit_json&&(this.editjson_button.style.display="none"),this.addproperty_button=this.getButton("Properties","edit","Object Properties"),this.addproperty_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e.toggleAddProperty()}),this.addproperty_controls.appendChild(this.addproperty_button),this.addproperty_controls.appendChild(this.addproperty_holder),this.refreshAddProperties()}this.options.table_row?(this.editor_holder=this.container,s(this.property_order,function(t,i){e.editor_holder.appendChild(e.editors[i].container)})):(this.layoutEditors(),this.layoutEditors())},showEditJSON:function(){this.editjson_holder&&(this.hideAddProperty(),this.editjson_holder.style.left=this.editjson_button.offsetLeft+"px",this.editjson_holder.style.top=this.editjson_button.offsetTop+this.editjson_button.offsetHeight+"px",this.editjson_textarea.value=JSON.stringify(this.getValue(),null,2),this.disable(),this.editjson_holder.style.display="",this.editjson_button.disabled=!1,this.editing_json=!0)},hideEditJSON:function(){this.editjson_holder&&this.editing_json&&(this.editjson_holder.style.display="none",this.enable(),this.editing_json=!1)},saveJSON:function(){if(this.editjson_holder)try{var e=JSON.parse(this.editjson_textarea.value);this.setValue(e),this.hideEditJSON()}catch(e){throw window.alert("invalid JSON"),e}},toggleEditJSON:function(){this.editing_json?this.hideEditJSON():this.showEditJSON()},insertPropertyControlUsingPropertyOrder:function(e,t,i){var n;this.schema.properties[e]&&(n=this.schema.properties[e].propertyOrder),"number"!=typeof n&&(n=1e3),t.propertyOrder=n;for(var s=0;s<i.childNodes.length;s++){var r=i.childNodes[s];if(t.propertyOrder<r.propertyOrder){this.addproperty_list.insertBefore(t,r),t=null;break}}t&&this.addproperty_list.appendChild(t)},addPropertyCheckbox:function(e){var t,i,n,s,r=this;return(t=r.theme.getCheckbox()).style.width="auto",n=this.schema.properties[e]&&this.schema.properties[e].title?this.schema.properties[e].title:e,i=r.theme.getCheckboxLabel(n),(s=r.theme.getFormControl(i,t)).style.paddingBottom=s.style.marginBottom=s.style.paddingTop=s.style.marginTop=0,s.style.height="auto",this.insertPropertyControlUsingPropertyOrder(e,s,this.addproperty_list),t.checked=e in this.editors,t.addEventListener("change",function(){t.checked?r.addObjectProperty(e):r.removeObjectProperty(e),r.onChange(!0)}),r.addproperty_checkboxes[e]=t,t},showAddProperty:function(){this.addproperty_holder&&(this.hideEditJSON(),this.addproperty_holder.style.left=this.addproperty_button.offsetLeft+"px",this.addproperty_holder.style.top=this.addproperty_button.offsetTop+this.addproperty_button.offsetHeight+"px",this.disable(),this.adding_property=!0,this.addproperty_button.disabled=!1,this.addproperty_holder.style.display="",this.refreshAddProperties())},hideAddProperty:function(){this.addproperty_holder&&this.adding_property&&(this.addproperty_holder.style.display="none",this.enable(),this.adding_property=!1)},toggleAddProperty:function(){this.adding_property?this.hideAddProperty():this.showAddProperty()},removeObjectProperty:function(e){this.editors[e]&&(this.editors[e].unregister(),delete this.editors[e],this.refreshValue(),this.layoutEditors())},addObjectProperty:function(e,t){if(!this.editors[e]){if(this.cached_editors[e]){if(this.editors[e]=this.cached_editors[e],t)return;this.editors[e].register()}else{if(!(this.canHaveAdditionalProperties()||this.schema.properties&&this.schema.properties[e]))return;var i=this.getPropertySchema(e),n=this.jsoneditor.getEditorClass(i);if(this.editors[e]=this.jsoneditor.createEditor(n,{jsoneditor:this.jsoneditor,schema:i,path:this.path+"."+e,parent:this}),this.editors[e].preBuild(),!t){var s=this.theme.getChildEditorHolder();this.editor_holder.appendChild(s),this.editors[e].setContainer(s),this.editors[e].build(),this.editors[e].postBuild()}this.cached_editors[e]=this.editors[e]}t||(this.refreshValue(),this.layoutEditors())}},onChildEditorChange:function(e){this.refreshValue(),this._super(e)},canHaveAdditionalProperties:function(){return"boolean"==typeof this.schema.additionalProperties?this.schema.additionalProperties:!this.jsoneditor.options.no_additional_properties},destroy:function(){s(this.cached_editors,function(e,t){t.destroy()}),this.editor_holder&&(this.editor_holder.innerHTML=""),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.error_holder&&this.error_holder.parentNode&&this.error_holder.parentNode.removeChild(this.error_holder),this.editors=null,this.cached_editors=null,this.editor_holder&&this.editor_holder.parentNode&&this.editor_holder.parentNode.removeChild(this.editor_holder),this.editor_holder=null,this._super()},getValue:function(){var e=this._super();if(this.jsoneditor.options.remove_empty_properties||this.options.remove_empty_properties)for(var t in e)e.hasOwnProperty(t)&&(e[t]||delete e[t]);return e},refreshValue:function(){this.value={};for(var e in this.editors)this.editors.hasOwnProperty(e)&&(this.value[e]=this.editors[e].getValue());this.adding_property&&this.refreshAddProperties()},refreshAddProperties:function(){if(this.options.disable_properties||!1!==this.options.disable_properties&&this.jsoneditor.options.disable_properties)this.addproperty_controls.style.display="none";else{var e,t,i=0,n=!1;for(e in this.editors)this.editors.hasOwnProperty(e)&&i++;t=this.canHaveAdditionalProperties()&&!(void 0!==this.schema.maxProperties&&i>=this.schema.maxProperties),this.addproperty_checkboxes&&(this.addproperty_list.innerHTML=""),this.addproperty_checkboxes={};for(e in this.cached_editors)this.cached_editors.hasOwnProperty(e)&&(this.addPropertyCheckbox(e),this.isRequired(this.cached_editors[e])&&e in this.editors&&(this.addproperty_checkboxes[e].disabled=!0),void 0!==this.schema.minProperties&&i<=this.schema.minProperties?(this.addproperty_checkboxes[e].disabled=this.addproperty_checkboxes[e].checked,this.addproperty_checkboxes[e].checked||(n=!0)):e in this.editors?(n=!0,!0):t||this.schema.properties.hasOwnProperty(e)?(this.addproperty_checkboxes[e].disabled=!1,n=!0):this.addproperty_checkboxes[e].disabled=!0);this.canHaveAdditionalProperties()&&(n=!0);for(e in this.schema.properties)this.schema.properties.hasOwnProperty(e)&&(this.cached_editors[e]||(n=!0,this.addPropertyCheckbox(e)));n?this.canHaveAdditionalProperties()?this.addproperty_add.disabled=!t:(this.addproperty_add.style.display="none",this.addproperty_input.style.display="none"):(this.hideAddProperty(),this.addproperty_controls.style.display="none")}},isRequired:function(e){return"boolean"==typeof e.schema.required?e.schema.required:Array.isArray(this.schema.required)?this.schema.required.indexOf(e.key)>-1:!!this.jsoneditor.options.required_by_default},setValue:function(e,t){var i=this;("object"!=typeof(e=e||{})||Array.isArray(e))&&(e={}),s(this.cached_editors,function(n,s){void 0!==e[n]?(i.addObjectProperty(n),s.setValue(e[n],t)):t||i.isRequired(s)?s.setValue(s.getDefault(),t):i.removeObjectProperty(n)}),s(e,function(e,n){i.cached_editors[e]||(i.addObjectProperty(e),i.editors[e]&&i.editors[e].setValue(n,t))}),this.refreshValue(),this.layoutEditors(),this.onChange()},showValidationErrors:function(e){var t=this,i=[],n=[];s(e,function(e,s){s.path===t.path?i.push(s):n.push(s)}),this.error_holder&&(i.length?(this.error_holder.innerHTML="",this.error_holder.style.display="",s(i,function(e,i){t.error_holder.appendChild(t.theme.getErrorMessage(i.message))})):this.error_holder.style.display="none"),this.options.table_row&&(i.length?this.theme.addTableRowError(this.container):this.theme.removeTableRowError(this.container)),s(this.editors,function(e,t){t.showValidationErrors(n)})}}),o.defaults.editors.array=o.AbstractEditor.extend({getDefault:function(){return this.schema.default||[]},register:function(){if(this._super(),this.rows)for(var e=0;e<this.rows.length;e++)this.rows[e].register()},unregister:function(){if(this._super(),this.rows)for(var e=0;e<this.rows.length;e++)this.rows[e].unregister()},getNumColumns:function(){var e=this.getItemInfo(0);return this.tabs_holder?Math.max(Math.min(12,e.width+2),4):e.width},enable:function(){if(this.add_row_button&&(this.add_row_button.disabled=!1),this.remove_all_rows_button&&(this.remove_all_rows_button.disabled=!1),this.delete_last_row_button&&(this.delete_last_row_button.disabled=!1),this.rows)for(var e=0;e<this.rows.length;e++)this.rows[e].enable(),this.rows[e].moveup_button&&(this.rows[e].moveup_button.disabled=!1),this.rows[e].movedown_button&&(this.rows[e].movedown_button.disabled=!1),this.rows[e].delete_button&&(this.rows[e].delete_button.disabled=!1);this._super()},disable:function(){if(this.add_row_button&&(this.add_row_button.disabled=!0),this.remove_all_rows_button&&(this.remove_all_rows_button.disabled=!0),this.delete_last_row_button&&(this.delete_last_row_button.disabled=!0),this.rows)for(var e=0;e<this.rows.length;e++)this.rows[e].disable(),this.rows[e].moveup_button&&(this.rows[e].moveup_button.disabled=!0),this.rows[e].movedown_button&&(this.rows[e].movedown_button.disabled=!0),this.rows[e].delete_button&&(this.rows[e].delete_button.disabled=!0);this._super()},preBuild:function(){this._super(),this.rows=[],this.row_cache=[],this.hide_delete_buttons=this.options.disable_array_delete||this.jsoneditor.options.disable_array_delete,this.hide_delete_all_rows_buttons=this.hide_delete_buttons||this.options.disable_array_delete_all_rows||this.jsoneditor.options.disable_array_delete_all_rows,this.hide_delete_last_row_buttons=this.hide_delete_buttons||this.options.disable_array_delete_last_row||this.jsoneditor.options.disable_array_delete_last_row,this.hide_move_buttons=this.options.disable_array_reorder||this.jsoneditor.options.disable_array_reorder,this.hide_add_button=this.options.disable_array_add||this.jsoneditor.options.disable_array_add},build:function(){this.options.compact?(this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.controls=this.theme.getButtonHolder(),this.panel.appendChild(this.controls),this.row_holder=document.createElement("div"),this.panel.appendChild(this.row_holder)):(this.header=document.createElement("span"),this.header.textContent=this.getTitle(),this.title=this.theme.getHeader(this.header),this.container.appendChild(this.title),this.title_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description),this.container.appendChild(this.description)),this.error_holder=document.createElement("div"),this.container.appendChild(this.error_holder),"tabs"===this.schema.format?(this.controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.controls),this.tabs_holder=this.theme.getTabHolder(),this.container.appendChild(this.tabs_holder),this.row_holder=this.theme.getTabContentHolder(this.tabs_holder),this.active_tab=null):(this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.row_holder=document.createElement("div"),this.panel.appendChild(this.row_holder),this.controls=this.theme.getButtonHolder(),this.panel.appendChild(this.controls))),this.addControls()},onChildEditorChange:function(e){this.refreshValue(),this.refreshTabs(!0),this._super(e)},getItemTitle:function(){if(!this.item_title)if(this.schema.items&&!Array.isArray(this.schema.items)){var e=this.jsoneditor.expandRefs(this.schema.items);this.item_title=e.title||"item"}else this.item_title="item";return this.item_title},getItemSchema:function(e){return Array.isArray(this.schema.items)?e>=this.schema.items.length?!0===this.schema.additionalItems?{}:this.schema.additionalItems?n({},this.schema.additionalItems):void 0:n({},this.schema.items[e]):this.schema.items?n({},this.schema.items):{}},getItemInfo:function(e){var t=this.getItemSchema(e);this.item_info=this.item_info||{};var i=JSON.stringify(t);return void 0!==this.item_info[i]?this.item_info[i]:(t=this.jsoneditor.expandRefs(t),this.item_info[i]={title:t.title||"item",default:t.default,width:12,child_editors:t.properties||t.items},this.item_info[i])},getElementEditor:function(e){var t=this.getItemInfo(e),i=this.getItemSchema(e);(i=this.jsoneditor.expandRefs(i)).title=t.title+" "+(e+1);var n,s=this.jsoneditor.getEditorClass(i);n=this.tabs_holder?this.theme.getTabContent():t.child_editors?this.theme.getChildEditorHolder():this.theme.getIndentedPanel(),this.row_holder.appendChild(n);var r=this.jsoneditor.createEditor(s,{jsoneditor:this.jsoneditor,schema:i,container:n,path:this.path+"."+e,parent:this,required:!0});return r.preBuild(),r.build(),r.postBuild(),r.title_controls||(r.array_controls=this.theme.getButtonHolder(),n.appendChild(r.array_controls)),r},destroy:function(){this.empty(!0),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.row_holder&&this.row_holder.parentNode&&this.row_holder.parentNode.removeChild(this.row_holder),this.controls&&this.controls.parentNode&&this.controls.parentNode.removeChild(this.controls),this.panel&&this.panel.parentNode&&this.panel.parentNode.removeChild(this.panel),this.rows=this.row_cache=this.title=this.description=this.row_holder=this.panel=this.controls=null,this._super()},empty:function(e){if(this.rows){var t=this;s(this.rows,function(i,n){e&&(n.tab&&n.tab.parentNode&&n.tab.parentNode.removeChild(n.tab),t.destroyRow(n,!0),t.row_cache[i]=null),t.rows[i]=null}),t.rows=[],e&&(t.row_cache=[])}},destroyRow:function(e,t){var i=e.container;t?(e.destroy(),i.parentNode&&i.parentNode.removeChild(i),e.tab&&e.tab.parentNode&&e.tab.parentNode.removeChild(e.tab)):(e.tab&&(e.tab.style.display="none"),i.style.display="none",e.unregister())},getMax:function(){return Array.isArray(this.schema.items)&&!1===this.schema.additionalItems?Math.min(this.schema.items.length,this.schema.maxItems||1/0):this.schema.maxItems||1/0},refreshTabs:function(e){var t=this;s(this.rows,function(i,n){n.tab&&(e?n.tab_text.textContent=n.getHeaderText():n.tab===t.active_tab?(t.theme.markTabActive(n.tab),n.container.style.display=""):(t.theme.markTabInactive(n.tab),n.container.style.display="none"))})},setValue:function(e,t){if(e=e||[],Array.isArray(e)||(e=[e]),JSON.stringify(e)!==this.serialized){if(this.schema.minItems)for(;e.length<this.schema.minItems;)e.push(this.getItemInfo(e.length).default);this.getMax()&&e.length>this.getMax()&&(e=e.slice(0,this.getMax()));var i=this;s(e,function(e,n){i.rows[e]?i.rows[e].setValue(n,t):i.row_cache[e]?(i.rows[e]=i.row_cache[e],i.rows[e].setValue(n,t),i.rows[e].container.style.display="",i.rows[e].tab&&(i.rows[e].tab.style.display=""),i.rows[e].register()):i.addRow(n,t)});for(var n=e.length;n<i.rows.length;n++)i.destroyRow(i.rows[n]),i.rows[n]=null;i.rows=i.rows.slice(0,e.length);var r=null;s(i.rows,function(e,t){if(t.tab===i.active_tab)return r=t.tab,!1}),!r&&i.rows.length&&(r=i.rows[0].tab),i.active_tab=r,i.refreshValue(t),i.refreshTabs(!0),i.refreshTabs(),i.onChange()}},refreshValue:function(e){var t=this,i=this.value?this.value.length:0;if(this.value=[],s(this.rows,function(e,i){t.value[e]=i.getValue()}),i!==this.value.length||e){var n=this.schema.minItems&&this.schema.minItems>=this.rows.length;s(this.rows,function(e,i){i.movedown_button&&(e===t.rows.length-1?i.movedown_button.style.display="none":i.movedown_button.style.display=""),i.delete_button&&(i.delete_button.style.display=n?"none":""),t.value[e]=i.getValue()});var r=!1;this.value.length?1===this.value.length?(this.remove_all_rows_button.style.display="none",n||this.hide_delete_last_row_buttons?this.delete_last_row_button.style.display="none":(this.delete_last_row_button.style.display="",r=!0)):(n||this.hide_delete_last_row_buttons?this.delete_last_row_button.style.display="none":(this.delete_last_row_button.style.display="",r=!0),n||this.hide_delete_all_rows_buttons?this.remove_all_rows_button.style.display="none":(this.remove_all_rows_button.style.display="",r=!0)):(this.delete_last_row_button.style.display="none",this.remove_all_rows_button.style.display="none"),this.getMax()&&this.getMax()<=this.rows.length||this.hide_add_button?this.add_row_button.style.display="none":(this.add_row_button.style.display="",r=!0),!this.collapsed&&r?this.controls.style.display="inline-block":this.controls.style.display="none"}},addRow:function(e,t){var i=this,n=this.rows.length;i.rows[n]=this.getElementEditor(n),i.row_cache[n]=i.rows[n],i.tabs_holder&&(i.rows[n].tab_text=document.createElement("span"),i.rows[n].tab_text.textContent=i.rows[n].getHeaderText(),i.rows[n].tab=i.theme.getTab(i.rows[n].tab_text),i.rows[n].tab.addEventListener("click",function(e){i.active_tab=i.rows[n].tab,i.refreshTabs(),e.preventDefault(),e.stopPropagation()}),i.theme.addTab(i.tabs_holder,i.rows[n].tab));var r=i.rows[n].title_controls||i.rows[n].array_controls;i.hide_delete_buttons||(i.rows[n].delete_button=this.getButton(i.getItemTitle(),"delete",this.translate("button_delete_row_title",[i.getItemTitle()])),i.rows[n].delete_button.className+=" delete",i.rows[n].delete_button.setAttribute("data-i",n),i.rows[n].delete_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var t=1*this.getAttribute("data-i"),n=i.getValue(),r=[],o=null;s(n,function(e,n){return e===t?void(i.rows[e].tab===i.active_tab&&(i.rows[e+1]?o=i.rows[e].tab:e&&(o=i.rows[e-1].tab))):void r.push(n)}),i.setValue(r),o&&(i.active_tab=o,i.refreshTabs()),i.onChange(!0)}),r&&r.appendChild(i.rows[n].delete_button)),n&&!i.hide_move_buttons&&(i.rows[n].moveup_button=this.getButton("","moveup",this.translate("button_move_up_title")),i.rows[n].moveup_button.className+=" moveup",i.rows[n].moveup_button.setAttribute("data-i",n),i.rows[n].moveup_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var t=1*this.getAttribute("data-i");if(!(t<=0)){var n=i.getValue(),s=n[t-1];n[t-1]=n[t],n[t]=s,i.setValue(n),i.active_tab=i.rows[t-1].tab,i.refreshTabs(),i.onChange(!0)}}),r&&r.appendChild(i.rows[n].moveup_button)),i.hide_move_buttons||(i.rows[n].movedown_button=this.getButton("","movedown",this.translate("button_move_down_title")),i.rows[n].movedown_button.className+=" movedown",i.rows[n].movedown_button.setAttribute("data-i",n),i.rows[n].movedown_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var t=1*this.getAttribute("data-i"),n=i.getValue();if(!(t>=n.length-1)){var s=n[t+1];n[t+1]=n[t],n[t]=s,i.setValue(n),i.active_tab=i.rows[t+1].tab,i.refreshTabs(),i.onChange(!0)}}),r&&r.appendChild(i.rows[n].movedown_button)),e&&i.rows[n].setValue(e,t),i.refreshTabs()},addControls:function(){var e=this;this.collapsed=!1,this.toggle_button=this.getButton("","collapse",this.translate("button_collapse")),this.title_controls.appendChild(this.toggle_button);var t=e.row_holder.style.display,i=e.controls.style.display;this.toggle_button.addEventListener("click",function(n){n.preventDefault(),n.stopPropagation(),e.collapsed?(e.collapsed=!1,e.panel&&(e.panel.style.display=""),e.row_holder.style.display=t,e.tabs_holder&&(e.tabs_holder.style.display=""),e.controls.style.display=i,e.setButtonText(this,"","collapse",e.translate("button_collapse"))):(e.collapsed=!0,e.row_holder.style.display="none",e.tabs_holder&&(e.tabs_holder.style.display="none"),e.controls.style.display="none",e.panel&&(e.panel.style.display="none"),e.setButtonText(this,"","expand",e.translate("button_expand")))}),this.options.collapsed&&r(this.toggle_button,"click"),this.schema.options&&void 0!==this.schema.options.disable_collapse?this.schema.options.disable_collapse&&(this.toggle_button.style.display="none"):this.jsoneditor.options.disable_collapse&&(this.toggle_button.style.display="none"),this.add_row_button=this.getButton(this.getItemTitle(),"add",this.translate("button_add_row_title",[this.getItemTitle()])),this.add_row_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();var i=e.rows.length;e.row_cache[i]?(e.rows[i]=e.row_cache[i],e.rows[i].setValue(e.rows[i].getDefault(),!0),e.rows[i].container.style.display="",e.rows[i].tab&&(e.rows[i].tab.style.display=""),e.rows[i].register()):e.addRow(),e.active_tab=e.rows[i].tab,e.refreshTabs(),e.refreshValue(),e.onChange(!0)}),e.controls.appendChild(this.add_row_button),this.delete_last_row_button=this.getButton(this.translate("button_delete_last",[this.getItemTitle()]),"delete",this.translate("button_delete_last_title",[this.getItemTitle()])),this.delete_last_row_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();var i=e.getValue(),n=null;e.rows.length>1&&e.rows[e.rows.length-1].tab===e.active_tab&&(n=e.rows[e.rows.length-2].tab),i.pop(),e.setValue(i),n&&(e.active_tab=n,e.refreshTabs()),e.onChange(!0)}),e.controls.appendChild(this.delete_last_row_button),this.remove_all_rows_button=this.getButton(this.translate("button_delete_all"),"delete",this.translate("button_delete_all_title")),this.remove_all_rows_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e.setValue([]),e.onChange(!0)}),e.controls.appendChild(this.remove_all_rows_button),e.tabs&&(this.add_row_button.style.width="100%",this.add_row_button.style.textAlign="left",this.add_row_button.style.marginBottom="3px",this.delete_last_row_button.style.width="100%",this.delete_last_row_button.style.textAlign="left",this.delete_last_row_button.style.marginBottom="3px",this.remove_all_rows_button.style.width="100%",this.remove_all_rows_button.style.textAlign="left",this.remove_all_rows_button.style.marginBottom="3px")},showValidationErrors:function(e){var t=this,i=[],n=[];s(e,function(e,s){s.path===t.path?i.push(s):n.push(s)}),this.error_holder&&(i.length?(this.error_holder.innerHTML="",this.error_holder.style.display="",s(i,function(e,i){t.error_holder.appendChild(t.theme.getErrorMessage(i.message))})):this.error_holder.style.display="none"),s(this.rows,function(e,t){t.showValidationErrors(n)})}}),o.defaults.editors.table=o.defaults.editors.array.extend({register:function(){if(this._super(),this.rows)for(var e=0;e<this.rows.length;e++)this.rows[e].register()},unregister:function(){if(this._super(),this.rows)for(var e=0;e<this.rows.length;e++)this.rows[e].unregister()},getNumColumns:function(){return Math.max(Math.min(12,this.width),3)},preBuild:function(){var e=this.jsoneditor.expandRefs(this.schema.items||{});this.item_title=e.title||"row",this.item_default=e.default||null,this.item_has_child_editors=e.properties||e.items,this.width=12,this._super()},build:function(){this.table=this.theme.getTable(),this.container.appendChild(this.table),this.thead=this.theme.getTableHead(),this.table.appendChild(this.thead),this.header_row=this.theme.getTableRow(),this.thead.appendChild(this.header_row),this.row_holder=this.theme.getTableBody(),this.table.appendChild(this.row_holder);var e=this.getElementEditor(0,!0);if(this.item_default=e.getDefault(),this.width=e.getNumColumns()+2,this.options.compact?(this.panel=document.createElement("div"),this.container.appendChild(this.panel)):(this.title=this.theme.getHeader(this.getTitle()),this.container.appendChild(this.title),this.title_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description),this.container.appendChild(this.description)),this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.error_holder=document.createElement("div"),this.panel.appendChild(this.error_holder)),this.panel.appendChild(this.table),this.controls=this.theme.getButtonHolder(),this.panel.appendChild(this.controls),this.item_has_child_editors)for(var t=e.getChildEditors(),i=e.property_order||Object.keys(t),n=0;n<i.length;n++){var s=this.theme.getTableHeaderCell(t[i[n]].getTitle());t[i[n]].options.hidden&&(s.style.display="none"),this.header_row.appendChild(s)}else this.header_row.appendChild(this.theme.getTableHeaderCell(this.item_title));e.destroy(),this.row_holder.innerHTML="",this.controls_header_cell=this.theme.getTableHeaderCell(" "),this.header_row.appendChild(this.controls_header_cell),this.addControls()},onChildEditorChange:function(e){this.refreshValue(),this._super()},getItemDefault:function(){return n({},{default:this.item_default}).default},getItemTitle:function(){return this.item_title},getElementEditor:function(e,t){var i=n({},this.schema.items),s=this.jsoneditor.getEditorClass(i,this.jsoneditor),r=this.row_holder.appendChild(this.theme.getTableRow()),o=r;this.item_has_child_editors||(o=this.theme.getTableCell(),r.appendChild(o));var a=this.jsoneditor.createEditor(s,{jsoneditor:this.jsoneditor,schema:i,container:o,path:this.path+"."+e,parent:this,compact:!0,table_row:!0});return a.preBuild(),t||(a.build(),a.postBuild(),a.controls_cell=r.appendChild(this.theme.getTableCell()),a.row=r,a.table_controls=this.theme.getButtonHolder(),a.controls_cell.appendChild(a.table_controls),a.table_controls.style.margin=0,a.table_controls.style.padding=0),a},destroy:function(){this.innerHTML="",this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.row_holder&&this.row_holder.parentNode&&this.row_holder.parentNode.removeChild(this.row_holder),this.table&&this.table.parentNode&&this.table.parentNode.removeChild(this.table),this.panel&&this.panel.parentNode&&this.panel.parentNode.removeChild(this.panel),this.rows=this.title=this.description=this.row_holder=this.table=this.panel=null,this._super()},setValue:function(e,t){if(e=e||[],this.schema.minItems)for(;e.length<this.schema.minItems;)e.push(this.getItemDefault());if(this.schema.maxItems&&e.length>this.schema.maxItems&&(e=e.slice(0,this.schema.maxItems)),JSON.stringify(e)!==this.serialized){var i=!1,n=this;s(e,function(e,t){n.rows[e]?n.rows[e].setValue(t):(n.addRow(t),i=!0)});for(var r=e.length;r<n.rows.length;r++){var o=n.rows[r].container;n.item_has_child_editors||n.rows[r].row.parentNode.removeChild(n.rows[r].row),n.rows[r].destroy(),o.parentNode&&o.parentNode.removeChild(o),n.rows[r]=null,i=!0}n.rows=n.rows.slice(0,e.length),n.refreshValue(),(i||t)&&n.refreshRowButtons(),n.onChange()}},refreshRowButtons:function(){var e=this,t=this.schema.minItems&&this.schema.minItems>=this.rows.length,i=!1;s(this.rows,function(n,s){s.movedown_button&&(n===e.rows.length-1?s.movedown_button.style.display="none":(i=!0,s.movedown_button.style.display="")),s.delete_button&&(t?s.delete_button.style.display="none":(i=!0,s.delete_button.style.display="")),s.moveup_button&&(i=!0)}),s(this.rows,function(e,t){t.controls_cell.style.display=i?"":"none"}),this.controls_header_cell.style.display=i?"":"none";var n=!1;this.value.length?1===this.value.length?(this.table.style.display="",this.remove_all_rows_button.style.display="none",t||this.hide_delete_last_row_buttons?this.delete_last_row_button.style.display="none":(this.delete_last_row_button.style.display="",n=!0)):(this.table.style.display="",t||this.hide_delete_last_row_buttons?this.delete_last_row_button.style.display="none":(this.delete_last_row_button.style.display="",n=!0),t||this.hide_delete_all_rows_buttons?this.remove_all_rows_button.style.display="none":(this.remove_all_rows_button.style.display="",n=!0)):(this.delete_last_row_button.style.display="none",this.remove_all_rows_button.style.display="none",this.table.style.display="none"),this.schema.maxItems&&this.schema.maxItems<=this.rows.length||this.hide_add_button?this.add_row_button.style.display="none":(this.add_row_button.style.display="",n=!0),this.controls.style.display=n?"":"none"},refreshValue:function(){var e=this;this.value=[],s(this.rows,function(t,i){e.value[t]=i.getValue()}),this.serialized=JSON.stringify(this.value)},addRow:function(e){var t=this,i=this.rows.length;t.rows[i]=this.getElementEditor(i);var n=t.rows[i].table_controls;this.hide_delete_buttons||(t.rows[i].delete_button=this.getButton("","delete",this.translate("button_delete_row_title_short")),t.rows[i].delete_button.className+=" delete",t.rows[i].delete_button.setAttribute("data-i",i),t.rows[i].delete_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var i=1*this.getAttribute("data-i"),n=t.getValue(),r=[];s(n,function(e,t){e!==i&&r.push(t)}),t.setValue(r),t.onChange(!0)}),n.appendChild(t.rows[i].delete_button)),i&&!this.hide_move_buttons&&(t.rows[i].moveup_button=this.getButton("","moveup",this.translate("button_move_up_title")),t.rows[i].moveup_button.className+=" moveup",t.rows[i].moveup_button.setAttribute("data-i",i),t.rows[i].moveup_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var i=1*this.getAttribute("data-i");if(!(i<=0)){var n=t.getValue(),s=n[i-1];n[i-1]=n[i],n[i]=s,t.setValue(n),t.onChange(!0)}}),n.appendChild(t.rows[i].moveup_button)),this.hide_move_buttons||(t.rows[i].movedown_button=this.getButton("","movedown",this.translate("button_move_down_title")),t.rows[i].movedown_button.className+=" movedown",t.rows[i].movedown_button.setAttribute("data-i",i),t.rows[i].movedown_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var i=1*this.getAttribute("data-i"),n=t.getValue();if(!(i>=n.length-1)){var s=n[i+1];n[i+1]=n[i],n[i]=s,t.setValue(n),t.onChange(!0)}}),n.appendChild(t.rows[i].movedown_button)),e&&t.rows[i].setValue(e)},addControls:function(){var e=this;this.collapsed=!1,this.toggle_button=this.getButton("","collapse",this.translate("button_collapse")),this.title_controls&&(this.title_controls.appendChild(this.toggle_button),this.toggle_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e.collapsed?(e.collapsed=!1,e.panel.style.display="",e.setButtonText(this,"","collapse",e.translate("button_collapse"))):(e.collapsed=!0,e.panel.style.display="none",e.setButtonText(this,"","expand",e.translate("button_expand")))}),this.options.collapsed&&r(this.toggle_button,"click"),this.schema.options&&void 0!==this.schema.options.disable_collapse?this.schema.options.disable_collapse&&(this.toggle_button.style.display="none"):this.jsoneditor.options.disable_collapse&&(this.toggle_button.style.display="none")),this.add_row_button=this.getButton(this.getItemTitle(),"add",this.translate("button_add_row_title",[this.getItemTitle()])),this.add_row_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e.addRow(),e.refreshValue(),e.refreshRowButtons(),e.onChange(!0)}),e.controls.appendChild(this.add_row_button),this.delete_last_row_button=this.getButton(this.translate("button_delete_last",[this.getItemTitle()]),"delete",this.translate("button_delete_last_title",[this.getItemTitle()])),this.delete_last_row_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();var i=e.getValue();i.pop(),e.setValue(i),e.onChange(!0)}),e.controls.appendChild(this.delete_last_row_button),this.remove_all_rows_button=this.getButton(this.translate("button_delete_all"),"delete",this.translate("button_delete_all_title")),this.remove_all_rows_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e.setValue([]),e.onChange(!0)}),e.controls.appendChild(this.remove_all_rows_button)}}),o.defaults.editors.multiple=o.AbstractEditor.extend({register:function(){if(this.editors){for(var e=0;e<this.editors.length;e++)this.editors[e]&&this.editors[e].unregister();this.editors[this.type]&&this.editors[this.type].register()}this._super()},unregister:function(){if(this._super(),this.editors)for(var e=0;e<this.editors.length;e++)this.editors[e]&&this.editors[e].unregister()},getNumColumns:function(){return this.editors[this.type]?Math.max(this.editors[this.type].getNumColumns(),4):4},enable:function(){if(this.editors)for(var e=0;e<this.editors.length;e++)this.editors[e]&&this.editors[e].enable();this.switcher.disabled=!1,this._super()},disable:function(){if(this.editors)for(var e=0;e<this.editors.length;e++)this.editors[e]&&this.editors[e].disable();this.switcher.disabled=!0,this._super()},switchEditor:function(e){var t=this;this.editors[e]||this.buildChildEditor(e);var i=t.getValue();t.type=e,t.register(),s(t.editors,function(e,n){n&&(t.type===e?(t.keep_values&&n.setValue(i,!0),n.container.style.display=""):n.container.style.display="none")}),t.refreshValue(),t.refreshHeaderText()},buildChildEditor:function(e){var t,i=this,s=this.types[e],r=i.theme.getChildEditorHolder();i.editor_holder.appendChild(r),"string"==typeof s?(t=n({},i.schema)).type=s:(t=n({},i.schema,s),t=i.jsoneditor.expandRefs(t),s.required&&Array.isArray(s.required)&&i.schema.required&&Array.isArray(i.schema.required)&&(t.required=i.schema.required.concat(s.required)));var o=i.jsoneditor.getEditorClass(t);i.editors[e]=i.jsoneditor.createEditor(o,{jsoneditor:i.jsoneditor,schema:t,container:r,path:i.path,parent:i,required:!0}),i.editors[e].preBuild(),i.editors[e].build(),i.editors[e].postBuild(),i.editors[e].header&&(i.editors[e].header.style.display="none"),i.editors[e].option=i.switcher_options[e],r.addEventListener("change_header_text",function(){i.refreshHeaderText()}),e!==i.type&&(r.style.display="none")},preBuild:function(){if(this.types=[],this.type=0,this.editors=[],this.validators=[],this.keep_values=!0,void 0!==this.jsoneditor.options.keep_oneof_values&&(this.keep_values=this.jsoneditor.options.keep_oneof_values),void 0!==this.options.keep_oneof_values&&(this.keep_values=this.options.keep_oneof_values),this.schema.oneOf)this.oneOf=!0,this.types=this.schema.oneOf,delete this.schema.oneOf;else if(this.schema.anyOf)this.anyOf=!0,this.types=this.schema.anyOf,delete this.schema.anyOf;else{if(this.schema.type&&"any"!==this.schema.type)Array.isArray(this.schema.type)?this.types=this.schema.type:this.types=[this.schema.type];else if(this.types=["string","number","integer","boolean","object","array","null"],this.schema.disallow){var e=this.schema.disallow;"object"==typeof e&&Array.isArray(e)||(e=[e]);var t=[];s(this.types,function(i,n){-1===e.indexOf(n)&&t.push(n)}),this.types=t}delete this.schema.type}this.display_text=this.getDisplayText(this.types)},build:function(){var e=this,t=this.container;this.header=this.label=this.theme.getFormInputLabel(this.getTitle()),this.container.appendChild(this.header),this.switcher=this.theme.getSwitcher(this.display_text),t.appendChild(this.switcher),this.switcher.addEventListener("change",function(t){t.preventDefault(),t.stopPropagation(),e.switchEditor(e.display_text.indexOf(this.value)),e.onChange(!0)}),this.editor_holder=document.createElement("div"),t.appendChild(this.editor_holder);var i={};e.jsoneditor.options.custom_validators&&(i.custom_validators=e.jsoneditor.options.custom_validators),this.switcher_options=this.theme.getSwitcherOptions(this.switcher),s(this.types,function(t,s){var r;e.editors[t]=!1,"string"==typeof s?(r=n({},e.schema)).type=s:(r=n({},e.schema,s),s.required&&Array.isArray(s.required)&&e.schema.required&&Array.isArray(e.schema.required)&&(r.required=e.schema.required.concat(s.required))),e.validators[t]=new o.Validator(e.jsoneditor,r,i)}),this.switchEditor(0)},onChildEditorChange:function(e){this.editors[this.type]&&(this.refreshValue(),this.refreshHeaderText()),this._super()},refreshHeaderText:function(){var e=this.getDisplayText(this.types);s(this.switcher_options,function(t,i){i.textContent=e[t]})},refreshValue:function(){this.value=this.editors[this.type].getValue()},setValue:function(e,t){var i=this;s(this.validators,function(t,n){if(!n.validate(e).length)return i.type=t,i.switcher.value=i.display_text[t],!1}),this.switchEditor(this.type),this.editors[this.type].setValue(e,t),this.refreshValue(),i.onChange()},destroy:function(){s(this.editors,function(e,t){t&&t.destroy()}),this.editor_holder&&this.editor_holder.parentNode&&this.editor_holder.parentNode.removeChild(this.editor_holder),this.switcher&&this.switcher.parentNode&&this.switcher.parentNode.removeChild(this.switcher),this._super()},showValidationErrors:function(e){var t=this;if(this.oneOf||this.anyOf){var i=this.oneOf?"oneOf":"anyOf";s(this.editors,function(r,o){if(o){var a=t.path+"."+i+"["+r+"]",l=[];s(e,function(e,i){if(i.path.substr(0,a.length)===a){var s=n({},i);s.path=t.path+s.path.substr(a.length),l.push(s)}}),o.showValidationErrors(l)}})}else s(this.editors,function(t,i){i&&i.showValidationErrors(e)})}}),o.defaults.editors.enum=o.AbstractEditor.extend({getNumColumns:function(){return 4},build:function(){this.container,this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle()),this.container.appendChild(this.title),this.options.enum_titles=this.options.enum_titles||[],this.enum=this.schema.enum,this.selected=0,this.select_options=[],this.html_values=[];for(var e=this,t=0;t<this.enum.length;t++)this.select_options[t]=this.options.enum_titles[t]||"Value "+(t+1),this.html_values[t]=this.getHTML(this.enum[t]);this.switcher=this.theme.getSwitcher(this.select_options),this.container.appendChild(this.switcher),this.display_area=this.theme.getIndentedPanel(),this.container.appendChild(this.display_area),this.options.hide_display&&(this.display_area.style.display="none"),this.switcher.addEventListener("change",function(){e.selected=e.select_options.indexOf(this.value),e.value=e.enum[e.selected],e.refreshValue(),e.onChange(!0)}),this.value=this.enum[0],this.refreshValue(),1===this.enum.length&&(this.switcher.style.display="none")},refreshValue:function(){var e=this;e.selected=-1;var t=JSON.stringify(this.value);return s(this.enum,function(i,n){if(t===JSON.stringify(n))return e.selected=i,!1}),e.selected<0?void e.setValue(e.enum[0]):(this.switcher.value=this.select_options[this.selected],void(this.display_area.innerHTML=this.html_values[this.selected]))},enable:function(){this.always_disabled||(this.switcher.disabled=!1),this._super()},disable:function(){this.switcher.disabled=!0,this._super()},getHTML:function(e){var t=this;if(null===e)return"<em>null</em>";if("object"==typeof e){var i="";return s(e,function(n,s){var r=t.getHTML(s);Array.isArray(e)||(r="<div><em>"+n+"</em>: "+r+"</div>"),i+="<li>"+r+"</li>"}),i=Array.isArray(e)?"<ol>"+i+"</ol>":"<ul style='margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0;'>"+i+"</ul>"}return"boolean"==typeof e?e?"true":"false":"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},setValue:function(e){this.value!==e&&(this.value=e,this.refreshValue(),this.onChange())},destroy:function(){this.display_area&&this.display_area.parentNode&&this.display_area.parentNode.removeChild(this.display_area),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.switcher&&this.switcher.parentNode&&this.switcher.parentNode.removeChild(this.switcher),this._super()}}),o.defaults.editors.select=o.AbstractEditor.extend({setValue:function(e,t){var i=e=this.typecast(e||"");this.enum_values.indexOf(i)<0&&(i=this.enum_values[0]),this.value!==i&&(this.input.value=this.enum_options[this.enum_values.indexOf(i)],this.select2&&this.select2.select2("val",this.input.value),this.value=i,this.onChange())},register:function(){this._super(),this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super(),this.input&&this.input.removeAttribute("name")},getNumColumns:function(){if(!this.enum_options)return 3;for(var e=this.getTitle().length,t=0;t<this.enum_options.length;t++)e=Math.max(e,this.enum_options[t].length+4);return Math.min(12,Math.max(e/7,2))},typecast:function(e){return"boolean"===this.schema.type?!!e:"number"===this.schema.type?1*e:"integer"===this.schema.type?Math.floor(1*e):""+e},getValue:function(){return this.value},preBuild:function(){var e,t=this;if(this.input_type="select",this.enum_options=[],this.enum_values=[],this.enum_display=[],this.schema.enum){var i=this.schema.options&&this.schema.options.enum_titles||[];s(this.schema.enum,function(e,n){t.enum_options[e]=""+n,t.enum_display[e]=""+(i[e]||n),t.enum_values[e]=t.typecast(n)}),this.isRequired()||(t.enum_display.unshift(" "),t.enum_options.unshift("undefined"),t.enum_values.unshift(void 0))}else if("boolean"===this.schema.type)t.enum_display=this.schema.options&&this.schema.options.enum_titles||["true","false"],t.enum_options=["1",""],t.enum_values=[!0,!1],this.isRequired()||(t.enum_display.unshift(" "),t.enum_options.unshift("undefined"),t.enum_values.unshift(void 0));else{if(!this.schema.enumSource)throw"'select' editor requires the enum property to be set.";if(this.enumSource=[],this.enum_display=[],this.enum_options=[],this.enum_values=[],Array.isArray(this.schema.enumSource))for(e=0;e<this.schema.enumSource.length;e++)"string"==typeof this.schema.enumSource[e]?this.enumSource[e]={source:this.schema.enumSource[e]}:Array.isArray(this.schema.enumSource[e])?this.enumSource[e]=this.schema.enumSource[e]:this.enumSource[e]=n({},this.schema.enumSource[e]);else this.schema.enumValue?this.enumSource=[{source:this.schema.enumSource,value:this.schema.enumValue}]:this.enumSource=[{source:this.schema.enumSource}];for(e=0;e<this.enumSource.length;e++)this.enumSource[e].value&&(this.enumSource[e].value=this.jsoneditor.compileTemplate(this.enumSource[e].value,this.template_engine)),this.enumSource[e].title&&(this.enumSource[e].title=this.jsoneditor.compileTemplate(this.enumSource[e].title,this.template_engine)),this.enumSource[e].filter&&(this.enumSource[e].filter=this.jsoneditor.compileTemplate(this.enumSource[e].filter,this.template_engine))}},build:function(){var e=this;this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.options.infoText)),this.options.compact&&(this.container.className+=" compact"),this.input=this.theme.getSelectInput(this.enum_options),this.theme.setSelectOptions(this.input,this.enum_options,this.enum_display),(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,this.input.disabled=!0),this.input.addEventListener("change",function(t){t.preventDefault(),t.stopPropagation(),e.onInputChange()}),this.control=this.theme.getFormControl(this.label,this.input,this.description,this.infoButton),this.container.appendChild(this.control),this.value=this.enum_values[0]},onInputChange:function(){var e,t=this.input.value;(e=-1===this.enum_options.indexOf(t)?this.enum_values[0]:this.enum_values[this.enum_options.indexOf(t)])!==this.value&&(this.value=e,this.onChange(!0))},setupSelect2:function(){if(window.jQuery&&window.jQuery.fn&&window.jQuery.fn.select2&&(this.enum_options.length>2||this.enum_options.length&&this.enumSource)){var e=n({},o.plugins.select2);this.schema.options&&this.schema.options.select2_options&&(e=n(e,this.schema.options.select2_options)),this.select2=window.jQuery(this.input).select2(e);var t=this;this.select2.on("select2-blur",function(){t.input.value=t.select2.select2("val"),t.onInputChange()}),this.select2.on("change",function(){t.input.value=t.select2.select2("val"),t.onInputChange()})}else this.select2=null},postBuild:function(){this._super(),this.theme.afterInputReady(this.input),this.setupSelect2()},onWatchedFieldChange:function(){var e,t;if(this.enumSource){e=this.getWatchedFieldValues();for(var i=[],n=[],s=0;s<this.enumSource.length;s++)if(Array.isArray(this.enumSource[s]))i=i.concat(this.enumSource[s]),n=n.concat(this.enumSource[s]);else{var r=[];if(r=Array.isArray(this.enumSource[s].source)?this.enumSource[s].source:e[this.enumSource[s].source]){if(this.enumSource[s].slice&&(r=Array.prototype.slice.apply(r,this.enumSource[s].slice)),this.enumSource[s].filter){var o=[];for(t=0;t<r.length;t++)this.enumSource[s].filter({i:t,item:r[t],watched:e})&&o.push(r[t]);r=o}var a=[],l=[];for(t=0;t<r.length;t++){var h=r[t];this.enumSource[s].value?l[t]=this.enumSource[s].value({i:t,item:h}):l[t]=r[t],this.enumSource[s].title?a[t]=this.enumSource[s].title({i:t,item:h}):a[t]=l[t]}i=i.concat(l),n=n.concat(a)}}var u=this.value;this.theme.setSelectOptions(this.input,i,n),this.enum_options=i,this.enum_display=n,this.enum_values=i,this.select2&&this.select2.select2("destroy"),-1!==i.indexOf(u)?(this.input.value=u,this.value=u):(this.input.value=i[0],this.value=i[0]||"",this.parent?this.parent.onChildEditorChange(this):this.jsoneditor.onChange(),this.jsoneditor.notifyWatchers(this.path)),this.setupSelect2()}this._super()},enable:function(){this.always_disabled||(this.input.disabled=!1,this.select2&&this.select2.select2("enable",!0)),this._super()},disable:function(){this.input.disabled=!0,this.select2&&this.select2.select2("enable",!1),this._super()},destroy:function(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.select2&&(this.select2.select2("destroy"),this.select2=null),this._super()}}),o.defaults.editors.selectize=o.AbstractEditor.extend({setValue:function(e,t){var i=e=this.typecast(e||"");this.enum_values.indexOf(i)<0&&(i=this.enum_values[0]),this.value!==i&&(this.input.value=this.enum_options[this.enum_values.indexOf(i)],this.selectize&&this.selectize[0].selectize.addItem(i),this.value=i,this.onChange())},register:function(){this._super(),this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super(),this.input&&this.input.removeAttribute("name")},getNumColumns:function(){if(!this.enum_options)return 3;for(var e=this.getTitle().length,t=0;t<this.enum_options.length;t++)e=Math.max(e,this.enum_options[t].length+4);return Math.min(12,Math.max(e/7,2))},typecast:function(e){return"boolean"===this.schema.type?!!e:"number"===this.schema.type?1*e:"integer"===this.schema.type?Math.floor(1*e):""+e},getValue:function(){return this.value},preBuild:function(){var e,t=this;if(this.input_type="select",this.enum_options=[],this.enum_values=[],this.enum_display=[],this.schema.enum){var i=this.schema.options&&this.schema.options.enum_titles||[];s(this.schema.enum,function(e,n){t.enum_options[e]=""+n,t.enum_display[e]=""+(i[e]||n),t.enum_values[e]=t.typecast(n)})}else if("boolean"===this.schema.type)t.enum_display=this.schema.options&&this.schema.options.enum_titles||["true","false"],t.enum_options=["1","0"],t.enum_values=[!0,!1];else{if(!this.schema.enumSource)throw"'select' editor requires the enum property to be set.";if(this.enumSource=[],this.enum_display=[],this.enum_options=[],this.enum_values=[],Array.isArray(this.schema.enumSource))for(e=0;e<this.schema.enumSource.length;e++)"string"==typeof this.schema.enumSource[e]?this.enumSource[e]={source:this.schema.enumSource[e]}:Array.isArray(this.schema.enumSource[e])?this.enumSource[e]=this.schema.enumSource[e]:this.enumSource[e]=n({},this.schema.enumSource[e]);else this.schema.enumValue?this.enumSource=[{source:this.schema.enumSource,value:this.schema.enumValue}]:this.enumSource=[{source:this.schema.enumSource}];for(e=0;e<this.enumSource.length;e++)this.enumSource[e].value&&(this.enumSource[e].value=this.jsoneditor.compileTemplate(this.enumSource[e].value,this.template_engine)),this.enumSource[e].title&&(this.enumSource[e].title=this.jsoneditor.compileTemplate(this.enumSource[e].title,this.template_engine)),this.enumSource[e].filter&&(this.enumSource[e].filter=this.jsoneditor.compileTemplate(this.enumSource[e].filter,this.template_engine))}},build:function(){var e=this;this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.options.infoText)),this.options.compact&&(this.container.className+=" compact"),this.input=this.theme.getSelectInput(this.enum_options),this.theme.setSelectOptions(this.input,this.enum_options,this.enum_display),(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,this.input.disabled=!0),this.input.addEventListener("change",function(t){t.preventDefault(),t.stopPropagation(),e.onInputChange()}),this.control=this.theme.getFormControl(this.label,this.input,this.description,this.infoButton),this.container.appendChild(this.control),this.value=this.enum_values[0]},onInputChange:function(){var e=this.input.value;-1===this.enum_options.indexOf(e)&&this.enum_options[0],this.value=this.enum_values[this.enum_options.indexOf(e)],this.onChange(!0)},setupSelectize:function(){var e=this;if(window.jQuery&&window.jQuery.fn&&window.jQuery.fn.selectize&&(this.enum_options.length>=2||this.enum_options.length&&this.enumSource)){var t=n({},o.plugins.selectize);this.schema.options&&this.schema.options.selectize_options&&(t=n(t,this.schema.options.selectize_options)),this.selectize=window.jQuery(this.input).selectize(n(t,{create:!0,onChange:function(){e.onInputChange()}}))}else this.selectize=null},postBuild:function(){this._super(),this.theme.afterInputReady(this.input),this.setupSelectize()},onWatchedFieldChange:function(){var e,t;if(this.enumSource){e=this.getWatchedFieldValues();for(var i=[],n=[],s=0;s<this.enumSource.length;s++)if(Array.isArray(this.enumSource[s]))i=i.concat(this.enumSource[s]),n=n.concat(this.enumSource[s]);else if(e[this.enumSource[s].source]){var r=e[this.enumSource[s].source];if(this.enumSource[s].slice&&(r=Array.prototype.slice.apply(r,this.enumSource[s].slice)),this.enumSource[s].filter){var o=[];for(t=0;t<r.length;t++)this.enumSource[s].filter({i:t,item:r[t]})&&o.push(r[t]);r=o}var a=[],l=[];for(t=0;t<r.length;t++){var h=r[t];this.enumSource[s].value?l[t]=this.enumSource[s].value({i:t,item:h}):l[t]=r[t],this.enumSource[s].title?a[t]=this.enumSource[s].title({i:t,item:h}):a[t]=l[t]}i=i.concat(l),n=n.concat(a)}var u=this.value;this.theme.setSelectOptions(this.input,i,n),this.enum_options=i,this.enum_display=n,this.enum_values=i,-1!==i.indexOf(u)?(this.input.value=u,this.value=u):(this.input.value=i[0],this.value=i[0]||"",this.parent?this.parent.onChildEditorChange(this):this.jsoneditor.onChange(),this.jsoneditor.notifyWatchers(this.path)),this.selectize?this.updateSelectizeOptions(i):this.setupSelectize(),this._super()}},updateSelectizeOptions:function(e){var t=this.selectize[0].selectize,i=this;t.off(),t.clearOptions();for(var n in e)t.addOption({value:e[n],text:e[n]});t.addItem(this.value),t.on("change",function(){i.onInputChange()})},enable:function(){this.always_disabled||(this.input.disabled=!1,this.selectize&&this.selectize[0].selectize.unlock()),this._super()},disable:function(){this.input.disabled=!0,this.selectize&&this.selectize[0].selectize.lock(),this._super()},destroy:function(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.selectize&&(this.selectize[0].selectize.destroy(),this.selectize=null),this._super()}}),o.defaults.editors.multiselect=o.AbstractEditor.extend({preBuild:function(){var e;this._super(),this.select_options={},this.select_values={};var t=this.jsoneditor.expandRefs(this.schema.items||{}),i=t.enum||[],n=t.options?t.options.enum_titles||[]:[];for(this.option_keys=[],this.option_titles=[],e=0;e<i.length;e++)this.sanitize(i[e])===i[e]&&(this.option_keys.push(i[e]+""),this.option_titles.push((n[e]||i[e])+""),this.select_values[i[e]+""]=i[e])},build:function(){var e,t=this;if(this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),!this.schema.format&&this.option_keys.length<8||"checkbox"===this.schema.format){for(this.input_type="checkboxes",this.inputs={},this.controls={},e=0;e<this.option_keys.length;e++){this.inputs[this.option_keys[e]]=this.theme.getCheckbox(),this.select_options[this.option_keys[e]]=this.inputs[this.option_keys[e]];var i=this.theme.getCheckboxLabel(this.option_titles[e]);this.controls[this.option_keys[e]]=this.theme.getFormControl(i,this.inputs[this.option_keys[e]])}this.control=this.theme.getMultiCheckboxHolder(this.controls,this.label,this.description)}else{for(this.input_type="select",this.input=this.theme.getSelectInput(this.option_keys),this.theme.setSelectOptions(this.input,this.option_keys,this.option_titles),this.input.multiple=!0,this.input.size=Math.min(10,this.option_keys.length),e=0;e<this.option_keys.length;e++)this.select_options[this.option_keys[e]]=this.input.children[e];(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,this.input.disabled=!0),this.control=this.theme.getFormControl(this.label,this.input,this.description)}this.container.appendChild(this.control),this.control.addEventListener("change",function(i){i.preventDefault(),i.stopPropagation();var n=[];for(e=0;e<t.option_keys.length;e++)(t.select_options[t.option_keys[e]].selected||t.select_options[t.option_keys[e]].checked)&&n.push(t.select_values[t.option_keys[e]]);t.updateValue(n),t.onChange(!0)})},setValue:function(e,t){var i;for("object"!=typeof(e=e||[])?e=[e]:Array.isArray(e)||(e=[]),i=0;i<e.length;i++)"string"!=typeof e[i]&&(e[i]+="");for(i in this.select_options)this.select_options.hasOwnProperty(i)&&(this.select_options[i]["select"===this.input_type?"selected":"checked"]=-1!==e.indexOf(i));this.updateValue(e),this.onChange()},setupSelect2:function(){if(window.jQuery&&window.jQuery.fn&&window.jQuery.fn.select2){var e=window.jQuery.extend({},o.plugins.select2);this.schema.options&&this.schema.options.select2_options&&(e=n(e,this.schema.options.select2_options)),this.select2=window.jQuery(this.input).select2(e);var t=this;this.select2.on("select2-blur",function(){var e=t.select2.select2("val");t.value=e,t.onChange(!0)})}else this.select2=null},onInputChange:function(){this.value=this.input.value,this.onChange(!0)},postBuild:function(){this._super(),this.setupSelect2()},register:function(){this._super(),this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super(),this.input&&this.input.removeAttribute("name")},getNumColumns:function(){var e=this.getTitle().length;for(var t in this.select_values)this.select_values.hasOwnProperty(t)&&(e=Math.max(e,(this.select_values[t]+"").length+4));return Math.min(12,Math.max(e/7,2))},updateValue:function(e){for(var t=!1,i=[],n=0;n<e.length;n++)if(this.select_options[e[n]+""]){var s=this.sanitize(this.select_values[e[n]]);i.push(s),s!==e[n]&&(t=!0)}else t=!0;return this.value=i,this.select2&&this.select2.select2("val",this.value),t},sanitize:function(e){return"number"===this.schema.items.type?1*e:"integer"===this.schema.items.type?Math.floor(1*e):""+e},enable:function(){if(!this.always_disabled){if(this.input)this.input.disabled=!1;else if(this.inputs)for(var e in this.inputs)this.inputs.hasOwnProperty(e)&&(this.inputs[e].disabled=!1);this.select2&&this.select2.select2("enable",!0)}this._super()},disable:function(){if(this.input)this.input.disabled=!0;else if(this.inputs)for(var e in this.inputs)this.inputs.hasOwnProperty(e)&&(this.inputs[e].disabled=!0);this.select2&&this.select2.select2("enable",!1),this._super()},destroy:function(){this.select2&&(this.select2.select2("destroy"),this.select2=null),this._super()}}),o.defaults.editors.base64=o.AbstractEditor.extend({getNumColumns:function(){return 4},build:function(){var e=this;if(this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle()),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.options.infoText)),this.input=this.theme.getFormInputField("hidden"),this.container.appendChild(this.input),!this.schema.readOnly&&!this.schema.readonly){if(!window.FileReader)throw"FileReader required for base64 editor";this.uploader=this.theme.getFormInputField("file"),this.uploader.addEventListener("change",function(t){if(t.preventDefault(),t.stopPropagation(),this.files&&this.files.length){var i=new FileReader;i.onload=function(t){e.value=t.target.result,e.refreshPreview(),e.onChange(!0),i=null},i.readAsDataURL(this.files[0])}})}this.preview=this.theme.getFormInputDescription(this.schema.description),this.container.appendChild(this.preview),this.control=this.theme.getFormControl(this.label,this.uploader||this.input,this.preview,this.infoButton),this.container.appendChild(this.control)},refreshPreview:function(){if(this.last_preview!==this.value&&(this.last_preview=this.value,this.preview.innerHTML="",this.value)){var e=this.value.match(/^data:([^;,]+)[;,]/);if(e&&(e=e[1]),e){if(this.preview.innerHTML="<strong>Type:</strong> "+e+", <strong>Size:</strong> "+Math.floor((this.value.length-this.value.split(",")[0].length-1)/1.33333)+" bytes","image"===e.substr(0,5)){this.preview.innerHTML+="<br>";var t=document.createElement("img");t.style.maxWidth="100%",t.style.maxHeight="100px",t.src=this.value,this.preview.appendChild(t)}}else this.preview.innerHTML="<em>Invalid data URI</em>"}},enable:function(){this.uploader&&(this.uploader.disabled=!1),this._super()},disable:function(){this.uploader&&(this.uploader.disabled=!0),this._super()},setValue:function(e){this.value!==e&&(this.value=e,this.input.value=this.value,this.refreshPreview(),this.onChange())},destroy:function(){this.preview&&this.preview.parentNode&&this.preview.parentNode.removeChild(this.preview),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.uploader&&this.uploader.parentNode&&this.uploader.parentNode.removeChild(this.uploader),this._super()}}),o.defaults.editors.upload=o.AbstractEditor.extend({getNumColumns:function(){return 4},build:function(){var e=this;if(this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle()),this.input=this.theme.getFormInputField("hidden"),this.container.appendChild(this.input),!this.schema.readOnly&&!this.schema.readonly){if(!this.jsoneditor.options.upload)throw"Upload handler required for upload editor";this.uploader=this.theme.getFormInputField("file"),this.uploader.addEventListener("change",function(t){if(t.preventDefault(),t.stopPropagation(),this.files&&this.files.length){var i=new FileReader;i.onload=function(t){e.preview_value=t.target.result,e.refreshPreview(),e.onChange(!0),i=null},i.readAsDataURL(this.files[0])}})}var t=this.schema.description;t||(t=""),this.preview=this.theme.getFormInputDescription(t),this.container.appendChild(this.preview),this.control=this.theme.getFormControl(this.label,this.uploader||this.input,this.preview),this.container.appendChild(this.control)},refreshPreview:function(){if(this.last_preview!==this.preview_value&&(this.last_preview=this.preview_value,this.preview.innerHTML="",this.preview_value)){var e=this,t=this.preview_value.match(/^data:([^;,]+)[;,]/);t&&(t=t[1]),t||(t="unknown");var i=this.uploader.files[0];if(this.preview.innerHTML="<strong>Type:</strong> "+t+", <strong>Size:</strong> "+i.size+" bytes","image"===t.substr(0,5)){this.preview.innerHTML+="<br>";var n=document.createElement("img");n.style.maxWidth="100%",n.style.maxHeight="100px",n.src=this.preview_value,this.preview.appendChild(n)}this.preview.innerHTML+="<br>";var s=this.getButton("Upload","upload","Upload");this.preview.appendChild(s),s.addEventListener("click",function(t){t.preventDefault(),s.setAttribute("disabled","disabled"),e.theme.removeInputError(e.uploader),e.theme.getProgressBar&&(e.progressBar=e.theme.getProgressBar(),e.preview.appendChild(e.progressBar)),e.jsoneditor.options.upload(e.path,i,{success:function(t){e.setValue(t),e.parent?e.parent.onChildEditorChange(e):e.jsoneditor.onChange(),e.progressBar&&e.preview.removeChild(e.progressBar),s.removeAttribute("disabled")},failure:function(t){e.theme.addInputError(e.uploader,t),e.progressBar&&e.preview.removeChild(e.progressBar),s.removeAttribute("disabled")},updateProgress:function(t){e.progressBar&&(t?e.theme.updateProgressBar(e.progressBar,t):e.theme.updateProgressBarUnknown(e.progressBar))}})})}},enable:function(){this.uploader&&(this.uploader.disabled=!1),this._super()},disable:function(){this.uploader&&(this.uploader.disabled=!0),this._super()},setValue:function(e){this.value!==e&&(this.value=e,this.input.value=this.value,this.onChange())},destroy:function(){this.preview&&this.preview.parentNode&&this.preview.parentNode.removeChild(this.preview),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.uploader&&this.uploader.parentNode&&this.uploader.parentNode.removeChild(this.uploader),this._super()}}),o.defaults.editors.checkbox=o.AbstractEditor.extend({setValue:function(e,t){this.value=!!e,this.input.checked=this.value,this.onChange()},register:function(){this._super(),this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super(),this.input&&this.input.removeAttribute("name")},getNumColumns:function(){return Math.min(12,Math.max(this.getTitle().length/7,2))},build:function(){var e=this;this.options.compact||(this.label=this.header=this.theme.getCheckboxLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.options.infoText)),this.options.compact&&(this.container.className+=" compact"),this.input=this.theme.getCheckbox(),this.control=this.theme.getFormControl(this.label,this.input,this.description,this.infoButton),(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,this.input.disabled=!0),this.input.addEventListener("change",function(t){t.preventDefault(),t.stopPropagation(),e.value=this.checked,e.onChange(!0)}),this.container.appendChild(this.control)},enable:function(){this.always_disabled||(this.input.disabled=!1),this._super()},disable:function(){this.input.disabled=!0,this._super()},destroy:function(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this._super()}}),o.defaults.editors.arraySelectize=o.AbstractEditor.extend({build:function(){this.title=this.theme.getFormInputLabel(this.getTitle()),this.title_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.error_holder=document.createElement("div"),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description)),this.input=document.createElement("select"),this.input.setAttribute("multiple","multiple");var e=this.theme.getFormControl(this.title,this.input,this.description);this.container.appendChild(e),this.container.appendChild(this.error_holder),window.jQuery(this.input).selectize({delimiter:!1,createOnBlur:!0,create:!0})},postBuild:function(){var e=this;this.input.selectize.on("change",function(t){e.refreshValue(),e.onChange(!0)})},destroy:function(){this.empty(!0),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this._super()},empty:function(e){},setValue:function(e,t){var i=this;e=e||[],Array.isArray(e)||(e=[e]),this.input.selectize.clearOptions(),this.input.selectize.clear(!0),e.forEach(function(e){i.input.selectize.addOption({text:e,value:e})}),this.input.selectize.setValue(e),this.refreshValue(t)},refreshValue:function(e){this.value=this.input.selectize.getValue()},showValidationErrors:function(e){var t=this,i=[],n=[];s(e,function(e,s){s.path===t.path?i.push(s):n.push(s)}),this.error_holder&&(i.length?(this.error_holder.innerHTML="",this.error_holder.style.display="",s(i,function(e,i){t.error_holder.appendChild(t.theme.getErrorMessage(i.message))})):this.error_holder.style.display="none")}});var a,l=(a=document.documentElement).matches?"matches":a.webkitMatchesSelector?"webkitMatchesSelector":a.mozMatchesSelector?"mozMatchesSelector":a.msMatchesSelector?"msMatchesSelector":a.oMatchesSelector?"oMatchesSelector":void 0;o.AbstractTheme=e.extend({getContainer:function(){return document.createElement("div")},getFloatRightLinkHolder:function(){var e=document.createElement("div");return e.style=e.style||{},e.style.cssFloat="right",e.style.marginLeft="10px",e},getModal:function(){var e=document.createElement("div");return e.style.backgroundColor="white",e.style.border="1px solid black",e.style.boxShadow="3px 3px black",e.style.position="absolute",e.style.zIndex="10",e.style.display="none",e},getGridContainer:function(){return document.createElement("div")},getGridRow:function(){var e=document.createElement("div");return e.className="row",e},getGridColumn:function(){return document.createElement("div")},setGridColumnSize:function(e,t){},getLink:function(e){var t=document.createElement("a");return t.setAttribute("href","#"),t.appendChild(document.createTextNode(e)),t},disableHeader:function(e){e.style.color="#ccc"},disableLabel:function(e){e.style.color="#ccc"},enableHeader:function(e){e.style.color=""},enableLabel:function(e){e.style.color=""},getInfoButton:function(e){var t=document.createElement("span");t.innerText="",t.style.fontSize="16px",t.style.fontWeight="bold",t.style.padding=".25rem",t.style.position="relative",t.style.display="inline-block";var i=document.createElement("span");return i.style.fontSize="12px",t.style.fontWeight="normal",i.style["font-family"]="sans-serif",i.style.visibility="hidden",i.style["background-color"]="rgba(50, 50, 50, .75)",i.style.margin="0 .25rem",i.style.color="#FAFAFA",i.style.padding=".5rem 1rem",i.style["border-radius"]=".25rem",i.style.width="20rem",i.style.position="absolute",i.innerText=e,t.onmouseover=function(){i.style.visibility="visible"},t.onmouseleave=function(){i.style.visibility="hidden"},t.appendChild(i),t},getFormInputLabel:function(e){var t=document.createElement("label");return t.appendChild(document.createTextNode(e)),t},getCheckboxLabel:function(e){var t=this.getFormInputLabel(e);return t.style.fontWeight="normal",t},getHeader:function(e){var t=document.createElement("h3");return"string"==typeof e?t.textContent=e:t.appendChild(e),t},getCheckbox:function(){var e=this.getFormInputField("checkbox");return e.style.display="inline-block",e.style.width="auto",e},getMultiCheckboxHolder:function(e,t,i){var n=document.createElement("div");t&&(t.style.display="block",n.appendChild(t));for(var s in e)e.hasOwnProperty(s)&&(e[s].style.display="inline-block",e[s].style.marginRight="20px",n.appendChild(e[s]));return i&&n.appendChild(i),n},getSelectInput:function(e){var t=document.createElement("select");return e&&this.setSelectOptions(t,e),t},getSwitcher:function(e){var t=this.getSelectInput(e);return t.style.backgroundColor="transparent",t.style.display="inline-block",t.style.fontStyle="italic",t.style.fontWeight="normal",t.style.height="auto",t.style.marginBottom=0,t.style.marginLeft="5px",t.style.padding="0 0 0 3px",t.style.width="auto",t},getSwitcherOptions:function(e){return e.getElementsByTagName("option")},setSwitcherOptions:function(e,t,i){this.setSelectOptions(e,t,i)},setSelectOptions:function(e,t,i){i=i||[],e.innerHTML="";for(var n=0;n<t.length;n++){var s=document.createElement("option");s.setAttribute("value",t[n]),s.textContent=i[n]||t[n],e.appendChild(s)}},getTextareaInput:function(){var e=document.createElement("textarea");return e.style=e.style||{},e.style.width="100%",e.style.height="300px",e.style.boxSizing="border-box",e},getRangeInput:function(e,t,i){var n=this.getFormInputField("range");return n.setAttribute("min",e),n.setAttribute("max",t),n.setAttribute("step",i),n},getFormInputField:function(e){var t=document.createElement("input");return t.setAttribute("type",e),t},afterInputReady:function(e){},getFormControl:function(e,t,i,n){var s=document.createElement("div");return s.className="form-control",e&&s.appendChild(e),"checkbox"===t.type?(e.insertBefore(t,e.firstChild),n&&e.appendChild(n)):(n&&e.appendChild(n),s.appendChild(t)),i&&s.appendChild(i),s},getIndentedPanel:function(){var e=document.createElement("div");return e.style=e.style||{},e.style.paddingLeft="10px",e.style.marginLeft="10px",e.style.borderLeft="1px solid #ccc",e},getChildEditorHolder:function(){return document.createElement("div")},getDescription:function(e){var t=document.createElement("p");return t.innerHTML=e,t},getCheckboxDescription:function(e){return this.getDescription(e)},getFormInputDescription:function(e){return this.getDescription(e)},getHeaderButtonHolder:function(){return this.getButtonHolder()},getButtonHolder:function(){return document.createElement("div")},getButton:function(e,t,i){var n=document.createElement("button");return n.type="button",this.setButtonText(n,e,t,i),n},setButtonText:function(e,t,i,n){e.innerHTML="",i&&(e.appendChild(i),e.innerHTML+=" "),e.appendChild(document.createTextNode(t)),n&&e.setAttribute("title",n)},getTable:function(){return document.createElement("table")},getTableRow:function(){return document.createElement("tr")},getTableHead:function(){return document.createElement("thead")},getTableBody:function(){return document.createElement("tbody")},getTableHeaderCell:function(e){var t=document.createElement("th");return t.textContent=e,t},getTableCell:function(){return document.createElement("td")},getErrorMessage:function(e){var t=document.createElement("p");return t.style=t.style||{},t.style.color="red",t.appendChild(document.createTextNode(e)),t},addInputError:function(e,t){},removeInputError:function(e){},addTableRowError:function(e){},removeTableRowError:function(e){},getTabHolder:function(){var e=document.createElement("div");return e.innerHTML="<div style='float: left; width: 130px;' class='tabs'></div><div class='content' style='margin-left: 130px;'></div><div style='clear:both;'></div>",e},applyStyles:function(e,t){e.style=e.style||{};for(var i in t)t.hasOwnProperty(i)&&(e.style[i]=t[i])},closest:function(e,t){for(;e&&e!==document;){if(!e[l])return!1;if(e[l](t))return e;e=e.parentNode}return!1},getTab:function(e){var t=document.createElement("div");return t.appendChild(e),t.style=t.style||{},this.applyStyles(t,{border:"1px solid #ccc",borderWidth:"1px 0 1px 1px",textAlign:"center",lineHeight:"30px",borderRadius:"5px",borderBottomRightRadius:0,borderTopRightRadius:0,fontWeight:"bold",cursor:"pointer"}),t},getTabContentHolder:function(e){return e.children[1]},getTabContent:function(){return this.getIndentedPanel()},markTabActive:function(e){this.applyStyles(e,{opacity:1,background:"white"})},markTabInactive:function(e){this.applyStyles(e,{opacity:.5,background:""})},addTab:function(e,t){e.children[0].appendChild(t)},getBlockLink:function(){var e=document.createElement("a");return e.style.display="block",e},getBlockLinkHolder:function(){return document.createElement("div")},getLinksHolder:function(){return document.createElement("div")},createMediaLink:function(e,t,i){e.appendChild(t),i.style.width="100%",e.appendChild(i)},createImageLink:function(e,t,i){e.appendChild(t),t.appendChild(i)}}),o.defaults.themes.bootstrap2=o.AbstractTheme.extend({getRangeInput:function(e,t,i){return this._super(e,t,i)},getGridContainer:function(){var e=document.createElement("div");return e.className="container-fluid",e},getGridRow:function(){var e=document.createElement("div");return e.className="row-fluid",e},getFormInputLabel:function(e){var t=this._super(e);return t.style.display="inline-block",t.style.fontWeight="bold",t},setGridColumnSize:function(e,t){e.className="span"+t},getSelectInput:function(e){var t=this._super(e);return t.style.width="auto",t.style.maxWidth="98%",t},getFormInputField:function(e){var t=this._super(e);return t.style.width="98%",t},afterInputReady:function(e){e.controlgroup||(e.controlgroup=this.closest(e,".control-group"),e.controls=this.closest(e,".controls"),this.closest(e,".compact")&&(e.controlgroup.className=e.controlgroup.className.replace(/control-group/g,"").replace(/[ ]{2,}/g," "),e.controls.className=e.controlgroup.className.replace(/controls/g,"").replace(/[ ]{2,}/g," "),e.style.marginBottom=0))},getIndentedPanel:function(){var e=document.createElement("div");return e.className="well well-small",e.style.paddingBottom=0,e},getInfoButton:function(e){var t=document.createElement("span");t.className="icon-info-sign pull-right",t.style.padding=".25rem",t.style.position="relative",t.style.display="inline-block";var i=document.createElement("span");return i.style["font-family"]="sans-serif",i.style.visibility="hidden",i.style["background-color"]="rgba(50, 50, 50, .75)",i.style.margin="0 .25rem",i.style.color="#FAFAFA",i.style.padding=".5rem 1rem",i.style["border-radius"]=".25rem",i.style.width="25rem",i.style.transform="translateX(-27rem) translateY(-.5rem)",i.style.position="absolute",i.innerText=e,t.onmouseover=function(){i.style.visibility="visible"},t.onmouseleave=function(){i.style.visibility="hidden"},t.appendChild(i),t},getFormInputDescription:function(e){var t=document.createElement("p");return t.className="help-inline",t.textContent=e,t},getFormControl:function(e,t,i,n){var s=document.createElement("div");s.className="control-group";var r=document.createElement("div");return r.className="controls",e&&"checkbox"===t.getAttribute("type")?(s.appendChild(r),e.className+=" checkbox",e.appendChild(t),r.appendChild(e),n&&r.appendChild(n),r.style.height="30px"):(e&&(e.className+=" control-label",s.appendChild(e)),n&&r.appendChild(n),r.appendChild(t),s.appendChild(r)),i&&r.appendChild(i),s},getHeaderButtonHolder:function(){var e=this.getButtonHolder();return e.style.marginLeft="10px",e},getButtonHolder:function(){var e=document.createElement("div");return e.className="btn-group",e},getButton:function(e,t,i){var n=this._super(e,t,i);return n.className+=" btn btn-default",n},getTable:function(){var e=document.createElement("table");return e.className="table table-bordered",e.style.width="auto",e.style.maxWidth="none",e},addInputError:function(e,t){e.controlgroup&&e.controls&&(e.controlgroup.className+=" error",e.errmsg?e.errmsg.style.display="":(e.errmsg=document.createElement("p"),e.errmsg.className="help-block errormsg",e.controls.appendChild(e.errmsg)),e.errmsg.textContent=t)},removeInputError:function(e){e.errmsg&&(e.errmsg.style.display="none",e.controlgroup.className=e.controlgroup.className.replace(/\s?error/g,""))},getTabHolder:function(){var e=document.createElement("div");return e.className="tabbable tabs-left",e.innerHTML="<ul class='nav nav-tabs span2' style='margin-right: 0;'></ul><div class='tab-content span10' style='overflow:visible;'></div>",e},getTab:function(e){var t=document.createElement("li"),i=document.createElement("a");return i.setAttribute("href","#"),i.appendChild(e),t.appendChild(i),t},getTabContentHolder:function(e){return e.children[1]},getTabContent:function(){var e=document.createElement("div");return e.className="tab-pane active",e},markTabActive:function(e){e.className+=" active"},markTabInactive:function(e){e.className=e.className.replace(/\s?active/g,"")},addTab:function(e,t){e.children[0].appendChild(t)},getProgressBar:function(){var e=document.createElement("div");e.className="progress";var t=document.createElement("div");return t.className="bar",t.style.width="0%",e.appendChild(t),e},updateProgressBar:function(e,t){e&&(e.firstChild.style.width=t+"%")},updateProgressBarUnknown:function(e){e&&(e.className="progress progress-striped active",e.firstChild.style.width="100%")}}),o.defaults.themes.bootstrap3=o.AbstractTheme.extend({getSelectInput:function(e){var t=this._super(e);return t.className+="form-control",t},setGridColumnSize:function(e,t){e.className="col-md-"+t},afterInputReady:function(e){e.controlgroup||(e.controlgroup=this.closest(e,".form-group"),this.closest(e,".compact")&&(e.controlgroup.style.marginBottom=0))},getTextareaInput:function(){var e=document.createElement("textarea");return e.className="form-control",e},getRangeInput:function(e,t,i){return this._super(e,t,i)},getFormInputField:function(e){var t=this._super(e);return"checkbox"!==e&&(t.className+="form-control"),t},getFormControl:function(e,t,i,n){var s=document.createElement("div");return e&&"checkbox"===t.type?(s.className+=" checkbox",e.appendChild(t),e.style.fontSize="14px",s.style.marginTop="0",n&&s.appendChild(n),s.appendChild(e),t.style.position="relative",t.style.cssFloat="left"):(s.className+=" form-group",e&&(e.className+=" control-label",s.appendChild(e)),n&&s.appendChild(n),s.appendChild(t)),i&&s.appendChild(i),s},getIndentedPanel:function(){var e=document.createElement("div");return e.className="well well-sm",e.style.paddingBottom=0,e},getInfoButton:function(e){var t=document.createElement("span");t.className="glyphicon glyphicon-info-sign pull-right",t.style.padding=".25rem",t.style.position="relative",t.style.display="inline-block";var i=document.createElement("span");return i.style["font-family"]="sans-serif",i.style.visibility="hidden",i.style["background-color"]="rgba(50, 50, 50, .75)",i.style.margin="0 .25rem",i.style.color="#FAFAFA",i.style.padding=".5rem 1rem",i.style["border-radius"]=".25rem",i.style.width="25rem",i.style.transform="translateX(-27rem) translateY(-.5rem)",i.style.position="absolute",i.innerText=e,t.onmouseover=function(){i.style.visibility="visible"},t.onmouseleave=function(){i.style.visibility="hidden"},t.appendChild(i),t},getFormInputDescription:function(e){var t=document.createElement("p");return t.className="help-block",t.innerHTML=e,t},getHeaderButtonHolder:function(){var e=this.getButtonHolder();return e.style.marginLeft="10px",e},getButtonHolder:function(){var e=document.createElement("div");return e.className="btn-group",e},getButton:function(e,t,i){var n=this._super(e,t,i);return n.className+="btn btn-default",n},getTable:function(){var e=document.createElement("table");return e.className="table table-bordered",e.style.width="auto",e.style.maxWidth="none",e},addInputError:function(e,t){e.controlgroup&&(e.controlgroup.className+=" has-error",e.errmsg?e.errmsg.style.display="":(e.errmsg=document.createElement("p"),e.errmsg.className="help-block errormsg",e.controlgroup.appendChild(e.errmsg)),e.errmsg.textContent=t)},removeInputError:function(e){e.errmsg&&(e.errmsg.style.display="none",e.controlgroup.className=e.controlgroup.className.replace(/\s?has-error/g,""))},getTabHolder:function(){var e=document.createElement("div");return e.innerHTML="<div class='tabs list-group col-md-2'></div><div class='col-md-10'></div>",e.className="rows",e},getTab:function(e){var t=document.createElement("a");return t.className="list-group-item",t.setAttribute("href","#"),t.appendChild(e),t},markTabActive:function(e){e.className+=" active"},markTabInactive:function(e){e.className=e.className.replace(/\s?active/g,"")},getProgressBar:function(){var e=document.createElement("div");e.className="progress";var t=document.createElement("div");return t.className="progress-bar",t.setAttribute("role","progressbar"),t.setAttribute("aria-valuenow",0),t.setAttribute("aria-valuemin",0),t.setAttribute("aria-valuenax",100),t.innerHTML="0%",e.appendChild(t),e},updateProgressBar:function(e,t){if(e){var i=e.firstChild,n=t+"%";i.setAttribute("aria-valuenow",t),i.style.width=n,i.innerHTML=n}},updateProgressBarUnknown:function(e){if(e){var t=e.firstChild;e.className="progress progress-striped active",t.removeAttribute("aria-valuenow"),t.style.width="100%",t.innerHTML=""}}}),o.defaults.themes.foundation=o.AbstractTheme.extend({getChildEditorHolder:function(){var e=document.createElement("div");return e.style.marginBottom="15px",e},getSelectInput:function(e){var t=this._super(e);return t.style.minWidth="none",t.style.padding="5px",t.style.marginTop="3px",t},getSwitcher:function(e){var t=this._super(e);return t.style.paddingRight="8px",t},afterInputReady:function(e){this.closest(e,".compact")&&(e.style.marginBottom=0),e.group=this.closest(e,".form-control")},getFormInputLabel:function(e){var t=this._super(e);return t.style.display="inline-block",t},getFormInputField:function(e){var t=this._super(e);return t.style.width="100%",t.style.marginBottom="checkbox"===e?"0":"12px",t},getFormInputDescription:function(e){var t=document.createElement("p");return t.textContent=e,t.style.marginTop="-10px",t.style.fontStyle="italic",t},getIndentedPanel:function(){var e=document.createElement("div");return e.className="panel",e.style.paddingBottom=0,e},getHeaderButtonHolder:function(){var e=this.getButtonHolder();return e.style.display="inline-block",e.style.marginLeft="10px",e.style.verticalAlign="middle",e},getButtonHolder:function(){var e=document.createElement("div");return e.className="button-group",e},getButton:function(e,t,i){var n=this._super(e,t,i);return n.className+=" small button",n},addInputError:function(e,t){e.group&&(e.group.className+=" error",e.errmsg?e.errmsg.style.display="":(e.insertAdjacentHTML("afterend",'<small class="error"></small>'),e.errmsg=e.parentNode.getElementsByClassName("error")[0]),e.errmsg.textContent=t)},removeInputError:function(e){e.errmsg&&(e.group.className=e.group.className.replace(/ error/g,""),e.errmsg.style.display="none")},getProgressBar:function(){var e=document.createElement("div");e.className="progress";var t=document.createElement("span");return t.className="meter",t.style.width="0%",e.appendChild(t),e},updateProgressBar:function(e,t){e&&(e.firstChild.style.width=t+"%")},updateProgressBarUnknown:function(e){e&&(e.firstChild.style.width="100%")}}),o.defaults.themes.foundation3=o.defaults.themes.foundation.extend({getHeaderButtonHolder:function(){var e=this._super();return e.style.fontSize=".6em",e},getFormInputLabel:function(e){var t=this._super(e);return t.style.fontWeight="bold",t},getTabHolder:function(){var e=document.createElement("div");return e.className="row",e.innerHTML="<dl class='tabs vertical two columns'></dl><div class='tabs-content ten columns'></div>",e},setGridColumnSize:function(e,t){e.className="columns "+["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve"][t]},getTab:function(e){var t=document.createElement("dd"),i=document.createElement("a");return i.setAttribute("href","#"),i.appendChild(e),t.appendChild(i),t},getTabContentHolder:function(e){return e.children[1]},getTabContent:function(){var e=document.createElement("div");return e.className="content active",e.style.paddingLeft="5px",e},markTabActive:function(e){e.className+=" active"},markTabInactive:function(e){e.className=e.className.replace(/\s*active/g,"")},addTab:function(e,t){e.children[0].appendChild(t)}}),o.defaults.themes.foundation4=o.defaults.themes.foundation.extend({getHeaderButtonHolder:function(){var e=this._super();return e.style.fontSize=".6em",e},setGridColumnSize:function(e,t){e.className="columns large-"+t},getFormInputDescription:function(e){var t=this._super(e);return t.style.fontSize=".8rem",t},getFormInputLabel:function(e){var t=this._super(e);return t.style.fontWeight="bold",t}}),o.defaults.themes.foundation5=o.defaults.themes.foundation.extend({getFormInputDescription:function(e){var t=this._super(e);return t.style.fontSize=".8rem",t},setGridColumnSize:function(e,t){e.className="columns medium-"+t},getButton:function(e,t,i){var n=this._super(e,t,i);return n.className=n.className.replace(/\s*small/g,"")+" tiny",n},getTabHolder:function(){var e=document.createElement("div");return e.innerHTML="<dl class='tabs vertical'></dl><div class='tabs-content vertical'></div>",e},getTab:function(e){var t=document.createElement("dd"),i=document.createElement("a");return i.setAttribute("href","#"),i.appendChild(e),t.appendChild(i),t},getTabContentHolder:function(e){return e.children[1]},getTabContent:function(){var e=document.createElement("div");return e.className="content active",e.style.paddingLeft="5px",e},markTabActive:function(e){e.className+=" active"},markTabInactive:function(e){e.className=e.className.replace(/\s*active/g,"")},addTab:function(e,t){e.children[0].appendChild(t)}}),o.defaults.themes.foundation6=o.defaults.themes.foundation5.extend({getIndentedPanel:function(){var e=document.createElement("div");return e.className="callout secondary",e},getButtonHolder:function(){var e=document.createElement("div");return e.className="button-group tiny",e.style.marginBottom=0,e},getFormInputLabel:function(e){var t=this._super(e);return t.style.display="block",t},getFormControl:function(e,t,i,n){var s=document.createElement("div");return s.className="form-control",e&&s.appendChild(e),"checkbox"===t.type?e.insertBefore(t,e.firstChild):e?(n&&e.appendChild(n),e.appendChild(t)):(n&&s.appendChild(n),s.appendChild(t)),i&&e.appendChild(i),s},addInputError:function(e,t){if(e.group){if(e.group.className+=" error",e.errmsg)e.errmsg.style.display="",e.className="";else{var i=document.createElement("span");i.className="form-error is-visible",e.group.getElementsByTagName("label")[0].appendChild(i),e.className=e.className+" is-invalid-input",e.errmsg=i}e.errmsg.textContent=t}},removeInputError:function(e){e.errmsg&&(e.className=e.className.replace(/ is-invalid-input/g,""),e.errmsg.parentNode&&e.errmsg.parentNode.removeChild(e.errmsg))}}),o.defaults.themes.html=o.AbstractTheme.extend({getFormInputLabel:function(e){var t=this._super(e);return t.style.display="block",t.style.marginBottom="3px",t.style.fontWeight="bold",t},getFormInputDescription:function(e){var t=this._super(e);return t.style.fontSize=".8em",t.style.margin=0,t.style.display="inline-block",t.style.fontStyle="italic",t},getIndentedPanel:function(){var e=this._super();return e.style.border="1px solid #ddd",e.style.padding="5px",e.style.margin="5px",e.style.borderRadius="3px",e},getChildEditorHolder:function(){var e=this._super();return e.style.marginBottom="8px",e},getHeaderButtonHolder:function(){var e=this.getButtonHolder();return e.style.display="inline-block",e.style.marginLeft="10px",e.style.fontSize=".8em",e.style.verticalAlign="middle",e},getTable:function(){var e=this._super();return e.style.borderBottom="1px solid #ccc",e.style.marginBottom="5px",e},addInputError:function(e,t){if(e.style.borderColor="red",e.errmsg)e.errmsg.style.display="block";else{var i=this.closest(e,".form-control");e.errmsg=document.createElement("div"),e.errmsg.setAttribute("class","errmsg"),e.errmsg.style=e.errmsg.style||{},e.errmsg.style.color="red",i.appendChild(e.errmsg)}e.errmsg.innerHTML="",e.errmsg.appendChild(document.createTextNode(t))},removeInputError:function(e){e.style.borderColor="",e.errmsg&&(e.errmsg.style.display="none")},getProgressBar:function(){var e=document.createElement("progress");return e.setAttribute("max",100),e.setAttribute("value",0),e},updateProgressBar:function(e,t){e&&e.setAttribute("value",t)},updateProgressBarUnknown:function(e){e&&e.removeAttribute("value")}}),o.defaults.themes.jqueryui=o.AbstractTheme.extend({getTable:function(){var e=this._super();return e.setAttribute("cellpadding",5),e.setAttribute("cellspacing",0),e},getTableHeaderCell:function(e){var t=this._super(e);return t.className="ui-state-active",t.style.fontWeight="bold",t},getTableCell:function(){var e=this._super();return e.className="ui-widget-content",e},getHeaderButtonHolder:function(){var e=this.getButtonHolder();return e.style.marginLeft="10px",e.style.fontSize=".6em",e.style.display="inline-block",e},getFormInputDescription:function(e){var t=this.getDescription(e);return t.style.marginLeft="10px",t.style.display="inline-block",t},getFormControl:function(e,t,i,n){var s=this._super(e,t,i,n);return"checkbox"===t.type?(s.style.lineHeight="25px",s.style.padding="3px 0"):s.style.padding="4px 0 8px 0",s},getDescription:function(e){var t=document.createElement("span");return t.style.fontSize=".8em",t.style.fontStyle="italic",t.textContent=e,t},getButtonHolder:function(){var e=document.createElement("div");return e.className="ui-buttonset",e.style.fontSize=".7em",e},getFormInputLabel:function(e){var t=document.createElement("label");return t.style.fontWeight="bold",t.style.display="block",t.textContent=e,t},getButton:function(e,t,i){var n=document.createElement("button");n.className="ui-button ui-widget ui-state-default ui-corner-all",t&&!e?(n.className+=" ui-button-icon-only",t.className+=" ui-button-icon-primary ui-icon-primary",n.appendChild(t)):t?(n.className+=" ui-button-text-icon-primary",t.className+=" ui-button-icon-primary ui-icon-primary",n.appendChild(t)):n.className+=" ui-button-text-only";var s=document.createElement("span");return s.className="ui-button-text",s.textContent=e||i||".",n.appendChild(s),n.setAttribute("title",i),n},setButtonText:function(e,t,i,n){e.innerHTML="",e.className="ui-button ui-widget ui-state-default ui-corner-all",i&&!t?(e.className+=" ui-button-icon-only",i.className+=" ui-button-icon-primary ui-icon-primary",e.appendChild(i)):i?(e.className+=" ui-button-text-icon-primary",i.className+=" ui-button-icon-primary ui-icon-primary",e.appendChild(i)):e.className+=" ui-button-text-only";var s=document.createElement("span");s.className="ui-button-text",s.textContent=t||n||".",e.appendChild(s),e.setAttribute("title",n)},getIndentedPanel:function(){var e=document.createElement("div");return e.className="ui-widget-content ui-corner-all",e.style.padding="1em 1.4em",e.style.marginBottom="20px",e},afterInputReady:function(e){e.controls||(e.controls=this.closest(e,".form-control"))},addInputError:function(e,t){e.controls&&(e.errmsg?e.errmsg.style.display="":(e.errmsg=document.createElement("div"),e.errmsg.className="ui-state-error",e.controls.appendChild(e.errmsg)),e.errmsg.textContent=t)},removeInputError:function(e){e.errmsg&&(e.errmsg.style.display="none")},markTabActive:function(e){e.className=e.className.replace(/\s*ui-widget-header/g,"")+" ui-state-active"},markTabInactive:function(e){e.className=e.className.replace(/\s*ui-state-active/g,"")+" ui-widget-header"}}),o.defaults.themes.barebones=o.AbstractTheme.extend({getFormInputLabel:function(e){return this._super(e)},getFormInputDescription:function(e){return this._super(e)},getIndentedPanel:function(){return this._super()},getChildEditorHolder:function(){return this._super()},getHeaderButtonHolder:function(){return this.getButtonHolder()},getTable:function(){return this._super()},addInputError:function(e,t){if(e.errmsg)e.errmsg.style.display="block";else{var i=this.closest(e,".form-control");e.errmsg=document.createElement("div"),e.errmsg.setAttribute("class","errmsg"),i.appendChild(e.errmsg)}e.errmsg.innerHTML="",e.errmsg.appendChild(document.createTextNode(t))},removeInputError:function(e){e.style.borderColor="",e.errmsg&&(e.errmsg.style.display="none")},getProgressBar:function(){var e=document.createElement("progress");return e.setAttribute("max",100),e.setAttribute("value",0),e},updateProgressBar:function(e,t){e&&e.setAttribute("value",t)},updateProgressBarUnknown:function(e){e&&e.removeAttribute("value")}}),o.AbstractIconLib=e.extend({mapping:{collapse:"",expand:"",delete:"",edit:"",add:"",cancel:"",save:"",moveup:"",movedown:""},icon_prefix:"",getIconClass:function(e){return this.mapping[e]?this.icon_prefix+this.mapping[e]:null},getIcon:function(e){var t=this.getIconClass(e);if(!t)return null;var i=document.createElement("i");return i.className=t,i}}),o.defaults.iconlibs.bootstrap2=o.AbstractIconLib.extend({mapping:{collapse:"chevron-down",expand:"chevron-up",delete:"trash",edit:"pencil",add:"plus",cancel:"ban-circle",save:"ok",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"icon-"}),o.defaults.iconlibs.bootstrap3=o.AbstractIconLib.extend({mapping:{collapse:"chevron-down",expand:"chevron-right",delete:"remove",edit:"pencil",add:"plus",cancel:"floppy-remove",save:"floppy-saved",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"glyphicon glyphicon-"}),o.defaults.iconlibs.fontawesome3=o.AbstractIconLib.extend({mapping:{collapse:"chevron-down",expand:"chevron-right",delete:"remove",edit:"pencil",add:"plus",cancel:"ban-circle",save:"save",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"icon-"}),o.defaults.iconlibs.fontawesome4=o.AbstractIconLib.extend({mapping:{collapse:"caret-square-o-down",expand:"caret-square-o-right",delete:"times",edit:"pencil",add:"plus",cancel:"ban",save:"save",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"fa fa-"}),o.defaults.iconlibs.foundation2=o.AbstractIconLib.extend({mapping:{collapse:"minus",expand:"plus",delete:"remove",edit:"edit",add:"add-doc",cancel:"error",save:"checkmark",moveup:"up-arrow",movedown:"down-arrow"},icon_prefix:"foundicon-"}),o.defaults.iconlibs.foundation3=o.AbstractIconLib.extend({mapping:{collapse:"minus",expand:"plus",delete:"x",edit:"pencil",add:"page-add",cancel:"x-circle",save:"save",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"fi-"}),o.defaults.iconlibs.jqueryui=o.AbstractIconLib.extend({mapping:{collapse:"triangle-1-s",expand:"triangle-1-e",delete:"trash",edit:"pencil",add:"plusthick",cancel:"closethick",save:"disk",moveup:"arrowthick-1-n",movedown:"arrowthick-1-s"},icon_prefix:"ui-icon ui-icon-"}),o.defaults.templates.default=function(){return{compile:function(e){var t=e.match(/{{\s*([a-zA-Z0-9\-_ \.]+)\s*}}/g),i=t&&t.length;if(!i)return function(){return e};for(var n=[],s=function(e){var i,s,r=t[e].replace(/[{}]+/g,"").trim().split("."),o=r.length;o>1?i=function(t){for(s=t,e=0;e<o&&(s=s[r[e]]);e++);return s}:(r=r[0],i=function(e){return e[r]});n.push({s:t[e],r:i})},r=0;r<i;r++)s(r);return function(t){var s,o=e+"";for(r=0;r<i;r++)s=n[r],o=o.replace(s.s,s.r(t));return o}}}},o.defaults.templates.ejs=function(){return!!window.EJS&&{compile:function(e){var t=new window.EJS({text:e});return function(e){return t.render(e)}}}},o.defaults.templates.handlebars=function(){return window.Handlebars},o.defaults.templates.hogan=function(){return!!window.Hogan&&{compile:function(e){var t=window.Hogan.compile(e);return function(e){return t.render(e)}}}},o.defaults.templates.markup=function(){return!(!window.Mark||!window.Mark.up)&&{compile:function(e){return function(t){return window.Mark.up(e,t)}}}},o.defaults.templates.mustache=function(){return!!window.Mustache&&{compile:function(e){return function(t){return window.Mustache.render(e,t)}}}},o.defaults.templates.swig=function(){return window.swig},o.defaults.templates.underscore=function(){return!!window._&&{compile:function(e){return function(t){return window._.template(e,t)}}}},o.defaults.theme="html",o.defaults.template="default",o.defaults.options={},o.defaults.translate=function(e,t){var i=o.defaults.languages[o.defaults.language];if(!i)throw"Unknown language "+o.defaults.language;var n=i[e]||o.defaults.languages[o.defaults.default_language][e];if(void 0===n)throw"Unknown translate string "+e;if(t)for(var s=0;s<t.length;s++)n=n.replace(new RegExp("\\{\\{"+s+"}}","g"),t[s]);return n},o.defaults.default_language="en",o.defaults.language=o.defaults.default_language,o.defaults.languages.en={error_notset:"Property must be set",error_notempty:"Value required",error_enum:"Value must be one of the enumerated values",error_anyOf:"Value must validate against at least one of the provided schemas",error_oneOf:"Value must validate against exactly one of the provided schemas. It currently validates against {{0}} of the schemas.",error_not:"Value must not validate against the provided schema",error_type_union:"Value must be one of the provided types",error_type:"Value must be of type {{0}}",error_disallow_union:"Value must not be one of the provided disallowed types",error_disallow:"Value must not be of type {{0}}",error_multipleOf:"Value must be a multiple of {{0}}",error_maximum_excl:"Value must be less than {{0}}",error_maximum_incl:"Value must be at most {{0}}",error_minimum_excl:"Value must be greater than {{0}}",error_minimum_incl:"Value must be at least {{0}}",error_maxLength:"Value must be at most {{0}} characters long",error_minLength:"Value must be at least {{0}} characters long",error_pattern:"Value must match the pattern {{0}}",error_additionalItems:"No additional items allowed in this array",error_maxItems:"Value must have at most {{0}} items",error_minItems:"Value must have at least {{0}} items",error_uniqueItems:"Array must have unique items",error_maxProperties:"Object must have at most {{0}} properties",error_minProperties:"Object must have at least {{0}} properties",error_required:"Object is missing the required property '{{0}}'",error_additional_properties:"No additional properties allowed, but property {{0}} is set",error_dependency:"Must have property {{0}}",button_delete_all:"All",button_delete_all_title:"Delete All",button_delete_last:"Last {{0}}",button_delete_last_title:"Delete Last {{0}}",button_add_row_title:"Add {{0}}",button_move_down_title:"Move down",button_move_up_title:"Move up",button_delete_row_title:"Delete {{0}}",button_delete_row_title_short:"Delete",button_collapse:"Collapse",button_expand:"Expand"},o.plugins={ace:{theme:""},epiceditor:{},sceditor:{},select2:{},selectize:{}},s(o.defaults.editors,function(e,t){o.defaults.editors[e].options=t.options||{}}),o.defaults.resolvers.unshift(function(e){if("string"!=typeof e.type)return"multiple"}),o.defaults.resolvers.unshift(function(e){if(!e.type&&e.properties)return"object"}),o.defaults.resolvers.unshift(function(e){if("string"==typeof e.type)return e.type}),o.defaults.resolvers.unshift(function(e){if("boolean"===e.type)return"checkbox"===e.format||e.options&&e.options.checkbox?"checkbox":o.plugins.selectize.enable?"selectize":"select"}),o.defaults.resolvers.unshift(function(e){if("any"===e.type)return"multiple"}),o.defaults.resolvers.unshift(function(e){if("string"===e.type&&e.media&&"base64"===e.media.binaryEncoding)return"base64"}),o.defaults.resolvers.unshift(function(e){if("string"===e.type&&"url"===e.format&&e.options&&!0===e.options.upload&&window.FileReader)return"upload"}),o.defaults.resolvers.unshift(function(e){if("array"==e.type&&"table"==e.format)return"table"}),o.defaults.resolvers.unshift(function(e){if(e.enumSource)return o.plugins.selectize.enable?"selectize":"select"}),o.defaults.resolvers.unshift(function(e){if(e.enum){if("array"===e.type||"object"===e.type)return"enum";if("number"===e.type||"integer"===e.type||"string"===e.type)return o.plugins.selectize.enable?"selectize":"select"}}),o.defaults.resolvers.unshift(function(e){if("array"===e.type&&e.items&&!Array.isArray(e.items)&&e.uniqueItems&&["string","number","integer"].indexOf(e.items.type)>=0){if(e.items.enum)return"multiselect";if(o.plugins.selectize.enable&&"string"===e.items.type)return"arraySelectize"}}),o.defaults.resolvers.unshift(function(e){if(e.oneOf||e.anyOf)return"multiple"}),function(){if(window.jQuery||window.Zepto){var e=window.jQuery||window.Zepto;e.jsoneditor=o.defaults,e.fn.jsoneditor=function(e){var t=this,i=this.data("jsoneditor");if("value"===e){if(!i)throw"Must initialize jsoneditor before getting/setting the value";if(!(arguments.length>1))return i.getValue();i.setValue(arguments[1])}else{if("validate"===e){if(!i)throw"Must initialize jsoneditor before validating";return arguments.length>1?i.validate(arguments[1]):i.validate()}"destroy"===e?i&&(i.destroy(),this.data("jsoneditor",null)):(i&&i.destroy(),i=new o(this.get(0),e),this.data("jsoneditor",i),i.on("change",function(){t.trigger("change")}),i.on("ready",function(){t.trigger("ready")}))}return this}}}(),window.JSONEditor=o}();var jsonlint=function(){var e,t,i,n={},s=(t={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(e,t,i,n,s,r,o){var a=r.length-1;switch(s){case 1:this.$=e.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(e);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=r[a-1];case 13:this.$={};break;case 14:this.$=r[a-1];break;case 15:this.$=[r[a-2],r[a]];break;case 16:this.$={},this.$[r[a][0]]=r[a][1];break;case 17:this.$=r[a-2],r[a-2][r[a][0]]=r[a][1];break;case 18:this.$=[];break;case 19:this.$=r[a-1];break;case 20:this.$=[r[a]];break;case 21:this.$=r[a-2],r[a-2].push(r[a])}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(e,t){throw new Error(e)},parse:function(e){function t(){var e;return"number"!=typeof(e=i.lexer.lex()||1)&&(e=i.symbols_[e]||e),e}var i=this,n=[0],s=[null],r=[],o=this.table,a="",l=0,h=0,u=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var d=this.lexer.yylloc;r.push(d),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var c,p,m,f,g,v,_,y,b,w,x={};;){if(m=n[n.length-1],this.defaultActions[m]?f=this.defaultActions[m]:(null==c&&(c=t()),f=o[m]&&o[m][c]),void 0===f||!f.length||!f[0]){if(!u){b=[];for(v in o[m])this.terminals_[v]&&v>2&&b.push("'"+this.terminals_[v]+"'");var k="";k=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+b.join(", ")+", got '"+this.terminals_[c]+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==c?"end of input":"'"+(this.terminals_[c]||c)+"'"),this.parseError(k,{text:this.lexer.match,token:this.terminals_[c]||c,line:this.lexer.yylineno,loc:d,expected:b})}if(3==u){if(1==c)throw new Error(k||"Parsing halted.");h=this.lexer.yyleng,a=this.lexer.yytext,l=this.lexer.yylineno,d=this.lexer.yylloc,c=t()}for(;!(2..toString()in o[m]);){if(0==m)throw new Error(k||"Parsing halted.");w=1,n.length=n.length-2*w,s.length=s.length-w,r.length=r.length-w,m=n[n.length-1]}p=c,c=2,f=o[m=n[n.length-1]]&&o[m][2],u=3}if(f[0]instanceof Array&&f.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+c);switch(f[0]){case 1:n.push(c),s.push(this.lexer.yytext),r.push(this.lexer.yylloc),n.push(f[1]),c=null,p?(c=p,p=null):(h=this.lexer.yyleng,a=this.lexer.yytext,l=this.lexer.yylineno,d=this.lexer.yylloc,u>0&&u--);break;case 2:if(_=this.productions_[f[1]][1],x.$=s[s.length-_],x._$={first_line:r[r.length-(_||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(_||1)].first_column,last_column:r[r.length-1].last_column},void 0!==(g=this.performAction.call(x,a,h,l,this.yy,f[1],s,r)))return g;_&&(n=n.slice(0,-1*_*2),s=s.slice(0,-1*_),r=r.slice(0,-1*_)),n.push(this.productions_[f[1]][0]),s.push(x.$),r.push(x._$),y=o[n[n.length-2]][n[n.length-1]],n.push(y);break;case 3:return!0}}return!0}},(e={EOF:1,parseError:function(e,t){if(!this.yy.parseError)throw new Error(e);this.yy.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.match+=e,this.matched+=e,e.match(/\n/)&&this.yylineno++,this._input=this._input.slice(1),e},unput:function(e){return this._input=e+this._input,this},more:function(){return this._more=!0,this},less:function(e){this._input=this.match.slice(e)+this._input},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;var e,t,i,n,s;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length&&(!(i=this._input.match(this.rules[r[o]]))||t&&!(i[0].length>t[0].length)||(t=i,n=o,this.options.flex));o++);return t?((s=t[0].match(/\n.*/g))&&(this.yylineno+=s.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:s?s[s.length-1].length-1:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,r[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:void this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}}).options={},e.performAction=function(e,t,i,n){switch(i){case 0:break;case 1:return 6;case 2:return t.yytext=t.yytext.substr(1,t.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},e.rules=[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],e.conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}},i=e,t.lexer=i,t);return void 0!==n&&(n.parser=s,n.parse=function(){return s.parse.apply(s,arguments)},n.main=function(e){if(!e[1])throw new Error("Usage: "+e[0]+" FILE");if("undefined"!=typeof process)var t=(!0)("fs").readFileSync((!0)("path").join(process.cwd(),e[1]),"utf8");else{var i=(!0)("file").path((!0)("file").cwd());t=i.join(e[1]).read({charset:"utf-8"})}return n.parser.parse(t)},!1===(!0).main&&n.main("undefined"!=typeof process?process.argv.slice(1):(!0)("system").args)),n}();!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){var t="CodeMirror-lint-markers";function i(e){e.parentNode&&e.parentNode.removeChild(e)}function n(t,n,s){var r=function(t,i){var n=document.createElement("div");function s(t){if(!n.parentNode)return e.off(document,"mousemove",s);n.style.top=Math.max(0,t.clientY-n.offsetHeight-5)+"px",n.style.left=t.clientX+5+"px"}return n.className="CodeMirror-lint-tooltip",n.appendChild(i.cloneNode(!0)),document.body.appendChild(n),e.on(document,"mousemove",s),s(t),null!=n.style.opacity&&(n.style.opacity=1),n}(t,n);function o(){var t;e.off(s,"mouseout",o),r&&((t=r).parentNode&&(null==t.style.opacity&&i(t),t.style.opacity=0,setTimeout(function(){i(t)},600)),r=null)}var a=setInterval(function(){if(r)for(var e=s;;e=e.parentNode){if(e&&11==e.nodeType&&(e=e.host),e==document.body)return;if(!e){o();break}}if(!r)return clearInterval(a)},400);e.on(s,"mouseout",o)}function s(e,t,i){this.marked=[],this.options=t,this.timeout=null,this.hasGutter=i,this.onMouseOver=function(t){!function(e,t){var i=t.target||t.srcElement;if(!/\bCodeMirror-lint-mark-/.test(i.className))return;for(var s=i.getBoundingClientRect(),r=(s.left+s.right)/2,o=(s.top+s.bottom)/2,l=e.findMarksAt(e.coordsChar({left:r,top:o},"client")),h=[],u=0;u<l.length;++u){var d=l[u].__annotation;d&&h.push(d)}h.length&&function(e,t){for(var i=t.target||t.srcElement,s=document.createDocumentFragment(),r=0;r<e.length;r++){var o=e[r];s.appendChild(a(o))}n(t,s,i)}(h,t)}(e,t)},this.waitingFor=0}function r(e){var i=e.state.lint;i.hasGutter&&e.clearGutter(t);for(var n=0;n<i.marked.length;++n)i.marked[n].clear();i.marked.length=0}function o(t,i,s,r){var o=document.createElement("div"),a=o;return o.className="CodeMirror-lint-marker-"+i,s&&((a=o.appendChild(document.createElement("div"))).className="CodeMirror-lint-marker-multiple"),0!=r&&e.on(a,"mouseover",function(e){n(e,t,a)}),o}function a(e){var t=e.severity;t||(t="error");var i=document.createElement("div");return i.className="CodeMirror-lint-message-"+t,i.appendChild(document.createTextNode(e.message)),i}function l(t){var i=t.state.lint.options,n=i.options||i,s=i.getAnnotations||t.getHelper(e.Pos(0,0),"lint");s&&(i.async||s.async?function(t,i,n){var s=t.state.lint,r=++s.waitingFor;function o(){r=-1,t.off("change",o)}t.on("change",o),i(t.getValue(),function(i,n){t.off("change",o),s.waitingFor==r&&(n&&i instanceof e&&(i=n),h(t,i))},n,t)}(t,s,n):h(t,s(t.getValue(),n,t)))}function h(e,i){r(e);for(var n,s=e.state.lint,l=s.options,h=function(e){for(var t=[],i=0;i<e.length;++i){var n=e[i],s=n.from.line;(t[s]||(t[s]=[])).push(n)}return t}(i),u=0;u<h.length;++u){var d=h[u];if(d){for(var c=null,p=s.hasGutter&&document.createDocumentFragment(),m=0;m<d.length;++m){var f=d[m],g=f.severity;g||(g="error"),c="error"==(n=c)?n:g,l.formatAnnotation&&(f=l.formatAnnotation(f)),s.hasGutter&&p.appendChild(a(f)),f.to&&s.marked.push(e.markText(f.from,f.to,{className:"CodeMirror-lint-mark-"+g,__annotation:f}))}s.hasGutter&&e.setGutterMarker(u,t,o(p,c,d.length>1,s.options.tooltips))}}l.onUpdateLinting&&l.onUpdateLinting(i,h,e)}function u(e){var t=e.state.lint;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(function(){l(e)},t.options.delay||500))}e.defineOption("lint",!1,function(i,n,o){if(o&&o!=e.Init&&(r(i),!1!==i.state.lint.options.lintOnChange&&i.off("change",u),e.off(i.getWrapperElement(),"mouseover",i.state.lint.onMouseOver),clearTimeout(i.state.lint.timeout),delete i.state.lint),n){for(var a=i.getOption("gutters"),h=!1,d=0;d<a.length;++d)a[d]==t&&(h=!0);var c=i.state.lint=new s(i,(p=n)instanceof Function?{getAnnotations:p}:(p&&!0!==p||(p={}),p),h);!1!==c.options.lintOnChange&&i.on("change",u),0!=c.options.tooltips&&e.on(i.getWrapperElement(),"mouseover",c.onMouseOver),l(i)}var p}),e.defineExtension("performLint",function(){this.state.lint&&l(this)})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){var t=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),i=e.Pos,n={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"};function s(e,t,s,o){var a=e.getLineHandle(t.line),l=t.ch-1,h=l>=0&&n[a.text.charAt(l)]||n[a.text.charAt(++l)];if(!h)return null;var u=">"==h.charAt(1)?1:-1;if(s&&u>0!=(l==t.ch))return null;var d=e.getTokenTypeAt(i(t.line,l+1)),c=r(e,i(t.line,l+(u>0?1:0)),u,d||null,o);return null==c?null:{from:i(t.line,l),to:c&&c.pos,match:c&&c.ch==h.charAt(0),forward:u>0}}function r(e,t,s,r,o){for(var a=o&&o.maxScanLineLength||1e4,l=o&&o.maxScanLines||1e3,h=[],u=o&&o.bracketRegex?o.bracketRegex:/[(){}[\]]/,d=s>0?Math.min(t.line+l,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-l),c=t.line;c!=d;c+=s){var p=e.getLine(c);if(p){var m=s>0?0:p.length-1,f=s>0?p.length:-1;if(!(p.length>a))for(c==t.line&&(m=t.ch-(s<0?1:0));m!=f;m+=s){var g=p.charAt(m);if(u.test(g)&&(void 0===r||e.getTokenTypeAt(i(c,m+1))==r))if(">"==n[g].charAt(1)==s>0)h.push(g);else{if(!h.length)return{pos:i(c,m),ch:g};h.pop()}}}}return c-s!=(s>0?e.lastLine():e.firstLine())&&null}function o(e,n,r){for(var o=e.state.matchBrackets.maxHighlightLineLength||1e3,a=[],l=e.listSelections(),h=0;h<l.length;h++){var u=l[h].empty()&&s(e,l[h].head,!1,r);if(u&&e.getLine(u.from.line).length<=o){var d=u.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";a.push(e.markText(u.from,i(u.from.line,u.from.ch+1),{className:d})),u.to&&e.getLine(u.to.line).length<=o&&a.push(e.markText(u.to,i(u.to.line,u.to.ch+1),{className:d}))}}if(a.length){t&&e.state.focused&&e.focus();var c=function(){e.operation(function(){for(var e=0;e<a.length;e++)a[e].clear()})};if(!n)return c;setTimeout(c,800)}}var a=null;function l(e){e.operation(function(){a&&(a(),a=null),a=o(e,!1,e.state.matchBrackets)})}e.defineOption("matchBrackets",!1,function(t,i,n){n&&n!=e.Init&&t.off("cursorActivity",l),i&&(t.state.matchBrackets="object"==typeof i?i:{},t.on("cursorActivity",l))}),e.defineExtension("matchBrackets",function(){o(this,!0)}),e.defineExtension("findMatchingBracket",function(e,t,i){return s(this,e,t,i)}),e.defineExtension("scanForBracket",function(e,t,i,n){return r(this,e,t,i,n)})}),function(e,t){"function"==typeof define&&define.amd?define("jQuery.extendext",["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(e){e.extendext=function(){var t,i,n,s,r,o,a=arguments[0]||{},l=1,h=arguments.length,u=!1,d="default";for("boolean"==typeof a&&(u=a,a=arguments[l++]||{}),"string"==typeof a&&("concat"!==(d=a.toLowerCase())&&"replace"!==d&&"extend"!==d&&(d="default"),a=arguments[l++]||{}),"object"==typeof a||e.isFunction(a)||(a={}),l===h&&(a=this,l--);l<h;l++)if(null!==(t=arguments[l]))if(e.isArray(t)&&"default"!==d)switch(o=a&&e.isArray(a)?a:[],d){case"concat":a=o.concat(e.extend(u,[],t));break;case"replace":a=e.extend(u,[],t);break;case"extend":t.forEach(function(t,i){if("object"==typeof t){var n=e.isArray(t)?[]:{};o[i]=e.extendext(u,d,o[i]||n,t)}else-1===o.indexOf(t)&&o.push(t)}),a=o}else for(i in t)n=a[i],s=t[i],a!==s&&(u&&s&&(e.isPlainObject(s)||(r=e.isArray(s)))?(r?(r=!1,o=n&&e.isArray(n)?n:[]):o=n&&e.isPlainObject(n)?n:{},a[i]=e.extendext(u,d,o,s)):void 0!==s&&(a[i]=s));return a}}),function(){function e(e){return e.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}var t,i={version:"1.0.3",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1,doNotSkipEncoded:!1},template:void 0,compile:void 0,log:!0};i.encodeHTMLSource=function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=e?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return e?e.toString().replace(i,function(e){return t[e]||e}):""}},t=function(){return this||(0,eval)("this")}(),"undefined"!=typeof module&&module.exports?module.exports=i:"function"==typeof define&&define.amd?define("doT",function(){return i}):t.doT=i;var n={append:{start:"'+(",end:")+'",startencode:"'+encodeHTML("},split:{start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("}},s=/$^/;i.template=function(r,o,a){var l,h,u=(o=o||i.templateSettings).append?n.append:n.split,d=0,c=o.use||o.define?function e(t,i,n){return("string"==typeof i?i:i.toString()).replace(t.define||s,function(e,i,s,r){return 0===i.indexOf("def.")&&(i=i.substring(4)),i in n||(":"===s?(t.defineParams&&r.replace(t.defineParams,function(e,t,s){n[i]={arg:t,text:s}}),i in n||(n[i]=r)):new Function("def","def['"+i+"']="+r)(n)),""}).replace(t.use||s,function(i,s){t.useParams&&(s=s.replace(t.useParams,function(e,t,i,s){if(n[i]&&n[i].arg&&s){var r=(i+":"+s).replace(/'|\\/g,"_");return n.__exp=n.__exp||{},n.__exp[r]=n[i].text.replace(new RegExp("(^|[^\\w$])"+n[i].arg+"([^\\w$])","g"),"$1"+s+"$2"),t+"def.__exp['"+r+"']"}}));var r=new Function("def","return "+s)(n);return r?e(t,r,n):r})}(o,r,a||{}):r;c=("var out='"+(o.strip?c.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):c).replace(/'|\\/g,"\\$&").replace(o.interpolate||s,function(t,i){return u.start+e(i)+u.end}).replace(o.encode||s,function(t,i){return l=!0,u.startencode+e(i)+u.end}).replace(o.conditional||s,function(t,i,n){return i?n?"';}else if("+e(n)+"){out+='":"';}else{out+='":n?"';if("+e(n)+"){out+='":"';}out+='"}).replace(o.iterate||s,function(t,i,n,s){return i?(d+=1,h=s||"i"+d,i=e(i),"';var arr"+d+"="+i+";if(arr"+d+"){var "+n+","+h+"=-1,l"+d+"=arr"+d+".length-1;while("+h+"<l"+d+"){"+n+"=arr"+d+"["+h+"+=1];out+='"):"';} } out+='"}).replace(o.evaluate||s,function(t,i){return"';"+e(i)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,""),l&&(o.selfcontained||!t||t._encodeHTML||(t._encodeHTML=i.encodeHTMLSource(o.doNotSkipEncoded)),c="var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : ("+i.encodeHTMLSource.toString()+"("+(o.doNotSkipEncoded||"")+"));"+c);try{return new Function(o.varname,c)}catch(e){throw"undefined"!=typeof console&&console.log("Could not create a template function: "+c),e}},i.compile=function(e,t){return i.template(e,null,t)}}(),function(e,t){"function"==typeof define&&define.amd?define("query-builder",["jquery","dot/doT","jquery-extendext"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery"),require("dot/doT"),require("jquery-extendext")):t(e.jQuery,e.doT)}(this,function(e,t){function i(){this.root=null,this.$=e(this)}function n(e){for(var t=Object.keys(e),i=0,n=t.length;i<n;i++)if("$or"==t[i].toLowerCase()||"$and"==t[i].toLowerCase())return t[i]}function s(e,t,i){var n,s,r=o.selectors;(n=t.closest(r.rule_container)).length&&(s="moveAfter"),s||(n=t.closest(r.group_header)).length&&(n=t.closest(r.group_container),s="moveAtBegin"),s||(n=t.closest(r.group_container)).length&&(s="moveAtEnd"),s&&(e[s](i.getModel(n)),i&&e instanceof u&&i.setRuleInputValue(e,e.value))}function r(e){var t=e.match(/(question_mark|numbered|named)(?:\((.)\))?/);return t||(t=[null,"question_mark",void 0]),t}var o=function(n,s){n[0].queryBuilder=this,this.$el=n,this.settings=e.extendext(!0,"replace",{},o.DEFAULTS,s),this.model=new i,this.status={id:null,generated_id:!1,group_id:0,rule_id:0,has_optgroup:!1,has_operator_optgroup:!1},this.filters=this.settings.filters,this.icons=this.settings.icons,this.operators=this.settings.operators,this.templates=this.settings.templates,this.plugins=this.settings.plugins,this.lang=null,void 0===o.regional.en&&a.error("Config",'"i18n/en.js" not loaded.'),this.lang=e.extendext(!0,"replace",{},o.regional.en,o.regional[this.settings.lang_code],this.settings.lang),!1===this.settings.allow_groups?this.settings.allow_groups=0:!0===this.settings.allow_groups&&(this.settings.allow_groups=-1),Object.keys(this.templates).forEach(function(e){this.templates[e]||(this.templates[e]=o.templates[e]),"string"==typeof this.templates[e]&&(this.templates[e]=t.template(this.templates[e]))},this),this.$el.attr("id")||(this.$el.attr("id","qb_"+Math.floor(99999*Math.random())),this.status.generated_id=!0),this.status.id=this.$el.attr("id"),this.$el.addClass("query-builder form-inline"),this.filters=this.checkFilters(this.filters),this.operators=this.checkOperators(this.operators),this.bindEvents(),this.initPlugins()};e.extend(o.prototype,{trigger:function(t){var i=new e.Event(this._tojQueryEvent(t),{builder:this});return this.$el.triggerHandler(i,Array.prototype.slice.call(arguments,1)),i},change:function(t,i){var n=new e.Event(this._tojQueryEvent(t,!0),{builder:this,value:i});return this.$el.triggerHandler(n,Array.prototype.slice.call(arguments,2)),n.value},on:function(e,t){return this.$el.on(this._tojQueryEvent(e),t),this},off:function(e,t){return this.$el.off(this._tojQueryEvent(e),t),this},once:function(e,t){return this.$el.one(this._tojQueryEvent(e),t),this},_tojQueryEvent:function(e,t){return e.split(" ").map(function(e){return e+".queryBuilder"+(t?".filter":"")}).join(" ")}}),o.types={string:"string",integer:"number",double:"number",date:"datetime",time:"datetime",datetime:"datetime",boolean:"boolean"},o.inputs=["text","number","textarea","radio","checkbox","select"],o.modifiable_options=["display_errors","allow_groups","allow_empty","default_condition","default_filter"],o.selectors={group_container:".rules-group-container",rule_container:".rule-container",filter_container:".rule-filter-container",operator_container:".rule-operator-container",value_container:".rule-value-container",error_container:".error-container",condition_container:".rules-group-header .group-conditions",rule_header:".rule-header",group_header:".rules-group-header",group_actions:".group-actions",rule_actions:".rule-actions",rules_list:".rules-group-body>.rules-list",group_condition:".rules-group-header [name$=_cond]",rule_filter:".rule-filter-container [name$=_filter]",rule_operator:".rule-operator-container [name$=_operator]",rule_value:".rule-value-container [name*=_value_]",add_rule:"[data-add=rule]",delete_rule:"[data-delete=rule]",add_group:"[data-add=group]",delete_group:"[data-delete=group]"},o.templates={},o.regional={},o.OPERATORS={equal:{type:"equal",nb_inputs:1,multiple:!1,apply_to:["string","number","datetime","boolean"]},not_equal:{type:"not_equal",nb_inputs:1,multiple:!1,apply_to:["string","number","datetime","boolean"]},in:{type:"in",nb_inputs:1,multiple:!0,apply_to:["string","number","datetime"]},not_in:{type:"not_in",nb_inputs:1,multiple:!0,apply_to:["string","number","datetime"]},less:{type:"less",nb_inputs:1,multiple:!1,apply_to:["number","datetime"]},less_or_equal:{type:"less_or_equal",nb_inputs:1,multiple:!1,apply_to:["number","datetime"]},greater:{type:"greater",nb_inputs:1,multiple:!1,apply_to:["number","datetime"]},greater_or_equal:{type:"greater_or_equal",nb_inputs:1,multiple:!1,apply_to:["number","datetime"]},between:{type:"between",nb_inputs:2,multiple:!1,apply_to:["number","datetime"]},not_between:{type:"not_between",nb_inputs:2,multiple:!1,apply_to:["number","datetime"]},begins_with:{type:"begins_with",nb_inputs:1,multiple:!1,apply_to:["string"]},not_begins_with:{type:"not_begins_with",nb_inputs:1,multiple:!1,apply_to:["string"]},contains:{type:"contains",nb_inputs:1,multiple:!1,apply_to:["string"]},not_contains:{type:"not_contains",nb_inputs:1,multiple:!1,apply_to:["string"]},ends_with:{type:"ends_with",nb_inputs:1,multiple:!1,apply_to:["string"]},not_ends_with:{type:"not_ends_with",nb_inputs:1,multiple:!1,apply_to:["string"]},is_empty:{type:"is_empty",nb_inputs:0,multiple:!1,apply_to:["string"]},is_not_empty:{type:"is_not_empty",nb_inputs:0,multiple:!1,apply_to:["string"]},is_null:{type:"is_null",nb_inputs:0,multiple:!1,apply_to:["string","number","datetime","boolean"]},is_not_null:{type:"is_not_null",nb_inputs:0,multiple:!1,apply_to:["string","number","datetime","boolean"]}},o.DEFAULTS={filters:[],plugins:[],sort_filters:!1,display_errors:!0,allow_groups:-1,allow_empty:!1,conditions:["AND","OR"],default_condition:"AND",inputs_separator:" , ",select_placeholder:"------",display_empty_filter:!0,default_filter:null,optgroups:{},default_rule_flags:{filter_readonly:!1,operator_readonly:!1,value_readonly:!1,no_delete:!1},default_group_flags:{condition_readonly:!1,no_add_rule:!1,no_add_group:!1,no_delete:!1},templates:{group:null,rule:null,filterSelect:null,operatorSelect:null},lang_code:"en",lang:{},operators:["equal","not_equal","in","not_in","less","less_or_equal","greater","greater_or_equal","between","not_between","begins_with","not_begins_with","contains","not_contains","ends_with","not_ends_with","is_empty","is_not_empty","is_null","is_not_null"],icons:{add_group:"glyphicon glyphicon-plus-sign",add_rule:"glyphicon glyphicon-plus",remove_group:"glyphicon glyphicon-remove",remove_rule:"glyphicon glyphicon-remove",error:"glyphicon glyphicon-warning-sign"}},o.plugins={},o.defaults=function(t){return"object"!=typeof t?"string"==typeof t?"object"==typeof o.DEFAULTS[t]?e.extend(!0,{},o.DEFAULTS[t]):o.DEFAULTS[t]:e.extend(!0,{},o.DEFAULTS):void e.extendext(!0,"replace",o.DEFAULTS,t)},o.define=function(e,t,i){o.plugins[e]={fct:t,def:i||{}}},o.extend=function(t){e.extend(o.prototype,t)},o.prototype.initPlugins=function(){if(this.plugins){if(e.isArray(this.plugins)){var t={};this.plugins.forEach(function(e){t[e]=null}),this.plugins=t}Object.keys(this.plugins).forEach(function(t){t in o.plugins?(this.plugins[t]=e.extend(!0,{},o.plugins[t].def,this.plugins[t]||{}),o.plugins[t].fct.call(this,this.plugins[t])):a.error("Config",'Unable to find plugin "{0}"',t)},this)}},o.prototype.getPluginOptions=function(e,t){var i;return this.plugins&&this.plugins[e]?i=this.plugins[e]:o.plugins[e]&&(i=o.plugins[e].def),i?t?i[t]:i:void a.error("Config",'Unable to find plugin "{0}"',e)},o.prototype.init=function(e){this.trigger("afterInit"),e?(this.setRules(e),delete this.settings.rules):this.setRoot(!0)},o.prototype.checkFilters=function(e){var t=[];if(e&&0!==e.length||a.error("Config","Missing filters list"),e.forEach(function(e,i){switch(e.id||a.error("Config","Missing filter {0} id",i),-1!=t.indexOf(e.id)&&a.error("Config",'Filter "{0}" already defined',e.id),t.push(e.id),e.type?o.types[e.type]||a.error("Config",'Invalid type "{0}"',e.type):e.type="string",e.input?"function"!=typeof e.input&&-1==o.inputs.indexOf(e.input)&&a.error("Config",'Invalid input "{0}"',e.input):e.input="number"===o.types[e.type]?"number":"text",e.operators&&e.operators.forEach(function(e){"string"!=typeof e&&a.error("Config","Filter operators must be global operators types (string)")}),e.field||(e.field=e.id),e.label||(e.label=e.field),e.optgroup?(this.status.has_optgroup=!0,this.settings.optgroups[e.optgroup]||(this.settings.optgroups[e.optgroup]=e.optgroup)):e.optgroup=null,e.input){case"radio":case"checkbox":(!e.values||e.values.length<1)&&a.error("Config",'Missing filter "{0}" values',e.id);break;case"select":e.placeholder&&(void 0===e.placeholder_value&&(e.placeholder_value=-1),a.iterateOptions(e.values,function(t){t==e.placeholder_value&&a.error("Config",'Placeholder of filter "{0}" overlaps with one of its values',e.id)}))}},this),this.settings.sort_filters)if("function"==typeof this.settings.sort_filters)e.sort(this.settings.sort_filters);else{var i=this;e.sort(function(e,t){return i.translate(e.label).localeCompare(i.translate(t.label))})}return this.status.has_optgroup&&(e=a.groupSort(e,"optgroup")),e},o.prototype.checkOperators=function(t){var i=[];return t.forEach(function(n,s){"string"==typeof n?(o.OPERATORS[n]||a.error("Config",'Unknown operator "{0}"',n),t[s]=n=e.extendext(!0,"replace",{},o.OPERATORS[n])):(n.type||a.error("Config",'Missing "type" for operator {0}',s),o.OPERATORS[n.type]&&(t[s]=n=e.extendext(!0,"replace",{},o.OPERATORS[n.type],n)),void 0!==n.nb_inputs&&void 0!==n.apply_to||a.error("Config",'Missing "nb_inputs" and/or "apply_to" for operator "{0}"',n.type)),-1!=i.indexOf(n.type)&&a.error("Config",'Operator "{0}" already defined',n.type),i.push(n.type),n.optgroup?(this.status.has_operator_optgroup=!0,this.settings.optgroups[n.optgroup]||(this.settings.optgroups[n.optgroup]=n.optgroup)):n.optgroup=null},this),this.status.has_operator_optgroup&&(t=a.groupSort(t,"optgroup")),t},o.prototype.bindEvents=function(){var t=this,i=o.selectors;this.$el.on("change.queryBuilder",i.group_condition,function(){if(e(this).is(":checked")){var n=e(this).closest(i.group_container);t.getModel(n).condition=e(this).val()}}),this.$el.on("change.queryBuilder",i.rule_filter,function(){var n=e(this).closest(i.rule_container);t.getModel(n).filter=t.getFilterById(e(this).val())}),this.$el.on("change.queryBuilder",i.rule_operator,function(){var n=e(this).closest(i.rule_container);t.getModel(n).operator=t.getOperatorByType(e(this).val())}),this.$el.on("click.queryBuilder",i.add_rule,function(){var n=e(this).closest(i.group_container);t.addRule(t.getModel(n))}),this.$el.on("click.queryBuilder",i.delete_rule,function(){var n=e(this).closest(i.rule_container);t.deleteRule(t.getModel(n))}),0!==this.settings.allow_groups&&(this.$el.on("click.queryBuilder",i.add_group,function(){var n=e(this).closest(i.group_container);t.addGroup(t.getModel(n))}),this.$el.on("click.queryBuilder",i.delete_group,function(){var n=e(this).closest(i.group_container);t.deleteGroup(t.getModel(n))})),this.model.on({drop:function(e,i){i.$el.remove(),t.refreshGroupsConditions()},add:function(e,i,n,s){0===s?n.$el.prependTo(i.$el.find(">"+o.selectors.rules_list)):n.$el.insertAfter(i.rules[s-1].$el),t.refreshGroupsConditions()},move:function(e,i,n,s){i.$el.detach(),0===s?i.$el.prependTo(n.$el.find(">"+o.selectors.rules_list)):i.$el.insertAfter(n.rules[s-1].$el),t.refreshGroupsConditions()},update:function(e,i,n,s,r){if(i instanceof u)switch(n){case"error":t.updateError(i);break;case"flags":t.applyRuleFlags(i);break;case"filter":t.updateRuleFilter(i,r);break;case"operator":t.updateRuleOperator(i,r);break;case"value":t.updateRuleValue(i,r)}else switch(n){case"error":t.updateError(i);break;case"flags":t.applyGroupFlags(i);break;case"condition":t.updateGroupCondition(i,r)}}})},o.prototype.setRoot=function(t,i,n){t=void 0===t||!0===t;var s=this.nextGroupId(),r=e(this.getGroupTemplate(s,1));return this.$el.append(r),this.model.root=new h(null,r),this.model.root.model=this.model,this.model.root.data=i,this.model.root.__.flags=e.extend({},this.settings.default_group_flags,n),this.trigger("afterAddGroup",this.model.root),this.model.root.condition=this.settings.default_condition,t&&this.addRule(this.model.root),this.model.root},o.prototype.addGroup=function(t,i,n,s){i=void 0===i||!0===i;var r=t.level+1;if(this.trigger("beforeAddGroup",t,i,r).isDefaultPrevented())return null;var o=this.nextGroupId(),a=e(this.getGroupTemplate(o,r)),l=t.addGroup(a);return l.data=n,l.__.flags=e.extend({},this.settings.default_group_flags,s),this.trigger("afterAddGroup",l),this.trigger("rulesChanged"),l.condition=this.settings.default_condition,i&&this.addRule(l),l},o.prototype.deleteGroup=function(e){if(e.isRoot())return!1;if(this.trigger("beforeDeleteGroup",e).isDefaultPrevented())return!1;var t=!0;return e.each("reverse",function(e){t&=this.deleteRule(e)},function(e){t&=this.deleteGroup(e)},this),t&&(e.drop(),this.trigger("afterDeleteGroup"),this.trigger("rulesChanged")),t},o.prototype.updateGroupCondition=function(t,i){t.$el.find(">"+o.selectors.group_condition).each(function(){var i=e(this);i.prop("checked",i.val()===t.condition),i.parent().toggleClass("active",i.val()===t.condition)}),this.trigger("afterUpdateGroupCondition",t,i),this.trigger("rulesChanged")},o.prototype.refreshGroupsConditions=function(){!function e(t){(!t.flags||t.flags&&!t.flags.condition_readonly)&&t.$el.find(">"+o.selectors.group_condition).prop("disabled",t.rules.length<=1).parent().toggleClass("disabled",t.rules.length<=1),t.each(null,function(t){e(t)},this)}(this.model.root)},o.prototype.addRule=function(t,i,n){if(this.trigger("beforeAddRule",t).isDefaultPrevented())return null;var s=this.nextRuleId(),r=e(this.getRuleTemplate(s)),o=t.addRule(r);return void 0!==i&&(o.data=i),o.__.flags=e.extend({},this.settings.default_rule_flags,n),this.trigger("afterAddRule",o),this.trigger("rulesChanged"),this.createRuleFilters(o),!this.settings.default_filter&&this.settings.display_empty_filter||(o.filter=this.change("getDefaultFilter",this.getFilterById(this.settings.default_filter||this.filters[0].id),o)),o},o.prototype.deleteRule=function(e){return!e.flags.no_delete&&(!this.trigger("beforeDeleteRule",e).isDefaultPrevented()&&(e.drop(),this.trigger("afterDeleteRule"),this.trigger("rulesChanged"),!0))},o.prototype.createRuleFilters=function(t){var i=this.change("getRuleFilters",this.filters,t),n=e(this.getRuleFilterSelect(t,i));t.$el.find(o.selectors.filter_container).html(n),this.trigger("afterCreateRuleFilters",t)},o.prototype.createRuleOperators=function(t){var i=t.$el.find(o.selectors.operator_container).empty();if(t.filter){var n=this.getOperators(t.filter),s=e(this.getRuleOperatorSelect(t,n));i.html(s),t.filter.default_operator?t.__.operator=this.getOperatorByType(t.filter.default_operator):t.__.operator=n[0],t.$el.find(o.selectors.rule_operator).val(t.operator.type),this.trigger("afterCreateRuleOperators",t,n)}},o.prototype.createRuleInput=function(t){var i=t.$el.find(o.selectors.value_container).empty();if(t.__.value=void 0,t.filter&&t.operator&&0!==t.operator.nb_inputs){for(var n=this,s=e(),r=t.filter,a=0;a<t.operator.nb_inputs;a++){var l=e(this.getRuleInput(t,a));a>0&&i.append(this.settings.inputs_separator),i.append(l),s=s.add(l)}i.show(),s.on("change "+(r.input_event||""),function(){this._updating_input||(t._updating_value=!0,t.value=n.getRuleInputValue(t),t._updating_value=!1)}),r.plugin&&s[r.plugin](r.plugin_config||{}),this.trigger("afterCreateRuleInput",t),void 0!==r.default_value?t.value=r.default_value:(t._updating_value=!0,t.value=n.getRuleInputValue(t),t._updating_value=!1)}},o.prototype.updateRuleFilter=function(e,t){this.createRuleOperators(e),this.createRuleInput(e),e.$el.find(o.selectors.rule_filter).val(e.filter?e.filter.id:"-1"),t&&e.filter&&t.id!==e.filter.id&&(e.data=void 0),this.trigger("afterUpdateRuleFilter",e,t),this.trigger("rulesChanged")},o.prototype.updateRuleOperator=function(e,t){var i=e.$el.find(o.selectors.value_container),n=e.value;e.operator&&0!==e.operator.nb_inputs?(i.show(),!i.is(":empty")&&t&&e.operator.nb_inputs===t.nb_inputs&&e.operator.optgroup===t.optgroup||this.createRuleInput(e)):(i.hide(),e.__.value=void 0),e.operator&&e.$el.find(o.selectors.rule_operator).val(e.operator.type),this.trigger("afterUpdateRuleOperator",e,t),this.trigger("rulesChanged"),this.updateRuleValue(e,n)},o.prototype.updateRuleValue=function(e,t){e._updating_value||this.setRuleInputValue(e,e.value),this.trigger("afterUpdateRuleValue",e,t),this.trigger("rulesChanged")},o.prototype.applyRuleFlags=function(e){var t=e.flags,i=o.selectors;t.filter_readonly&&e.$el.find(i.rule_filter).prop("disabled",!0),t.operator_readonly&&e.$el.find(i.rule_operator).prop("disabled",!0),t.value_readonly&&e.$el.find(i.rule_value).prop("disabled",!0),t.no_delete&&e.$el.find(i.delete_rule).remove(),this.trigger("afterApplyRuleFlags",e)},o.prototype.applyGroupFlags=function(e){var t=e.flags,i=o.selectors;t.condition_readonly&&e.$el.find(">"+i.group_condition).prop("disabled",!0).parent().addClass("readonly"),t.no_add_rule&&e.$el.find(i.add_rule).remove(),t.no_add_group&&e.$el.find(i.add_group).remove(),t.no_delete&&e.$el.find(i.delete_group).remove(),this.trigger("afterApplyGroupFlags",e)},o.prototype.clearErrors=function(e){(e=e||this.model.root)&&(e.error=null,e instanceof h&&e.each(function(e){e.error=null},function(e){this.clearErrors(e)},this))},o.prototype.updateError=function(e){if(this.settings.display_errors)if(null===e.error)e.$el.removeClass("has-error");else{var t=this.translate("errors",e.error[0]);t=a.fmt(t,e.error.slice(1)),t=this.change("displayError",t,e.error,e),e.$el.addClass("has-error").find(o.selectors.error_container).eq(0).attr("title",t)}},o.prototype.triggerValidationError=function(t,i,n){e.isArray(i)||(i=[i]),this.trigger("validationError",t,i,n).isDefaultPrevented()||(t.error=i)},o.prototype.destroy=function(){this.trigger("beforeDestroy"),this.status.generated_id&&this.$el.removeAttr("id"),this.clear(),this.model=null,this.$el.off(".queryBuilder").removeClass("query-builder").removeData("queryBuilder"),delete this.$el[0].queryBuilder},o.prototype.reset=function(){this.trigger("beforeReset").isDefaultPrevented()||(this.status.group_id=1,this.status.rule_id=0,this.model.root.empty(),this.addRule(this.model.root),this.trigger("afterReset"),this.trigger("rulesChanged"))},o.prototype.clear=function(){this.trigger("beforeClear").isDefaultPrevented()||(this.status.group_id=0,this.status.rule_id=0,this.model.root&&(this.model.root.drop(),this.model.root=null),this.trigger("afterClear"),this.trigger("rulesChanged"))},o.prototype.setOptions=function(t){e.each(t,function(e,t){-1!==o.modifiable_options.indexOf(e)&&(this.settings[e]=t)}.bind(this))},o.prototype.getModel=function(t){return t?t instanceof l?t:e(t).data("queryBuilderModel"):this.model.root},o.prototype.validate=function(t){t=e.extend({skip_empty:!1},t),this.clearErrors();var i=this,n=function e(n){var s=0,r=0;return n.each(function(e){if(e.filter||!t.skip_empty){if(!e.filter)return i.triggerValidationError(e,"no_filter",null),void r++;if(!e.operator)return i.triggerValidationError(e,"no_operator",null),void r++;if(0!==e.operator.nb_inputs){var n=i.validateValue(e,e.value);if(!0!==n)return i.triggerValidationError(e,n,e.value),void r++}s++}},function(t){var i=e(t);!0===i?s++:!1===i&&r++}),!(r>0)&&(0===s&&!n.isRoot()&&t.skip_empty?null:!!(0!==s||i.settings.allow_empty&&n.isRoot())||(i.triggerValidationError(n,"empty_group",null),!1))}(this.model.root);return this.change("validate",n)},o.prototype.getRules=function(t){t=e.extend({get_flags:!1,allow_invalid:!1,skip_empty:!1},t);var i=this.validate(t);if(!i&&!t.allow_invalid)return null;var n=this,s=function i(s){var r={condition:s.condition,rules:[]};if(s.data&&(r.data=e.extendext(!0,"replace",{},s.data)),t.get_flags){var o=n.getGroupFlags(s.flags,"all"===t.get_flags);e.isEmptyObject(o)||(r.flags=o)}return s.each(function(i){if(i.filter||!t.skip_empty){var s=null;i.operator&&0===i.operator.nb_inputs||(s=i.value);var o={id:i.filter?i.filter.id:null,field:i.filter?i.filter.field:null,type:i.filter?i.filter.type:null,input:i.filter?i.filter.input:null,operator:i.operator?i.operator.type:null,value:s};if((i.filter&&i.filter.data||i.data)&&(o.data=e.extendext(!0,"replace",{},i.filter.data,i.data)),t.get_flags){var a=n.getRuleFlags(i.flags,"all"===t.get_flags);e.isEmptyObject(a)||(o.flags=a)}r.rules.push(n.change("ruleToJson",o,i))}},function(e){var n=i(e);0===n.rules.length&&t.skip_empty||r.rules.push(n)},this),n.change("groupToJson",r,s)}(this.model.root);return s.valid=i,this.change("getRules",s)},o.prototype.setRules=function(t,i){i=e.extend({allow_invalid:!1},i),e.isArray(t)&&(t={condition:this.settings.default_condition,rules:t}),t&&t.rules&&(0!==t.rules.length||this.settings.allow_empty)||a.error("RulesParse","Incorrect data object passed"),this.clear(),this.setRoot(!1,t.data,this.parseGroupFlags(t)),this.applyGroupFlags(this.model.root);var n=this;!function e(t,s){null!==s&&(void 0===t.condition?t.condition=n.settings.default_condition:-1==n.settings.conditions.indexOf(t.condition)&&(a.error(!i.allow_invalid,"UndefinedCondition",'Invalid condition "{0}"',t.condition),t.condition=n.settings.default_condition),s.condition=t.condition,t.rules.forEach(function(t){var r;if(void 0!==t.rules)if(-1!==n.settings.allow_groups&&n.settings.allow_groups<s.level)a.error(!i.allow_invalid,"RulesParse","No more than {0} groups are allowed",n.settings.allow_groups),n.reset();else{if(null===(r=n.addGroup(s,!1,t.data,n.parseGroupFlags(t))))return;n.applyGroupFlags(r),e(t,r)}else{if(t.empty||(void 0===t.id&&(a.error(!i.allow_invalid,"RulesParse","Missing rule field id"),t.empty=!0),void 0===t.operator&&(t.operator="equal")),null===(r=n.addRule(s,t.data,n.parseRuleFlags(t))))return;t.empty||(r.filter=n.getFilterById(t.id,!i.allow_invalid)),r.filter&&(r.operator=n.getOperatorByType(t.operator,!i.allow_invalid),r.operator||(r.operator=n.getOperators(r.filter)[0])),r.operator&&0!==r.operator.nb_inputs&&(void 0!==t.value?r.value=t.value:void 0!==r.filter.default_value&&(r.value=r.filter.default_value)),n.applyRuleFlags(r),n.change("jsonToRule",r,t)!=r&&a.error("RulesParse","Plugin tried to change rule reference")}}),n.change("jsonToGroup",s,t)!=s&&a.error("RulesParse","Plugin tried to change group reference"))}(t=this.change("setRules",t,i),this.model.root),this.trigger("afterSetRules")},o.prototype.validateValue=function(e,t){var i,n=e.filter.validation||{};return i=n.callback?n.callback.call(this,t,e):this._validateValue(e,t),this.change("validateValue",i,t,e)},o.prototype._validateValue=function(t,i){var n,s,r=t.filter,l=t.operator,h=r.validation||{},u=!0;1===t.operator.nb_inputs&&(i=[i]);for(var d=0;d<l.nb_inputs;d++){if(!l.multiple&&e.isArray(i[d])&&i[d].length>1){u=["operator_not_multiple",l.type,this.translate("operators",l.type)];break}switch(r.input){case"radio":if(void 0===i[d]||0===i[d].length){h.allow_empty_value||(u=["radio_empty"]);break}break;case"checkbox":if(void 0===i[d]||0===i[d].length){h.allow_empty_value||(u=["checkbox_empty"]);break}break;case"select":if(void 0===i[d]||0===i[d].length||r.placeholder&&i[d]==r.placeholder_value){h.allow_empty_value||(u=["select_empty"]);break}break;default:s=e.isArray(i[d])?i[d]:[i[d]];for(var c=0;c<s.length;c++){switch(o.types[r.type]){case"string":if(void 0===s[c]||0===s[c].length){h.allow_empty_value||(u=["string_empty"]);break}if(void 0!==h.min&&s[c].length<parseInt(h.min)){u=[this.getValidationMessage(h,"min","string_exceed_min_length"),h.min];break}if(void 0!==h.max&&s[c].length>parseInt(h.max)){u=[this.getValidationMessage(h,"max","string_exceed_max_length"),h.max];break}if(h.format&&("string"==typeof h.format&&(h.format=new RegExp(h.format)),!h.format.test(s[c]))){u=[this.getValidationMessage(h,"format","string_invalid_format"),h.format];break}break;case"number":if(void 0===s[c]||0===s[c].length){h.allow_empty_value||(u=["number_nan"]);break}if(isNaN(s[c])){u=["number_nan"];break}if("integer"==r.type){if(parseInt(s[c])!=s[c]){u=["number_not_integer"];break}}else if(parseFloat(s[c])!=s[c]){u=["number_not_double"];break}if(void 0!==h.min&&s[c]<parseFloat(h.min)){u=[this.getValidationMessage(h,"min","number_exceed_min"),h.min];break}if(void 0!==h.max&&s[c]>parseFloat(h.max)){u=[this.getValidationMessage(h,"max","number_exceed_max"),h.max];break}if(void 0!==h.step&&"any"!==h.step){var p=(s[c]/h.step).toPrecision(14);if(parseInt(p)!=p){u=[this.getValidationMessage(h,"step","number_wrong_step"),h.step];break}}break;case"datetime":if(void 0===s[c]||0===s[c].length){h.allow_empty_value||(u=["datetime_empty"]);break}if(h.format){"moment"in window||a.error("MissingLibrary","MomentJS is required for Date/Time validation. Get it here http://momentjs.com");var m=moment(s[c],h.format);if(!m.isValid()){u=[this.getValidationMessage(h,"format","datetime_invalid"),h.format];break}if(h.min&&m<moment(h.min,h.format)){u=[this.getValidationMessage(h,"min","datetime_exceed_min"),h.min];break}if(h.max&&m>moment(h.max,h.format)){u=[this.getValidationMessage(h,"max","datetime_exceed_max"),h.max];break}}break;case"boolean":if(void 0===s[c]||0===s[c].length){h.allow_empty_value||(u=["boolean_not_valid"]);break}if("true"!==(n=(""+s[c]).trim().toLowerCase())&&"false"!==n&&"1"!==n&&"0"!==n&&1!==s[c]&&0!==s[c]){u=["boolean_not_valid"];break}}if(!0!==u)break}}if(!0!==u)break}if(("between"===t.operator.type||"not_between"===t.operator.type)&&2===i.length)switch(o.types[r.type]){case"number":i[0]>i[1]&&(u=["number_between_invalid",i[0],i[1]]);break;case"datetime":h.format&&("moment"in window||a.error("MissingLibrary","MomentJS is required for Date/Time validation. Get it here http://momentjs.com"),moment(i[0],h.format).isAfter(moment(i[1],h.format))&&(u=["datetime_between_invalid",i[0],i[1]]))}return u},o.prototype.nextGroupId=function(){return this.status.id+"_group_"+this.status.group_id++},o.prototype.nextRuleId=function(){return this.status.id+"_rule_"+this.status.rule_id++},o.prototype.getOperators=function(e){"string"==typeof e&&(e=this.getFilterById(e));for(var t=[],i=0,n=this.operators.length;i<n;i++){if(e.operators){if(-1==e.operators.indexOf(this.operators[i].type))continue}else if(-1==this.operators[i].apply_to.indexOf(o.types[e.type]))continue;t.push(this.operators[i])}return e.operators&&t.sort(function(t,i){return e.operators.indexOf(t.type)-e.operators.indexOf(i.type)}),this.change("getOperators",t,e)},o.prototype.getFilterById=function(e,t){if("-1"==e)return null;for(var i=0,n=this.filters.length;i<n;i++)if(this.filters[i].id==e)return this.filters[i];return a.error(!1!==t,"UndefinedFilter",'Undefined filter "{0}"',e),null},o.prototype.getOperatorByType=function(e,t){if("-1"==e)return null;for(var i=0,n=this.operators.length;i<n;i++)if(this.operators[i].type==e)return this.operators[i];return a.error(!1!==t,"UndefinedOperator",'Undefined operator "{0}"',e),null},o.prototype.getRuleInputValue=function(t){var i=t.filter,n=t.operator,s=[];if(i.valueGetter)s=i.valueGetter.call(this,t);else{for(var r=t.$el.find(o.selectors.value_container),l=0;l<n.nb_inputs;l++){var h,u=a.escapeElementId(t.id+"_value_"+l);switch(i.input){case"radio":s.push(r.find("[name="+u+"]:checked").val());break;case"checkbox":h=[],r.find("[name="+u+"]:checked").each(function(){h.push(e(this).val())}),s.push(h);break;case"select":i.multiple?(h=[],r.find("[name="+u+"] option:selected").each(function(){h.push(e(this).val())}),s.push(h)):s.push(r.find("[name="+u+"] option:selected").val());break;default:s.push(r.find("[name="+u+"]").val())}}n.multiple&&i.value_separator&&(s=s.map(function(e){return e.split(i.value_separator)})),1===n.nb_inputs&&(s=s[0]),i.valueParser&&(s=i.valueParser.call(this,t,s))}return this.change("getRuleValue",s,t)},o.prototype.setRuleInputValue=function(t,i){var n=t.filter,s=t.operator;if(n&&s){if(this._updating_input=!0,n.valueSetter)n.valueSetter.call(this,t,i);else{var r=t.$el.find(o.selectors.value_container);1==s.nb_inputs&&(i=[i]);for(var l=0;l<s.nb_inputs;l++){var h=a.escapeElementId(t.id+"_value_"+l);switch(n.input){case"radio":r.find("[name="+h+'][value="'+i[l]+'"]').prop("checked",!0).trigger("change");break;case"checkbox":e.isArray(i[l])||(i[l]=[i[l]]),i[l].forEach(function(e){r.find("[name="+h+'][value="'+e+'"]').prop("checked",!0).trigger("change")});break;default:s.multiple&&n.value_separator&&e.isArray(i[l])&&(i[l]=i[l].join(n.value_separator)),r.find("[name="+h+"]").val(i[l]).trigger("change")}}}this._updating_input=!1}},o.prototype.parseRuleFlags=function(t){var i=e.extend({},this.settings.default_rule_flags);return t.readonly&&e.extend(i,{filter_readonly:!0,operator_readonly:!0,value_readonly:!0,no_delete:!0}),t.flags&&e.extend(i,t.flags),this.change("parseRuleFlags",i,t)},o.prototype.getRuleFlags=function(t,i){if(i)return e.extend({},t);var n={};return e.each(this.settings.default_rule_flags,function(e,i){t[e]!==i&&(n[e]=t[e])}),n},o.prototype.parseGroupFlags=function(t){var i=e.extend({},this.settings.default_group_flags);return t.readonly&&e.extend(i,{condition_readonly:!0,no_add_rule:!0,no_add_group:!0,no_delete:!0}),t.flags&&e.extend(i,t.flags),this.change("parseGroupFlags",i,t)},o.prototype.getGroupFlags=function(t,i){if(i)return e.extend({},t);var n={};return e.each(this.settings.default_group_flags,function(e,i){t[e]!==i&&(n[e]=t[e])}),n},o.prototype.translate=function(e,t){var i;return t||(t=e,e=void 0),i="object"==typeof t?t[this.settings.lang_code]||t.en:(e?this.lang[e]:this.lang)[t]||t,this.change("translate",i,t,e)},o.prototype.getValidationMessage=function(e,t,i){return e.messages&&e.messages[t]||i},o.templates.group='<dl id="{{= it.group_id }}" class="rules-group-container">   <dt class="rules-group-header">     <div class="btn-group pull-right group-actions">       <button type="button" class="btn btn-xs btn-success" data-add="rule">         <i class="{{= it.icons.add_rule }}"></i> {{= it.translate("add_rule") }}       </button>       {{? it.settings.allow_groups===-1 || it.settings.allow_groups>=it.level }}         <button type="button" class="btn btn-xs btn-success" data-add="group">           <i class="{{= it.icons.add_group }}"></i> {{= it.translate("add_group") }}         </button>       {{?}}       {{? it.level>1 }}         <button type="button" class="btn btn-xs btn-danger" data-delete="group">           <i class="{{= it.icons.remove_group }}"></i> {{= it.translate("delete_group") }}         </button>       {{?}}     </div>     <div class="btn-group group-conditions">       {{~ it.conditions: condition }}         <label class="btn btn-xs btn-primary">           <input type="radio" name="{{= it.group_id }}_cond" value="{{= condition }}"> {{= it.translate("conditions", condition) }}         </label>       {{~}}     </div>     {{? it.settings.display_errors }}       <div class="error-container"><i class="{{= it.icons.error }}"></i></div>     {{?}}   </dt>   <dd class=rules-group-body>     <ul class=rules-list></ul>   </dd> </dl>',o.templates.rule='<li id="{{= it.rule_id }}" class="rule-container">   <div class="rule-header">     <div class="btn-group pull-right rule-actions">       <button type="button" class="btn btn-xs btn-danger" data-delete="rule">         <i class="{{= it.icons.remove_rule }}"></i> {{= it.translate("delete_rule") }}       </button>     </div>   </div>   {{? it.settings.display_errors }}     <div class="error-container"><i class="{{= it.icons.error }}"></i></div>   {{?}}   <div class="rule-filter-container"></div>   <div class="rule-operator-container"></div>   <div class="rule-value-container"></div> </li>',o.templates.filterSelect='{{ var optgroup = null; }} <select class="form-control" name="{{= it.rule.id }}_filter">   {{? it.settings.display_empty_filter }}     <option value="-1">{{= it.settings.select_placeholder }}</option>   {{?}}   {{~ it.filters: filter }}     {{? optgroup !== filter.optgroup }}       {{? optgroup !== null }}</optgroup>{{?}}       {{? (optgroup = filter.optgroup) !== null }}         <optgroup label="{{= it.translate(it.settings.optgroups[optgroup]) }}">       {{?}}     {{?}}     <option value="{{= filter.id }}">{{= it.translate(filter.label) }}</option>   {{~}}   {{? optgroup !== null }}</optgroup>{{?}} </select>',o.templates.operatorSelect='{{? it.operators.length === 1 }} <span> {{= it.translate("operators", it.operators[0].type) }} </span> {{?}} {{ var optgroup = null; }} <select class="form-control {{? it.operators.length === 1 }}hide{{?}}" name="{{= it.rule.id }}_operator">   {{~ it.operators: operator }}     {{? optgroup !== operator.optgroup }}       {{? optgroup !== null }}</optgroup>{{?}}       {{? (optgroup = operator.optgroup) !== null }}         <optgroup label="{{= it.translate(it.settings.optgroups[optgroup]) }}">       {{?}}     {{?}}     <option value="{{= operator.type }}">{{= it.translate("operators", operator.type) }}</option>   {{~}}   {{? optgroup !== null }}</optgroup>{{?}} </select>',o.prototype.getGroupTemplate=function(e,t){var i=this.templates.group({builder:this,group_id:e,level:t,conditions:this.settings.conditions,icons:this.icons,settings:this.settings,translate:this.translate.bind(this)});return this.change("getGroupTemplate",i,t)},o.prototype.getRuleTemplate=function(e){var t=this.templates.rule({builder:this,rule_id:e,icons:this.icons,settings:this.settings,translate:this.translate.bind(this)});return this.change("getRuleTemplate",t)},o.prototype.getRuleFilterSelect=function(e,t){var i=this.templates.filterSelect({builder:this,rule:e,filters:t,icons:this.icons,settings:this.settings,translate:this.translate.bind(this)});return this.change("getRuleFilterSelect",i,e,t)},o.prototype.getRuleOperatorSelect=function(e,t){var i=this.templates.operatorSelect({builder:this,rule:e,operators:t,icons:this.icons,settings:this.settings,translate:this.translate.bind(this)});return this.change("getRuleOperatorSelect",i,e,t)},o.prototype.getRuleInput=function(e,t){var i=e.filter,n=e.filter.validation||{},s=e.id+"_value_"+t,r=i.vertical?" class=block":"",o="";if("function"==typeof i.input)o=i.input.call(this,e,s);else switch(i.input){case"radio":case"checkbox":a.iterateOptions(i.values,function(e,t){o+="<label"+r+'><input type="'+i.input+'" name="'+s+'" value="'+e+'"> '+t+"</label> "});break;case"select":o+='<select class="form-control" name="'+s+'"'+(i.multiple?" multiple":"")+">",i.placeholder&&(o+='<option value="'+i.placeholder_value+'" disabled selected>'+i.placeholder+"</option>"),a.iterateOptions(i.values,function(e,t){o+='<option value="'+e+'">'+t+"</option> "}),o+="</select>";break;case"textarea":o+='<textarea class="form-control" name="'+s+'"',i.size&&(o+=' cols="'+i.size+'"'),i.rows&&(o+=' rows="'+i.rows+'"'),void 0!==n.min&&(o+=' minlength="'+n.min+'"'),void 0!==n.max&&(o+=' maxlength="'+n.max+'"'),i.placeholder&&(o+=' placeholder="'+i.placeholder+'"'),o+="></textarea>";break;case"number":o+='<input class="form-control" type="number" name="'+s+'"',void 0!==n.step&&(o+=' step="'+n.step+'"'),void 0!==n.min&&(o+=' min="'+n.min+'"'),void 0!==n.max&&(o+=' max="'+n.max+'"'),i.placeholder&&(o+=' placeholder="'+i.placeholder+'"'),i.size&&(o+=' size="'+i.size+'"'),o+=">";break;default:o+='<input class="form-control" type="text" name="'+s+'"',i.placeholder&&(o+=' placeholder="'+i.placeholder+'"'),"string"===i.type&&void 0!==n.min&&(o+=' minlength="'+n.min+'"'),"string"===i.type&&void 0!==n.max&&(o+=' maxlength="'+n.max+'"'),i.size&&(o+=' size="'+i.size+'"'),o+=">"}return this.change("getRuleInput",o,e,s)};var a={};o.utils=a,a.iterateOptions=function(t,i){t&&(e.isArray(t)?t.forEach(function(t){e.isPlainObject(t)?e.each(t,function(e,t){return i(e,t),!1}):i(t,t)}):e.each(t,function(e,t){i(e,t)}))},a.fmt=function(e,t){return Array.isArray(t)||(t=Array.prototype.slice.call(arguments,1)),e.replace(/{([0-9]+)}/g,function(e,i){return t[parseInt(i)]})},a.error=function(){var e=0,t="boolean"!=typeof arguments[e]||arguments[e++],i=arguments[e++],n=arguments[e++],s=Array.isArray(arguments[e])?arguments[e]:Array.prototype.slice.call(arguments,e);if(t){var r=new Error(a.fmt(n,s));throw r.name=i+"Error",r.args=s,r}console.error(i+"Error: "+a.fmt(n,s))},a.changeType=function(e,t,i){switch(t){case"integer":return parseInt(e);case"double":return parseFloat(e);case"boolean":var n="true"===e.trim().toLowerCase()||"1"===e.trim()||1===e;return i?n?1:0:n;default:return e}},a.escapeString=function(e){return"string"!=typeof e?e:e.replace(/[\0\n\r\b\\\'\"]/g,function(e){switch(e){case"\0":return"\\0";case"\n":return"\\n";case"\r":return"\\r";case"\b":return"\\b";default:return"\\"+e}}).replace(/\t/g,"\\t").replace(/\x1a/g,"\\Z")},a.escapeRegExp=function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},a.escapeElementId=function(e){return e?e.replace(/(\\)?([:.\[\],])/g,function(e,t,i){return t?e:"\\"+i}):e},a.groupSort=function(e,t){var i=[],n=[];return e.forEach(function(e){var s;e[t]?-1==(s=i.lastIndexOf(e[t]))?s=i.length:s++:s=i.length,i.splice(s,0,e[t]),n.splice(s,0,e)}),n},a.defineModelProperties=function(t,i){i.forEach(function(i){Object.defineProperty(t.prototype,i,{enumerable:!0,get:function(){return this.__[i]},set:function(t){var n=null!==this.__[i]&&"object"==typeof this.__[i]?e.extend({},this.__[i]):this.__[i];this.__[i]=t,null!==this.model&&this.model.trigger("update",this,i,t,n)}})})},e.extend(i.prototype,{trigger:function(t){var i=new e.Event(t);return this.$.triggerHandler(i,Array.prototype.slice.call(arguments,1)),i},on:function(){return this.$.on.apply(this.$,Array.prototype.slice.call(arguments)),this},off:function(){return this.$.off.apply(this.$,Array.prototype.slice.call(arguments)),this},once:function(){return this.$.one.apply(this.$,Array.prototype.slice.call(arguments)),this}});var l=function(e,t){return this instanceof l?(Object.defineProperty(this,"__",{value:{}}),t.data("queryBuilderModel",this),this.__.level=1,this.__.error=null,this.__.flags={},this.__.data=void 0,this.$el=t,this.id=t[0].id,this.model=null,void(this.parent=e)):new l(e,t)};a.defineModelProperties(l,["level","error","data","flags"]),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){return this.__.parent},set:function(e){this.__.parent=e,this.level=null===e?1:e.level+1,this.model=null===e?null:e.model}}),l.prototype.isRoot=function(){return 1===this.level},l.prototype.getPos=function(){return this.isRoot()?-1:this.parent.getNodePos(this)},l.prototype.drop=function(){var e=this.model;this.parent&&this.parent.removeNode(this),this.$el.removeData("queryBuilderModel"),null!==e&&e.trigger("drop",this)},l.prototype.moveAfter=function(e){this.isRoot()||this.move(e.parent,e.getPos()+1)},l.prototype.moveAtBegin=function(e){this.isRoot()||(void 0===e&&(e=this.parent),this.move(e,0))},l.prototype.moveAtEnd=function(e){this.isRoot()||(void 0===e&&(e=this.parent),this.move(e,0===e.length()?0:e.length()-1))},l.prototype.move=function(e,t){this.isRoot()||("number"==typeof e&&(t=e,e=this.parent),this.parent.removeNode(this),e.insertNode(this,t,!1),null!==this.model&&this.model.trigger("move",this,e,t))};var h=function(e,t){return this instanceof h?(l.call(this,e,t),this.rules=[],void(this.__.condition=null)):new h(e,t)};h.prototype=Object.create(l.prototype),h.prototype.constructor=h,a.defineModelProperties(h,["condition"]),h.prototype.empty=function(){this.each("reverse",function(e){e.drop()},function(e){e.drop()})},h.prototype.drop=function(){this.empty(),l.prototype.drop.call(this)},h.prototype.length=function(){return this.rules.length},h.prototype.insertNode=function(e,t,i){return void 0===t&&(t=this.length()),this.rules.splice(t,0,e),e.parent=this,i&&null!==this.model&&this.model.trigger("add",this,e,t),e},h.prototype.addGroup=function(e,t){return this.insertNode(new h(this,e),t,!0)},h.prototype.addRule=function(e,t){return this.insertNode(new u(this,e),t,!0)},h.prototype.removeNode=function(e){var t=this.getNodePos(e);-1!==t&&(e.parent=null,this.rules.splice(t,1))},h.prototype.getNodePos=function(e){return this.rules.indexOf(e)},h.prototype.each=function(e,t,i,n){"boolean"!=typeof e&&"string"!=typeof e&&(n=i,i=t,t=e,e=!1),n=void 0===n?null:n;for(var s=e?this.rules.length-1:0,r=e?0:this.rules.length-1,o=e?-1:1,a=!1;(e?s>=r:s<=r)&&(this.rules[s]instanceof h?i&&(a=!1===i.call(n,this.rules[s])):t&&(a=!1===t.call(n,this.rules[s])),!a);s+=o);return!a},h.prototype.contains=function(e,t){return-1!==this.getNodePos(e)||!!t&&!this.each(function(){return!0},function(t){return!t.contains(e,!0)})};var u=function(e,t){return this instanceof u?(l.call(this,e,t),this._updating_value=!1,this._updating_input=!1,this.__.filter=null,this.__.operator=null,void(this.__.value=void 0)):new u(e,t)};return u.prototype=Object.create(l.prototype),u.prototype.constructor=u,a.defineModelProperties(u,["filter","operator","value"]),u.prototype.isRoot=function(){return!1},o.Group=h,o.Rule=u,e.fn.queryBuilder=function(e){0===this.length&&a.error("Config","No target defined"),this.length>1&&a.error("Config","Unable to initialize on multiple target");var t=this.data("queryBuilder"),i="object"==typeof e&&e||{};if(!t&&"destroy"==e)return this;if(!t){var n=new o(this,i);this.data("queryBuilder",n),n.init(i.rules)}return"string"==typeof e?t[e].apply(t,Array.prototype.slice.call(arguments,1)):this},e.fn.queryBuilder.constructor=o,e.fn.queryBuilder.defaults=o.defaults,e.fn.queryBuilder.extend=o.extend,e.fn.queryBuilder.define=o.define,e.fn.queryBuilder.regional=o.regional,o.define("bt-checkbox",function(e){"glyphicons"==e.font&&this.$el.addClass("bt-checkbox-glyphicons"),this.on("getRuleInput.filter",function(t,i,n){var s=i.filter;if(("radio"===s.input||"checkbox"===s.input)&&!s.plugin){t.value="",s.colors||(s.colors={}),s.color&&(s.colors._def_=s.color);var r=s.vertical?' style="display:block"':"",o=0;a.iterateOptions(s.values,function(i,a){var l=s.colors[i]||s.colors._def_||e.color,h=n+"_"+o++;t.value+="<div"+r+' class="'+s.input+" "+s.input+"-"+l+'">   <input type="'+s.input+'" name="'+n+'" id="'+h+'" value="'+i+'">   <label for="'+h+'">'+a+"</label> </div>"})}})},{font:"glyphicons",color:"default"}),o.define("bt-selectpicker",function(t){e.fn.selectpicker&&e.fn.selectpicker.Constructor||a.error("MissingLibrary",'Bootstrap Select is required to use "bt-selectpicker" plugin. Get it here: http://silviomoreto.github.io/bootstrap-select');var i=o.selectors;this.on("afterCreateRuleFilters",function(e,n){n.$el.find(i.rule_filter).removeClass("form-control").selectpicker(t)}),this.on("afterCreateRuleOperators",function(e,n){n.$el.find(i.rule_operator).removeClass("form-control").selectpicker(t)}),this.on("afterUpdateRuleFilter",function(e,t){t.$el.find(i.rule_filter).selectpicker("render")}),this.on("afterUpdateRuleOperator",function(e,t){t.$el.find(i.rule_operator).selectpicker("render")}),this.on("beforeDeleteRule",function(e,t){t.$el.find(i.rule_filter).selectpicker("destroy"),t.$el.find(i.rule_operator).selectpicker("destroy")})},{container:"body",style:"btn-inverse btn-xs",width:"auto",showIcon:!1}),o.define("bt-tooltip-errors",function(t){e.fn.tooltip&&e.fn.tooltip.Constructor&&e.fn.tooltip.Constructor.prototype.fixTitle||a.error("MissingLibrary",'Bootstrap Tooltip is required to use "bt-tooltip-errors" plugin. Get it here: http://getbootstrap.com');var i=this;this.on("getRuleTemplate.filter getGroupTemplate.filter",function(t){var i=e(t.value);i.find(o.selectors.error_container).attr("data-toggle","tooltip"),t.value=i.prop("outerHTML")}),this.model.on("update",function(e,n,s){"error"==s&&i.settings.display_errors&&n.$el.find(o.selectors.error_container).eq(0).tooltip(t).tooltip("hide").tooltip("fixTitle")})},{placement:"right"}),o.extend({setFilters:function(e,t){var i=this;void 0===t&&(t=e,e=!1),t=this.checkFilters(t);var n=(t=this.change("setFilters",t)).map(function(e){return e.id});if(e||function e(t){t.each(function(e){e.filter&&-1===n.indexOf(e.filter.id)&&a.error("ChangeFilter",'A rule is using filter "{0}"',e.filter.id)},e)}(this.model.root),this.filters=t,function e(t){t.each(!0,function(e){e.filter&&-1===n.indexOf(e.filter.id)?(e.drop(),i.trigger("rulesChanged")):(i.createRuleFilters(e),e.$el.find(o.selectors.rule_filter).val(e.filter?e.filter.id:"-1"),i.trigger("afterUpdateRuleFilter",e))},e)}(this.model.root),this.settings.plugins&&(this.settings.plugins["unique-filter"]&&this.updateDisabledFilters(),this.settings.plugins["bt-selectpicker"]&&this.$el.find(o.selectors.rule_filter).selectpicker("render")),this.settings.default_filter)try{this.getFilterById(this.settings.default_filter)}catch(e){this.settings.default_filter=null}this.trigger("afterSetFilters",t)},addFilter:function(t,i){void 0===i||"#end"==i?i=this.filters.length:"#start"==i&&(i=0),e.isArray(t)||(t=[t]);var n=e.extend(!0,[],this.filters);parseInt(i)==i?Array.prototype.splice.apply(n,[i,0].concat(t)):this.filters.some(function(e,t){if(e.id==i)return i=t+1,!0})?Array.prototype.splice.apply(n,[i,0].concat(t)):Array.prototype.push.apply(n,t),this.setFilters(n)},removeFilter:function(t,i){var n=e.extend(!0,[],this.filters);"string"==typeof t&&(t=[t]),n=n.filter(function(e){return-1===t.indexOf(e.id)}),this.setFilters(i,n)}}),o.define("filter-description",function(t){"inline"===t.mode?this.on("afterUpdateRuleFilter afterUpdateRuleOperator",function(i,n){var s=n.$el.find("p.filter-description"),r=i.builder.getFilterDescription(n.filter,n);r?(0===s.length?(s=e('<p class="filter-description"></p>')).appendTo(n.$el):s.show(),s.html('<i class="'+t.icon+'"></i> '+r)):s.hide()}):"popover"===t.mode?(e.fn.popover&&e.fn.popover.Constructor&&e.fn.popover.Constructor.prototype.fixTitle||a.error("MissingLibrary",'Bootstrap Popover is required to use "filter-description" plugin. Get it here: http://getbootstrap.com'),this.on("afterUpdateRuleFilter afterUpdateRuleOperator",function(i,n){var s=n.$el.find("button.filter-description"),r=i.builder.getFilterDescription(n.filter,n);r?(0===s.length?((s=e('<button type="button" class="btn btn-xs btn-info filter-description" data-toggle="popover"><i class="'+t.icon+'"></i></button>')).prependTo(n.$el.find(o.selectors.rule_actions)),s.popover({placement:"left",container:"body",html:!0}),s.on("mouseout",function(){s.popover("hide")})):s.show(),s.data("bs.popover").options.content=r,s.attr("aria-describedby")&&s.popover("show")):(s.hide(),s.data("bs.popover")&&s.popover("hide"))})):"bootbox"===t.mode&&("bootbox"in window||a.error("MissingLibrary",'Bootbox is required to use "filter-description" plugin. Get it here: http://bootboxjs.com'),this.on("afterUpdateRuleFilter afterUpdateRuleOperator",function(i,n){var s=n.$el.find("button.filter-description"),r=i.builder.getFilterDescription(n.filter,n);r?(0===s.length?((s=e('<button type="button" class="btn btn-xs btn-info filter-description" data-toggle="bootbox"><i class="'+t.icon+'"></i></button>')).prependTo(n.$el.find(o.selectors.rule_actions)),s.on("click",function(){bootbox.alert(s.data("description"))})):s.show(),s.data("description",r)):s.hide()}))},{icon:"glyphicon glyphicon-info-sign",mode:"popover"}),o.extend({getFilterDescription:function(e,t){return e?"function"==typeof e.description?e.description.call(this,t):e.description:void 0}}),o.define("invert",function(t){var i=this,n=o.selectors;this.on("afterInit",function(){i.$el.on("click.queryBuilder","[data-invert=group]",function(){var s=e(this).closest(n.group_container);i.invert(i.getModel(s),t)}),t.display_rules_button&&t.invert_rules&&i.$el.on("click.queryBuilder","[data-invert=rule]",function(){var s=e(this).closest(n.rule_container);i.invert(i.getModel(s),t)})}),this.on("getGroupTemplate.filter",function(s,r){var o=e(s.value);o.find(n.condition_container).after('<button type="button" class="btn btn-xs btn-default" data-invert="group"><i class="'+t.icon+'"></i> '+i.translate("invert")+"</button>"),s.value=o.prop("outerHTML")}),t.display_rules_button&&t.invert_rules&&this.on("getRuleTemplate.filter",function(s){var r=e(s.value);r.find(n.rule_actions).prepend('<button type="button" class="btn btn-xs btn-default" data-invert="rule"><i class="'+t.icon+'"></i> '+i.translate("invert")+"</button>"),s.value=r.prop("outerHTML")})},{icon:"glyphicon glyphicon-random",recursive:!0,invert_rules:!0,display_rules_button:!1,silent_fail:!1}),o.defaults({operatorOpposites:{equal:"not_equal",not_equal:"equal",in:"not_in",not_in:"in",less:"greater_or_equal",less_or_equal:"greater",greater:"less_or_equal",greater_or_equal:"less",between:"not_between",not_between:"between",begins_with:"not_begins_with",not_begins_with:"begins_with",contains:"not_contains",not_contains:"contains",ends_with:"not_ends_with",not_ends_with:"ends_with",is_empty:"is_not_empty",is_not_empty:"is_empty",is_null:"is_not_null",is_not_null:"is_null"},conditionOpposites:{AND:"OR",OR:"AND"}}),o.extend({invert:function(t,i){if(!(t instanceof l)){if(!this.model.root)return;i=t,t=this.model.root}if("object"!=typeof i&&(i={}),void 0===i.recursive&&(i.recursive=!0),void 0===i.invert_rules&&(i.invert_rules=!0),void 0===i.silent_fail&&(i.silent_fail=!1),void 0===i.trigger&&(i.trigger=!0),t instanceof h){if(this.settings.conditionOpposites[t.condition]?t.condition=this.settings.conditionOpposites[t.condition]:i.silent_fail||a.error("InvertCondition",'Unknown inverse of condition "{0}"',t.condition),i.recursive){var n=e.extend({},i,{trigger:!1});t.each(function(e){i.invert_rules&&this.invert(e,n)},function(e){this.invert(e,n)},this)}}else if(t instanceof u&&t.operator&&!t.filter.no_invert)if(this.settings.operatorOpposites[t.operator.type]){var s=this.settings.operatorOpposites[t.operator.type];t.filter.operators&&-1==t.filter.operators.indexOf(s)||(t.operator=this.getOperatorByType(s))}else i.silent_fail||a.error("InvertOperator",'Unknown inverse of operator "{0}"',t.operator.type);i.trigger&&(this.trigger("afterInvert",t,i),this.trigger("rulesChanged"))}}),o.defaults({mongoOperators:{equal:function(e){return e[0]},not_equal:function(e){return{$ne:e[0]}},in:function(e){return{$in:e}},not_in:function(e){return{$nin:e}},less:function(e){return{$lt:e[0]}},less_or_equal:function(e){return{$lte:e[0]}},greater:function(e){return{$gt:e[0]}},greater_or_equal:function(e){return{$gte:e[0]}},between:function(e){return{$gte:e[0],$lte:e[1]}},not_between:function(e){return{$lt:e[0],$gt:e[1]}},begins_with:function(e){return{$regex:"^"+a.escapeRegExp(e[0])}},not_begins_with:function(e){return{$regex:"^(?!"+a.escapeRegExp(e[0])+")"}},contains:function(e){return{$regex:a.escapeRegExp(e[0])}},not_contains:function(e){return{$regex:"^((?!"+a.escapeRegExp(e[0])+").)*$",$options:"s"}},ends_with:function(e){return{$regex:a.escapeRegExp(e[0])+"$"}},not_ends_with:function(e){return{$regex:"(?<!"+a.escapeRegExp(e[0])+")$"}},is_empty:function(e){return""},is_not_empty:function(e){return{$ne:""}},is_null:function(e){return null},is_not_null:function(e){return{$ne:null}}},mongoRuleOperators:{$ne:function(e){return{val:e=e.$ne,op:null===e?"is_not_null":""===e?"is_not_empty":"not_equal"}},eq:function(e){return{val:e,op:null===e?"is_null":""===e?"is_empty":"equal"}},$regex:function(e){return"^(?!"==(e=e.$regex).slice(0,4)&&")"==e.slice(-1)?{val:e.slice(4,-1),op:"not_begins_with"}:"^((?!"==e.slice(0,5)&&").)*$"==e.slice(-5)?{val:e.slice(5,-5),op:"not_contains"}:"(?<!"==e.slice(0,4)&&")$"==e.slice(-2)?{val:e.slice(4,-2),op:"not_ends_with"}:"$"==e.slice(-1)?{val:e.slice(0,-1),op:"ends_with"}:"^"==e.slice(0,1)?{val:e.slice(1),op:"begins_with"}:{val:e,op:"contains"}},between:function(e){return{val:[e.$gte,e.$lte],op:"between"}},not_between:function(e){return{val:[e.$lt,e.$gt],op:"not_between"}},$in:function(e){return{val:e.$in,op:"in"}},$nin:function(e){return{val:e.$nin,op:"not_in"}},$lt:function(e){return{val:e.$lt,op:"less"}},$lte:function(e){return{val:e.$lte,op:"less_or_equal"}},$gt:function(e){return{val:e.$gt,op:"greater"}},$gte:function(e){return{val:e.$gte,op:"greater_or_equal"}}}}),o.extend({getMongo:function(e){if(!(e=void 0===e?this.getRules():e))return null;var t=this;return function e(i){if(i.condition||(i.condition=t.settings.default_condition),-1===["AND","OR"].indexOf(i.condition.toUpperCase())&&a.error("UndefinedMongoCondition",'Unable to build MongoDB query with condition "{0}"',i.condition),!i.rules)return{};var n=[];i.rules.forEach(function(i){if(i.rules&&i.rules.length>0)n.push(e(i));else{var s=t.settings.mongoOperators[i.operator],r=t.getOperatorByType(i.operator),o=[];void 0===s&&a.error("UndefinedMongoOperator",'Unknown MongoDB operation for operator "{0}"',i.operator),0!==r.nb_inputs&&(i.value instanceof Array||(i.value=[i.value]),i.value.forEach(function(e){o.push(a.changeType(e,i.type,!1))}));var l={};l[t.change("getMongoDBField",i.field,i)]=s.call(t,o),n.push(t.change("ruleToMongo",l,i,o,s))}});var s={};return s["$"+i.condition.toLowerCase()]=n,t.change("groupToMongo",s,i)}(e)},getRulesFromMongo:function(e){if(void 0===e||null===e)return null;var t=this;if("rules"in(e=t.change("parseMongoNode",e))&&"condition"in e)return e;if("id"in e&&"operator"in e&&"value"in e)return{condition:this.settings.default_condition,rules:[e]};var i=n(e);return i||a.error("MongoParse","Invalid MongoDB query format"),function e(i,s){var r=[];return i[s].forEach(function(i){if("rules"in(i=t.change("parseMongoNode",i))&&"condition"in i)r.push(i);else if("id"in i&&"operator"in i&&"value"in i)r.push(i);else{var s=n(i);if(s)r.push(e(i,s));else{var o=Object.keys(i)[0],l=i[o],h=function(e){if(null!==e&&"object"==typeof e){var t=Object.keys(e);return 1===t.length?t[0]:void 0!==e.$gte&&void 0!==e.$lte?"between":void 0!==e.$lt&&void 0!==e.$gt?"not_between":void 0!==e.$regex?"$regex":void 0}return"eq"}(l);void 0===h&&a.error("MongoParse","Invalid MongoDB query format");var u=t.settings.mongoRuleOperators[h];void 0===u&&a.error("UndefinedMongoOperator",'JSON Rule operation unknown for operator "{0}"',h);var d=u.call(t,l),c=t.getMongoDBFieldID(o,l),p=t.change("mongoToRule",{id:c,field:o,operator:d.op,value:d.val},i);r.push(p)}}}),t.change("mongoToGroup",{condition:s.replace("$","").toUpperCase(),rules:r},i)}(e,i)},setRulesFromMongo:function(e){this.setRules(this.getRulesFromMongo(e))},getMongoDBFieldID:function(e,t){var i=this.filters.filter(function(t){return t.field===e});return 1===i.length?i[0].id:this.change("getMongoDBFieldID",e,t)}}),o.define("not-group",function(t){var i=this;this.on("afterInit",function(){i.$el.on("click.queryBuilder","[data-not=group]",function(){var t=e(this).closest(o.selectors.group_container),n=i.getModel(t);n.not=!n.not}),i.model.on("update",function(e,t,n){t instanceof h&&"not"===n&&i.updateGroupNot(t)})}),this.on("afterAddGroup",function(e,t){t.__.not=!1}),this.on("getGroupTemplate.filter",function(n,s){var r=e(n.value);r.find(o.selectors.condition_container).prepend('<button type="button" class="btn btn-xs btn-default" data-not="group"><i class="'+t.icon_unchecked+'"></i> '+i.translate("NOT")+"</button>"),n.value=r.prop("outerHTML")}),this.on("groupToJson.filter",function(e,t){e.value.not=t.not}),this.on("jsonToGroup.filter",function(e,t){e.value.not=!!t.not}),this.on("groupToSQL.filter",function(e,t){t.not&&(e.value="NOT ( "+e.value+" )")}),this.on("parseSQLNode.filter",function(e){e.value.name&&"NOT"==e.value.name.toUpperCase()&&(e.value=e.value.arguments.value[0],e.value.not=!0)}),this.on("sqlToGroup.filter",function(e,t){e.value.not=!!t.not}),this.on("groupToMongo.filter",function(e,t){var i="$"+t.condition.toLowerCase();t.not&&e.value[i]&&(e.value={$nor:[e.value]})}),this.on("parseMongoNode.filter",function(e){var t=Object.keys(e.value);"$nor"==t[0]&&(e.value=e.value[t[0]][0],e.value.not=!0)}),this.on("mongoToGroup.filter",function(e,t){e.value.not=!!t.not})},{icon_unchecked:"glyphicon glyphicon-unchecked",icon_checked:"glyphicon glyphicon-check"}),a.defineModelProperties(h,["not"]),o.selectors.group_not=o.selectors.group_header+" [data-not=group]",o.extend({updateGroupNot:function(e){var t=this.plugins["not-group"];e.$el.find(">"+o.selectors.group_not).toggleClass("active",e.not).find("i").attr("class",e.not?t.icon_checked:t.icon_unchecked),this.trigger("afterUpdateGroupNot",e),this.trigger("rulesChanged")}}),o.define("sortable",function(t){var i,n,r;"interact"in window||a.error("MissingLibrary",'interact.js is required to use "sortable" plugin. Get it here: http://interactjs.io'),void 0!==t.default_no_sortable&&(a.error(!1,"Config",'Sortable plugin : "default_no_sortable" options is deprecated, use standard "default_rule_flags" and "default_group_flags" instead'),this.settings.default_rule_flags.no_sortable=this.settings.default_group_flags.no_sortable=t.default_no_sortable),interact.dynamicDrop(!0),interact.pointerMoveTolerance(10),this.on("afterAddRule afterAddGroup",function(a,l){if(l!=i){var u=a.builder;t.inherit_no_sortable&&l.parent&&l.parent.flags.no_sortable&&(l.flags.no_sortable=!0),t.inherit_no_drop&&l.parent&&l.parent.flags.no_drop&&(l.flags.no_drop=!0),l.flags.no_sortable||interact(l.$el[0]).allowFrom(o.selectors.drag_handle).draggable({onstart:function(t){r=u.getModel(t.target),n=r.$el.clone().appendTo(r.$el.parent()).width(r.$el.outerWidth()).addClass("dragging");var s=e('<div class="rule-placeholder">&nbsp;</div>').height(r.$el.outerHeight());i=r.parent.addRule(s,r.getPos()),r.$el.hide()},onmove:function(e){n[0].style.top=e.clientY-15+"px",n[0].style.left=e.clientX-15+"px"},onend:function(){n.remove(),n=void 0,i.drop(),i=void 0,r.$el.show(),u.trigger("afterMove",r),u.trigger("rulesChanged")}}),l.flags.no_drop||(interact(l.$el[0]).dropzone({accept:o.selectors.rule_and_group_containers,ondragenter:function(t){s(i,e(t.target),u)},ondrop:function(t){s(r,e(t.target),u)}}),l instanceof h&&interact(l.$el.find(o.selectors.group_header)[0]).dropzone({accept:o.selectors.rule_and_group_containers,ondragenter:function(t){s(i,e(t.target),u)},ondrop:function(t){s(r,e(t.target),u)}}))}}),this.on("beforeDeleteRule beforeDeleteGroup",function(e,t){e.isDefaultPrevented()||(interact(t.$el[0]).unset(),t instanceof h&&interact(t.$el.find(o.selectors.group_header)[0]).unset())}),this.on("afterApplyRuleFlags afterApplyGroupFlags",function(e,t){t.flags.no_sortable&&t.$el.find(".drag-handle").remove()}),this.on("getGroupTemplate.filter",function(i,n){if(n>1){var s=e(i.value);s.find(o.selectors.condition_container).after('<div class="drag-handle"><i class="'+t.icon+'"></i></div>'),i.value=s.prop("outerHTML")}}),this.on("getRuleTemplate.filter",function(i){var n=e(i.value);n.find(o.selectors.rule_header).after('<div class="drag-handle"><i class="'+t.icon+'"></i></div>'),i.value=n.prop("outerHTML")})},{inherit_no_sortable:!0,inherit_no_drop:!0,icon:"glyphicon glyphicon-sort"}),o.selectors.rule_and_group_containers=o.selectors.rule_container+", "+o.selectors.group_container,o.selectors.drag_handle=".drag-handle",o.defaults({default_rule_flags:{no_sortable:!1,no_drop:!1},default_group_flags:{no_sortable:!1,no_drop:!1}}),o.define("sql-support",function(e){},{boolean_as_integer:!0}),o.defaults({sqlOperators:{equal:{op:"= ?"},not_equal:{op:"!= ?"},in:{op:"IN(?)",sep:", "},not_in:{op:"NOT IN(?)",sep:", "},less:{op:"< ?"},less_or_equal:{op:"<= ?"},greater:{op:"> ?"},greater_or_equal:{op:">= ?"},between:{op:"BETWEEN ?",sep:" AND "},not_between:{op:"NOT BETWEEN ?",sep:" AND "},begins_with:{op:"LIKE(?)",mod:"{0}%"},not_begins_with:{op:"NOT LIKE(?)",mod:"{0}%"},contains:{op:"LIKE(?)",mod:"%{0}%"},not_contains:{op:"NOT LIKE(?)",mod:"%{0}%"},ends_with:{op:"LIKE(?)",mod:"%{0}"},not_ends_with:{op:"NOT LIKE(?)",mod:"%{0}"},is_empty:{op:"= ''"},is_not_empty:{op:"!= ''"},is_null:{op:"IS NULL"},is_not_null:{op:"IS NOT NULL"}},sqlRuleOperator:{"=":function(e){return{val:e,op:""===e?"is_empty":"equal"}},"!=":function(e){return{val:e,op:""===e?"is_not_empty":"not_equal"}},LIKE:function(e){return"%"==e.slice(0,1)&&"%"==e.slice(-1)?{val:e.slice(1,-1),op:"contains"}:"%"==e.slice(0,1)?{val:e.slice(1),op:"ends_with"}:"%"==e.slice(-1)?{val:e.slice(0,-1),op:"begins_with"}:void a.error("SQLParse",'Invalid value for LIKE operator "{0}"',e)},"NOT LIKE":function(e){return"%"==e.slice(0,1)&&"%"==e.slice(-1)?{val:e.slice(1,-1),op:"not_contains"}:"%"==e.slice(0,1)?{val:e.slice(1),op:"not_ends_with"}:"%"==e.slice(-1)?{val:e.slice(0,-1),op:"not_begins_with"}:void a.error("SQLParse",'Invalid value for NOT LIKE operator "{0}"',e)},IN:function(e){return{val:e,op:"in"}},"NOT IN":function(e){return{val:e,op:"not_in"}},"<":function(e){return{val:e,op:"less"}},"<=":function(e){return{val:e,op:"less_or_equal"}},">":function(e){return{val:e,op:"greater"}},">=":function(e){return{val:e,op:"greater_or_equal"}},BETWEEN:function(e){return{val:e,op:"between"}},"NOT BETWEEN":function(e){return{val:e,op:"not_between"}},IS:function(e){return null!==e&&a.error("SQLParse","Invalid value for IS operator"),{val:null,op:"is_null"}},"IS NOT":function(e){return null!==e&&a.error("SQLParse","Invalid value for IS operator"),{val:null,op:"is_not_null"}}},sqlStatements:{question_mark:function(){var e=[];return{add:function(t,i){return e.push(i),"?"},run:function(){return e}}},numbered:function(e){(!e||e.length>1)&&(e="$");var t=0,i=[];return{add:function(n,s){return i.push(s),e+ ++t},run:function(){return i}}},named:function(e){(!e||e.length>1)&&(e=":");var t={},i={};return{add:function(n,s){t[n.field]||(t[n.field]=1);var r=n.field+"_"+t[n.field]++;return i[r]=s,e+r},run:function(){return i}}}},sqlRuleStatement:{question_mark:function(e){var t=0;return{parse:function(i){return"?"==i?e[t++]:i},esc:function(e){return e.replace(/\?/g,"'?'")}}},numbered:function(e,t){(!t||t.length>1)&&(t="$");var i=new RegExp("^\\"+t+"[0-9]+$"),n=new RegExp("\\"+t+"([0-9]+)","g");return{parse:function(t){return i.test(t)?e[t.slice(1)-1]:t},esc:function(e){return e.replace(n,"'"+("$"==t?"$$":t)+"$1'")}}},named:function(e,t){(!t||t.length>1)&&(t=":");var i=new RegExp("^\\"+t),n=new RegExp("\\"+t+"("+Object.keys(e).join("|")+")","g");return{parse:function(t){return i.test(t)?e[t.slice(1)]:t},esc:function(e){return e.replace(n,"'"+("$"==t?"$$":t)+"$1'")}}}}}),o.extend({getSQL:function(e,t,i){if(!(i=void 0===i?this.getRules():i))return null;t=t?"\n":" ";var n=this.getPluginOptions("sql-support","boolean_as_integer");if(!0===e&&(e="question_mark"),"string"==typeof e){var s=r(e);e=this.settings.sqlStatements[s[1]](s[2])}var o=this,l=function i(s){if(s.condition||(s.condition=o.settings.default_condition),-1===["AND","OR"].indexOf(s.condition.toUpperCase())&&a.error("UndefinedSQLCondition",'Unable to build SQL query with condition "{0}"',s.condition),!s.rules)return"";var r=[];s.rules.forEach(function(s){if(s.rules&&s.rules.length>0)r.push("("+t+i(s)+t+")"+t);else{var l=o.settings.sqlOperators[s.operator],h=o.getOperatorByType(s.operator),u="";void 0===l&&a.error("UndefinedSQLOperator",'Unknown SQL operation for operator "{0}"',s.operator),0!==h.nb_inputs&&(s.value instanceof Array||(s.value=[s.value]),s.value.forEach(function(t,i){i>0&&(u+=l.sep),"integer"==s.type||"double"==s.type||"boolean"==s.type?t=a.changeType(t,s.type,n):e||(t=a.escapeString(t)),l.mod&&(t=a.fmt(l.mod,t)),e?u+=e.add(s,t):("string"==typeof t&&(t="'"+t+"'"),u+=t)}));var d=function(e){return l.op.replace(/\?/,e)},c=o.change("getSQLField",s.field,s)+" "+d(u);r.push(o.change("ruleToSQL",c,s,u,d))}});var l=r.join(" "+s.condition+t);return o.change("groupToSQL",l,s)}(i);return e?{sql:l,params:e.run()}:{sql:l}},getRulesFromSQL:function(t,i){"SQLParser"in window||a.error("MissingLibrary","SQLParser is required to parse SQL queries. Get it here https://github.com/mistic100/sql-parser");var n=this;if("string"==typeof t&&(t={sql:t}),!0===i&&(i="question_mark"),"string"==typeof i){var s=r(i);i=this.settings.sqlRuleStatement[s[1]](t.params,s[2])}i&&(t.sql=i.esc(t.sql)),0!==t.sql.toUpperCase().indexOf("SELECT")&&(t.sql="SELECT * FROM table WHERE "+t.sql);var o=SQLParser.parse(t.sql);o.where||a.error("SQLParse","No WHERE clause found");var l=n.change("parseSQLNode",o.where.conditions);if("rules"in l&&"condition"in l)return l;if("id"in l&&"operator"in l&&"value"in l)return{condition:this.settings.default_condition,rules:[l]};var h=n.change("sqlToGroup",{condition:this.settings.default_condition,rules:[]},l),u=h;return function t(s,r){if("rules"in(s=n.change("parseSQLNode",s))&&"condition"in s)u.rules.push(s);else if("id"in s&&"operator"in s&&"value"in s)u.rules.push(s);else if("left"in s&&"right"in s&&"operation"in s||a.error("SQLParse","Unable to parse WHERE clause"),-1!==["AND","OR"].indexOf(s.operation.toUpperCase())){if(r>0&&u.condition!=s.operation.toUpperCase()){var o=n.change("sqlToGroup",{condition:n.settings.default_condition,rules:[]},s);u.rules.push(o),u=o}u.condition=s.operation.toUpperCase(),r++;var l=u;t(s.left,r),u=l,t(s.right,r)}else{var h;e.isPlainObject(s.right.value)&&a.error("SQLParse","Value format not supported for {0}.",s.left.value),h=e.isArray(s.right.value)?s.right.value.map(function(e){return e.value}):s.right.value,i&&(h=e.isArray(h)?h.map(i.parse):i.parse(h));var d=s.operation.toUpperCase();"<>"==d&&(d="!=");var c=n.settings.sqlRuleOperator[d];void 0===c&&a.error("UndefinedSQLOperator",'Invalid SQL operation "{0}".',s.operation);var p,m=c.call(this,h,s.operation);"values"in s.left?p=s.left.values.join("."):"value"in s.left?p=s.left.value:a.error("SQLParse","Cannot find field name in {0}",JSON.stringify(s.left));var f=n.getSQLFieldID(p,h),g=n.change("sqlToRule",{id:f,field:p,operator:m.op,value:m.val},s);u.rules.push(g)}}(l,0),h},setRulesFromSQL:function(e,t){this.setRules(this.getRulesFromSQL(e,t))},getSQLFieldID:function(e,t){var i=this.filters.filter(function(t){return t.field.toLowerCase()===e.toLowerCase()});return 1===i.length?i[0].id:this.change("getSQLFieldID",e,t)}}),o.define("unique-filter",function(){this.status.used_filters={},this.on("afterUpdateRuleFilter",this.updateDisabledFilters),this.on("afterDeleteRule",this.updateDisabledFilters),this.on("afterCreateRuleFilters",this.applyDisabledFilters),this.on("afterReset",this.clearDisabledFilters),this.on("afterClear",this.clearDisabledFilters),this.on("getDefaultFilter.filter",function(e,t){var i=e.builder;(i.updateDisabledFilters(),e.value.id in i.status.used_filters)&&(i.filters.some(function(n){if(!(n.id in i.status.used_filters)||i.status.used_filters[n.id].length>0&&-1===i.status.used_filters[n.id].indexOf(t.parent))return e.value=n,!0})||(a.error(!1,"UniqueFilter","No more non-unique filters available"),e.value=void 0))})}),o.extend({updateDisabledFilters:function(e){var t=e?e.builder:this;t.status.used_filters={},t.model&&(function e(i){i.each(function(e){e.filter&&e.filter.unique&&(t.status.used_filters[e.filter.id]||(t.status.used_filters[e.filter.id]=[]),"group"==e.filter.unique&&t.status.used_filters[e.filter.id].push(e.parent))},function(t){e(t)})}(t.model.root),t.applyDisabledFilters(e))},clearDisabledFilters:function(e){var t=e?e.builder:this;t.status.used_filters={},t.applyDisabledFilters(e)},applyDisabledFilters:function(t){var i=t?t.builder:this;i.$el.find(o.selectors.filter_container+" option").prop("disabled",!1),e.each(i.status.used_filters,function(e,t){0===t.length?i.$el.find(o.selectors.filter_container+' option[value="'+e+'"]:not(:selected)').prop("disabled",!0):t.forEach(function(t){t.each(function(t){t.$el.find(o.selectors.filter_container+' option[value="'+e+'"]:not(:selected)').prop("disabled",!0)})})}),i.settings.plugins&&i.settings.plugins["bt-selectpicker"]&&i.$el.find(o.selectors.rule_filter).selectpicker("render")}}),o.regional.en={__locale:"English (en)",__author:'Damien "Mistic" Sorel, http://www.strangeplanet.fr',add_rule:"Add rule",add_group:"Add group",delete_rule:"Delete",delete_group:"Delete",conditions:{AND:"AND",OR:"OR"},operators:{equal:"equal",not_equal:"not equal",in:"in",not_in:"not in",less:"less",less_or_equal:"less or equal",greater:"greater",greater_or_equal:"greater or equal",between:"between",not_between:"not between",begins_with:"begins with",not_begins_with:"doesn't begin with",contains:"contains",not_contains:"doesn't contain",ends_with:"ends with",not_ends_with:"doesn't end with",is_empty:"is empty",is_not_empty:"is not empty",is_null:"is null",is_not_null:"is not null"},errors:{no_filter:"No filter selected",empty_group:"The group is empty",radio_empty:"No value selected",checkbox_empty:"No value selected",select_empty:"No value selected",string_empty:"Empty value",string_exceed_min_length:"Must contain at least {0} characters",string_exceed_max_length:"Must not contain more than {0} characters",string_invalid_format:"Invalid format ({0})",number_nan:"Not a number",number_not_integer:"Not an integer",number_not_double:"Not a real number",number_exceed_min:"Must be greater than {0}",number_exceed_max:"Must be lower than {0}",number_wrong_step:"Must be a multiple of {0}",number_between_invalid:"Invalid values, {0} is greater than {1}",datetime_empty:"Empty value",datetime_invalid:"Invalid date format ({0})",datetime_exceed_min:"Must be after {0}",datetime_exceed_max:"Must be before {0}",datetime_between_invalid:"Invalid values, {0} isgreater than {1}",boolean_not_valid:"Not a boolean",operator_not_multiple:'Operator "{1}" cannot accept multiple values'},invert:"Invert",NOT:"NOT"},o.defaults({lang_code:"en"}),o}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){e.defineMode("yaml",function(){var e=new RegExp("\\b(("+["true","false","on","off","yes","no"].join(")|(")+"))$","i");return{token:function(t,i){var n=t.peek(),s=i.escaped;if(i.escaped=!1,"#"==n&&(0==t.pos||/\s/.test(t.string.charAt(t.pos-1))))return t.skipToEnd(),"comment";if(t.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(i.literal&&t.indentation()>i.keyCol)return t.skipToEnd(),"string";if(i.literal&&(i.literal=!1),t.sol()){if(i.keyCol=0,i.pair=!1,i.pairStart=!1,t.match(/---/))return"def";if(t.match(/\.\.\./))return"def";if(t.match(/\s*-\s+/))return"meta"}if(t.match(/^(\{|\}|\[|\])/))return"{"==n?i.inlinePairs++:"}"==n?i.inlinePairs--:"["==n?i.inlineList++:i.inlineList--,"meta";if(i.inlineList>0&&!s&&","==n)return t.next(),"meta";if(i.inlinePairs>0&&!s&&","==n)return i.keyCol=0,i.pair=!1,i.pairStart=!1,t.next(),"meta";if(i.pairStart){if(t.match(/^\s*(\||\>)\s*/))return i.literal=!0,"meta";if(t.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable-2";if(0==i.inlinePairs&&t.match(/^\s*-?[0-9\.\,]+\s?$/))return"number";if(i.inlinePairs>0&&t.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(t.match(e))return"keyword"}return!i.pair&&t.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)?(i.pair=!0,i.keyCol=t.indentation(),"atom"):i.pair&&t.match(/^:\s*/)?(i.pairStart=!0,"meta"):(i.pairStart=!1,i.escaped="\\"==n,t.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}}}}),e.defineMIME("text/x-yaml","yaml"),e.defineMIME("text/yaml","yaml")}),jQuery.fn.datepicker.dates["en-CA"]={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",monthsTitle:"Months",clear:"Clear",weekStart:0,format:"yyyy-mm-dd"},jQuery.fn.datepicker.dates["ar-tn"]={days:["","","","","","","",""],daysShort:["","","","","","","",""],daysMin:["","","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:" ",rtl:!0},jQuery.fn.datepicker.dates.ar={days:["","","","","","","",""],daysShort:["","","","","","","",""],daysMin:["","","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:" ",rtl:!0},jQuery.fn.datepicker.dates.az={days:["Bazar","Bazar ertsi","rnb axam","rnb","Cm axam","Cm","nb"],daysShort:["B.","B.e",".a",".","C.a","C.","."],daysMin:["B.","B.e",".a",".","C.a","C.","."],months:["Yanvar","Fevral","Mart","Aprel","May","yun","yul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],monthsShort:["Yan","Fev","Mar","Apr","May","yun","yul","Avq","Sen","Okt","Noy","Dek"],today:"Bu gn",weekStart:1},jQuery.fn.datepicker.dates.bg={days:["","","","","","",""],daysShort:["","","","","","",""],daysMin:["","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:""},jQuery.fn.datepicker.dates.bn={days:["","","","","","",""],daysShort:["","","","","","",""],daysMin:["","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",monthsTitle:"",clear:"",weekStart:0,format:"mm/dd/yyyy"},jQuery.fn.datepicker.dates.br={days:["Sul","Lun","Meurzh","Merc'her","Yaou","Gwener","Sadorn"],daysShort:["Sul","Lun","Meu.","Mer.","Yao.","Gwe.","Sad."],daysMin:["Su","L","Meu","Mer","Y","G","Sa"],months:["Genver","C'hwevrer","Meurzh","Ebrel","Mae","Mezheven","Gouere","Eost","Gwengolo","Here","Du","Kerzu"],monthsShort:["Genv.","C'hw.","Meur.","Ebre.","Mae","Mezh.","Goue.","Eost","Gwen.","Here","Du","Kerz."],today:"Hiziv",monthsTitle:"Miz",clear:"Dilemel",weekStart:1,format:"dd/mm/yyyy"},jQuery.fn.datepicker.dates.bs={days:["Nedjelja","Ponedjeljak","Utorak","Srijeda","etvrtak","Petak","Subota"],daysShort:["Ned","Pon","Uto","Sri","et","Pet","Sub"],daysMin:["N","Po","U","Sr","","Pe","Su"],months:["Januar","Februar","Mart","April","Maj","Juni","Juli","August","Septembar","Oktobar","Novembar","Decembar"],monthsShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],today:"Danas",weekStart:1,format:"dd.mm.yyyy"},jQuery.fn.datepicker.dates.ca={days:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"],daysShort:["Diu","Dil","Dmt","Dmc","Dij","Div","Dis"],daysMin:["dg","dl","dt","dc","dj","dv","ds"],months:["Gener","Febrer","Mar","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],monthsShort:["Gen","Feb","Mar","Abr","Mai","Jun","Jul","Ago","Set","Oct","Nov","Des"],today:"Avui",monthsTitle:"Mesos",clear:"Esborrar",weekStart:1,format:"dd/mm/yyyy"},jQuery.fn.datepicker.dates.cs={days:["Nedle","Pondl","ter","Steda","tvrtek","Ptek","Sobota"],daysShort:["Ned","Pon","te","St","tv","Pt","Sob"],daysMin:["Ne","Po","t","St","t","P","So"],months:["Leden","nor","Bezen","Duben","Kvten","erven","ervenec","Srpen","Z","jen","Listopad","Prosinec"],monthsShort:["Led","no","Be","Dub","Kv","er","nc","Srp","Z","j","Lis","Pro"],today:"Dnes",clear:"Vymazat",monthsTitle:"Msc",weekStart:1,format:"dd.m.yyyy"},jQuery.fn.datepicker.dates.cy={days:["Sul","Llun","Mawrth","Mercher","Iau","Gwener","Sadwrn"],daysShort:["Sul","Llu","Maw","Mer","Iau","Gwe","Sad"],daysMin:["Su","Ll","Ma","Me","Ia","Gwe","Sa"],months:["Ionawr","Chewfror","Mawrth","Ebrill","Mai","Mehefin","Gorfennaf","Awst","Medi","Hydref","Tachwedd","Rhagfyr"],monthsShort:["Ion","Chw","Maw","Ebr","Mai","Meh","Gor","Aws","Med","Hyd","Tach","Rha"],today:"Heddiw"},jQuery.fn.datepicker.dates.da={days:["Sndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lrdag"],daysShort:["Sn","Man","Tir","Ons","Tor","Fre","Lr"],daysMin:["S","Ma","Ti","On","To","Fr","L"],months:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],monthsShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],today:"I Dag",weekStart:1,clear:"Nulstil",format:"dd/mm/yyyy"},jQuery.fn.datepicker.dates.de={days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],daysShort:["Son","Mon","Die","Mit","Don","Fre","Sam"],daysMin:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["Jan","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],today:"Heute",monthsTitle:"Monate",clear:"Lschen",weekStart:1,format:"dd.mm.yyyy"},jQuery.fn.datepicker.dates.el={days:["","","","","","",""],daysShort:["","","","","","",""],daysMin:["","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",clear:"",weekStart:1,format:"d/m/yyyy"},jQuery.fn.datepicker.dates["en-AU"]={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",monthsTitle:"Months",clear:"Clear",weekStart:1,format:"d/mm/yyyy"},jQuery.fn.datepicker.dates["en-GB"]={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",monthsTitle:"Months",clear:"Clear",weekStart:1,format:"dd/mm/yyyy"},jQuery.fn.datepicker.dates["en-IE"]={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",monthsTitle:"Months",clear:"Clear",weekStart:1,format:"dd/mm/yyyy"},jQuery.fn.datepicker.dates["en-NZ"]={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",monthsTitle:"Months",clear:"Clear",weekStart:1,format:"d/mm/yyyy"},jQuery.fn.datepicker.dates["en-ZA"]={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",monthsTitle:"Months",clear:"Clear",weekStart:1,format:"yyyy/mm/d"},jQuery.fn.datepicker.dates.eo={days:["dimano","lundo","mardo","merkredo","ado","vendredo","sabato"],daysShort:["dim.","lun.","mar.","mer.","a.","ven.","sam."],daysMin:["d","l","ma","me","","v","s"],months:["januaro","februaro","marto","aprilo","majo","junio","julio","agusto","septembro","oktobro","novembro","decembro"],monthsShort:["jan.","feb.","mar.","apr.","majo","jun.","jul.","ag.","sep.","okt.","nov.","dec."],today:"Hodia",clear:"Nuligi",weekStart:1,format:"yyyy-mm-dd"},jQuery.fn.datepicker.dates.es={days:["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"],daysShort:["Dom","Lun","Mar","Mi","Jue","Vie","Sb"],daysMin:["Do","Lu","Ma","Mi","Ju","Vi","Sa"],months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthsShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],today:"Hoy",monthsTitle:"Meses",clear:"Borrar",weekStart:1,format:"dd/mm/yyyy"},jQuery.fn.datepicker.dates.et={days:["Phapev","Esmaspev","Teisipev","Kolmapev","Neljapev","Reede","Laupev"],daysShort:["Phap","Esmasp","Teisip","Kolmap","Neljap","Reede","Laup"],daysMin:["P","E","T","K","N","R","L"],months:["Jaanuar","Veebruar","Mrts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],monthsShort:["Jaan","Veebr","Mrts","Apr","Mai","Juuni","Juuli","Aug","Sept","Okt","Nov","Dets"],today:"Tna",clear:"Thjenda",weekStart:1,format:"dd.mm.yyyy"},jQuery.fn.datepicker.dates.eu={days:["Igandea","Astelehena","Asteartea","Asteazkena","Osteguna","Ostirala","Larunbata"],daysShort:["Ig","Al","Ar","Az","Og","Ol","Lr"],daysMin:["Ig","Al","Ar","Az","Og","Ol","Lr"],months:["Urtarrila","Otsaila","Martxoa","Apirila","Maiatza","Ekaina","Uztaila","Abuztua","Iraila","Urria","Azaroa","Abendua"],monthsShort:["Urt","Ots","Mar","Api","Mai","Eka","Uzt","Abu","Ira","Urr","Aza","Abe"],today:"Gaur",monthsTitle:"Hilabeteak",clear:"Ezabatu",weekStart:1,format:"yyyy/mm/dd"},jQuery.fn.datepicker.dates.fa={days:["","","","","","","",""],daysShort:["","","","","","","",""],daysMin:["","","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",clear:" ",weekStart:1,format:"yyyy/mm/dd"},jQuery.fn.datepicker.dates.fi={days:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],daysShort:["sun","maa","tii","kes","tor","per","lau"],daysMin:["su","ma","ti","ke","to","pe","la"],months:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","keskuu","heinkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu"],monthsShort:["tam","hel","maa","huh","tou","kes","hei","elo","syy","lok","mar","jou"],today:"tnn",clear:"Tyhjenn",weekStart:1,format:"d.m.yyyy"},jQuery.fn.datepicker.dates.fo={days:["Sunnudagur","Mnadagur","Tsdagur","Mikudagur","Hsdagur","Frggjadagur","Leygardagur"],daysShort:["Sun","Mn","Ts","Mik","Hs","Fr","Ley"],daysMin:["Su","M","T","Mi","H","Fr","Le"],months:["Januar","Februar","Marts","Aprl","Mei","Juni","Juli","August","Septembur","Oktobur","Novembur","Desembur"],monthsShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Des"],today:" Dag",clear:"Reinsa"},jQuery.fn.datepicker.dates.fr={days:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],daysShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],daysMin:["D","L","Ma","Me","J","V","S"],months:["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"],monthsShort:["Jan","Fv","Mar","Avr","Mai","Jui","Jul","Aou","Sep","Oct","Nov","Dc"],today:"Aujourd'hui",monthsTitle:"Mois",clear:"Effacer",weekStart:1,format:"dd.mm.yyyy"},jQuery.fn.datepicker.dates.fr={days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],daysShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],daysMin:["d","l","ma","me","j","v","s"],months:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"],monthsShort:["janv.","fvr.","mars","avril","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],today:"Aujourd'hui",monthsTitle:"Mois",clear:"Effacer",weekStart:1,format:"dd/mm/yyyy"},jQuery.fn.datepicker.dates.gl={days:["Domingo","Luns","Martes","Mrcores","Xoves","Venres","Sbado"],daysShort:["Dom","Lun","Mar","Mr","Xov","Ven","Sb"],daysMin:["Do","Lu","Ma","Me","Xo","Ve","Sa"],months:["Xaneiro","Febreiro","Marzo","Abril","Maio","Xuo","Xullo","Agosto","Setembro","Outubro","Novembro","Decembro"],monthsShort:["Xan","Feb","Mar","Abr","Mai","Xun","Xul","Ago","Sep","Out","Nov","Dec"],today:"Hoxe",clear:"Limpar",weekStart:1,format:"dd/mm/yyyy"},jQuery.fn.datepicker.dates.he={days:["","","","","","","",""],daysShort:["","","","","","","",""],daysMin:["","","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",rtl:!0},jQuery.fn.datepicker.dates.hi={days:["","","","","","",""],daysShort:["","","","","","",""],daysMin:["","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",monthsTitle:"",clear:"",weekStart:1,format:"dd / mm / yyyy"},jQuery.fn.datepicker.dates.hr={days:["Nedjelja","Ponedjeljak","Utorak","Srijeda","etvrtak","Petak","Subota"],daysShort:["Ned","Pon","Uto","Sri","et","Pet","Sub"],daysMin:["Ne","Po","Ut","Sr","e","Pe","Su"],months:["Sijeanj","Veljaa","Oujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],monthsShort:["Sij","Velj","Ou","Tra","Svi","Lip","Srp","Kol","Ruj","Lis","Stu","Pro"],today:"Danas"},jQuery.fn.datepicker.dates.hu={days:["vasrnap","htf","kedd","szerda","cstrtk","pntek","szombat"],daysShort:["vas","ht","ked","sze","cs","pn","szo"],daysMin:["V","H","K","Sze","Cs","P","Szo"],months:["janur","februr","mrcius","prilis","mjus","jnius","jlius","augusztus","szeptember","oktber","november","december"],monthsShort:["jan","feb","mr","pr","mj","jn","jl","aug","sze","okt","nov","dec"],today:"ma",weekStart:1,clear:"trl",titleFormat:"yyyy. MM",format:"yyyy.mm.dd"},jQuery.fn.datepicker.dates.hy={days:["","","","","","",""],daysShort:["","","","","","",""],daysMin:["","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",clear:"",format:"dd.mm.yyyy",weekStart:1,monthsTitle:""},jQuery.fn.datepicker.dates.id={days:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],daysShort:["Mgu","Sen","Sel","Rab","Kam","Jum","Sab"],daysMin:["Mg","Sn","Sl","Ra","Ka","Ju","Sa"],months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],monthsShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nov","Des"],today:"Hari Ini",clear:"Kosongkan"},jQuery.fn.datepicker.dates.is={days:["Sunnudagur","Mnudagur","rijudagur","Mivikudagur","Fimmtudagur","Fstudagur","Laugardagur"],daysShort:["Sun","Mn","ri","Mi","Fim","Fs","Lau"],daysMin:["Su","M","r","Mi","Fi","F","La"],months:["Janar","Febrar","Mars","Aprl","Ma","Jn","Jl","gst","September","Oktber","Nvember","Desember"],monthsShort:["Jan","Feb","Mar","Apr","Ma","Jn","Jl","g","Sep","Okt","Nv","Des"],today:" Dag"},jQuery.fn.datepicker.dates.it={days:["Domenica","Luned","Marted","Mercoled","Gioved","Venerd","Sabato"],daysShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],daysMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthsShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],today:"Oggi",clear:"Cancella",weekStart:1,format:"dd.mm.yyyy"},jQuery.fn.datepicker.dates.it={days:["Domenica","Luned","Marted","Mercoled","Gioved","Venerd","Sabato"],daysShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],daysMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthsShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],today:"Oggi",monthsTitle:"Mesi",clear:"Cancella",weekStart:1,format:"dd/mm/yyyy"},jQuery.fn.datepicker.dates.ja={days:["","","","","","",""],daysShort:["","","","","","",""],daysMin:["","","","","","",""],months:["1","2","3","4","5","6","7","8","9","10","11","12"],monthsShort:["1","2","3","4","5","6","7","8","9","10","11","12"],today:"",format:"yyyy/mm/dd",titleFormat:"yyyymm",clear:""},jQuery.fn.datepicker.dates.ka={days:["","","","","","",""],daysShort:["","","","","","",""],daysMin:["","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",clear:"",weekStart:1,format:"dd.mm.yyyy"},function(e){e.fn.datepicker.dates.kh={days:["","","","","","",""],daysShort:[".","","","",".","",""],daysMin:[".","","","",".","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",clear:""},e.fn.datepicker.deprecated('The language code "kh" is deprecated and will be removed in 2.0. For Khmer support use "km" instead.')}(jQuery),jQuery.fn.datepicker.dates.kk={days:["","","","","","",""],daysShort:["","","","","","",""],daysMin:["","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",weekStart:1},jQuery.fn.datepicker.dates.km={days:["","","","","","",""],daysShort:[".","","","",".","",""],daysMin:[".","","","",".","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",clear:""},jQuery.fn.datepicker.dates.ko={days:["","","","","","",""],daysShort:["","","","","","",""],daysMin:["","","","","","",""],months:["1","2","3","4","5","6","7","8","9","10","11","12"],monthsShort:["1","2","3","4","5","6","7","8","9","10","11","12"],today:"",clear:"",format:"yyyy-mm-dd",titleFormat:"yyyymm",weekStart:0},function(e){e.fn.datepicker.dates.kr={days:["","","","","","",""],daysShort:["","","","","","",""],daysMin:["","","","","","",""],months:["1","2","3","4","5","6","7","8","9","10","11","12"],monthsShort:["1","2","3","4","5","6","7","8","9","10","11","12"]},e.fn.datepicker.deprecated('The language code "kr" is deprecated and will be removed in 2.0. For korean support use "ko" instead.')}(jQuery),jQuery.fn.datepicker.dates.lt={days:["Sekmadienis","Pirmadienis","Antradienis","Treiadienis","Ketvirtadienis","Penktadienis","etadienis"],daysShort:["S","Pr","A","T","K","Pn",""],daysMin:["Sk","Pr","An","Tr","Ke","Pn","t"],months:["Sausis","Vasaris","Kovas","Balandis","Gegu","Birelis","Liepa","Rugpjtis","Rugsjis","Spalis","Lapkritis","Gruodis"],monthsShort:["Sau","Vas","Kov","Bal","Geg","Bir","Lie","Rugp","Rugs","Spa","Lap","Gru"],today:"iandien",monthsTitle:"Mnesiai",clear:"Ivalyti",weekStart:1,format:"yyyy-mm-dd"},jQuery.fn.datepicker.dates.lv={days:["Svtdiena","Pirmdiena","Otrdiena","Trediena","Ceturtdiena","Piektdiena","Sestdiena"],daysShort:["Sv","P","O","T","C","Pk","S"],daysMin:["Sv","Pr","Ot","Tr","Ce","Pk","Se"],months:["Janvris","Februris","Marts","Aprlis","Maijs","Jnijs","Jlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],monthsShort:["Jan","Feb","Mar","Apr","Mai","Jn","Jl","Aug","Sep","Okt","Nov","Dec"],today:"odien",clear:"Nodzst",weekStart:1},jQuery.fn.datepicker.dates.me={days:["Nedjelja","Ponedjeljak","Utorak","Srijeda","etvrtak","Petak","Subota"],daysShort:["Ned","Pon","Uto","Sri","et","Pet","Sub"],daysMin:["Ne","Po","Ut","Sr","e","Pe","Su"],months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],monthsShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],today:"Danas",weekStart:1,clear:"Izbrii",format:"dd.mm.yyyy"},jQuery.fn.datepicker.dates.mk={days:["","","","","","",""],daysShort:["","","","","","",""],daysMin:["","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",format:"dd.mm.yyyy"},jQuery.fn.datepicker.dates.mn={days:["","","","","","",""],daysShort:["","","","","","",""],daysMin:["","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",clear:"",format:"yyyy.mm.dd",weekStart:1},jQuery.fn.datepicker.dates.ms={days:["Ahad","Isnin","Selasa","Rabu","Khamis","Jumaat","Sabtu"],daysShort:["Aha","Isn","Sel","Rab","Kha","Jum","Sab"],daysMin:["Ah","Is","Se","Ra","Kh","Ju","Sa"],months:["Januari","Februari","Mac","April","Mei","Jun","Julai","Ogos","September","Oktober","November","Disember"],monthsShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ogo","Sep","Okt","Nov","Dis"],today:"Hari Ini",clear:"Bersihkan"},jQuery.fn.datepicker.dates.nb={days:["Sndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lrdag"],daysShort:["Sn","Man","Tir","Ons","Tor","Fre","Lr"],daysMin:["S","Ma","Ti","On","To","Fr","L"],months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],monthsShort:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],today:"I Dag",format:"dd.mm.yyyy"},jQuery.fn.datepicker.dates["nl-BE"]={days:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],daysShort:["zo","ma","di","wo","do","vr","za"],daysMin:["zo","ma","di","wo","do","vr","za"],months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthsShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],today:"Vandaag",monthsTitle:"Maanden",clear:"Leegmaken",weekStart:1,format:"dd/mm/yyyy"},jQuery.fn.datepicker.dates.nl={days:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],daysShort:["zo","ma","di","wo","do","vr","za"],daysMin:["zo","ma","di","wo","do","vr","za"],months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthsShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],today:"Vandaag",monthsTitle:"Maanden",clear:"Wissen",weekStart:1,format:"dd-mm-yyyy"},jQuery.fn.datepicker.dates.no={days:["Sndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lrdag"],daysShort:["Sn","Man","Tir","Ons","Tor","Fre","Lr"],daysMin:["S","Ma","Ti","On","To","Fr","L"],months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],monthsShort:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],today:"I dag",clear:"Nullstill",weekStart:1,format:"dd.mm.yyyy"},jQuery.fn.datepicker.dates.oc={days:["Dimenge","Diluns","Dimars","Dimcres","Dijus","Divendres","Dissabte"],daysShort:["Dim","Dil","Dmr","Dmc","Dij","Div","Dis"],daysMin:["dg","dl","dr","dc","dj","dv","ds"],months:["Genir","Febrir","Mar","Abrial","Mai","Junh","Julhet","Agost","Setembre","Octobre","Novembre","Decembre"],monthsShort:["Gen","Feb","Mar","Abr","Mai","Jun","Jul","Ago","Set","Oct","Nov","Dec"],today:"Ui",monthsTitle:"Meses",clear:"Escafar",weekStart:1,format:"dd/mm/yyyy"},jQuery.fn.datepicker.dates.pl={days:["Niedziela","Poniedziaek","Wtorek","roda","Czwartek","Pitek","Sobota"],daysShort:["Niedz.","Pon.","Wt.","r.","Czw.","Pit.","Sob."],daysMin:["Ndz.","Pn.","Wt.","r.","Czw.","Pt.","Sob."],months:["Stycze","Luty","Marzec","Kwiecie","Maj","Czerwiec","Lipiec","Sierpie","Wrzesie","Padziernik","Listopad","Grudzie"],monthsShort:["Sty.","Lut.","Mar.","Kwi.","Maj","Cze.","Lip.","Sie.","Wrz.","Pa.","Lis.","Gru."],today:"Dzisiaj",weekStart:1,clear:"Wyczy",format:"dd.mm.yyyy"},jQuery.fn.datepicker.dates["pt-BR"]={days:["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"],daysShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],daysMin:["Do","Se","Te","Qu","Qu","Se","Sa"],months:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],today:"Hoje",monthsTitle:"Meses",clear:"Limpar",format:"dd/mm/yyyy"},jQuery.fn.datepicker.dates.pt={days:["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"],daysShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],daysMin:["Do","Se","Te","Qu","Qu","Se","Sa"],months:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],today:"Hoje",monthsTitle:"Meses",clear:"Limpar",format:"dd/mm/yyyy"},jQuery.fn.datepicker.dates.ro={days:["Duminic","Luni","Mari","Miercuri","Joi","Vineri","Smbt"],daysShort:["Dum","Lun","Mar","Mie","Joi","Vin","Sm"],daysMin:["Du","Lu","Ma","Mi","Jo","Vi","S"],months:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],monthsShort:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],today:"Astzi",clear:"terge",weekStart:1,format:"dd/mm/yyyy"},function(e){e.fn.datepicker.dates["rs-latin"]={days:["Nedelja","Ponedeljak","Utorak","Sreda","etvrtak","Petak","Subota"],daysShort:["Ned","Pon","Uto","Sre","et","Pet","Sub"],daysMin:["N","Po","U","Sr","","Pe","Su"],months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],monthsShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],today:"Danas",weekStart:1,format:"dd.mm.yyyy"},e.fn.datepicker.deprecated('This language code "rs-latin" is deprecated (invalid serbian language code) and will be removed in 2.0. For Serbian latin support use "sr-latin" instead.')}(jQuery),function(e){e.fn.datepicker.dates.rs={days:["","","","","","",""],daysShort:["","","","","","",""],daysMin:["","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",weekStart:1,format:"dd.mm.yyyy"},e.fn.datepicker.deprecated('This language code "rs" is deprecated (invalid serbian language code) and will be removed in 2.0. For Serbian support use "sr" instead.')}(jQuery),jQuery.fn.datepicker.dates.ru={days:["","","","","","",""],daysShort:["","","","","","",""],daysMin:["","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",clear:"",format:"dd.mm.yyyy",weekStart:1,monthsTitle:""},jQuery.fn.datepicker.dates.si={days:["","","","","","",""],daysShort:["","","","","","",""],daysMin:["","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",monthsTitle:"",clear:"",weekStart:0,format:"yyyy-mm-dd"},jQuery.fn.datepicker.dates.sk={days:["Nedea","Pondelok","Utorok","Streda","tvrtok","Piatok","Sobota"],daysShort:["Ned","Pon","Uto","Str","tv","Pia","Sob"],daysMin:["Ne","Po","Ut","St","t","Pia","So"],months:["Janur","Februr","Marec","Aprl","Mj","Jn","Jl","August","September","Oktber","November","December"],monthsShort:["Jan","Feb","Mar","Apr","Mj","Jn","Jl","Aug","Sep","Okt","Nov","Dec"],today:"Dnes",clear:"Vymaza",weekStart:1,format:"d.m.yyyy"},jQuery.fn.datepicker.dates.sl={days:["Nedelja","Ponedeljek","Torek","Sreda","etrtek","Petek","Sobota"],daysShort:["Ned","Pon","Tor","Sre","et","Pet","Sob"],daysMin:["Ne","Po","To","Sr","e","Pe","So"],months:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],monthsShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],today:"Danes",weekStart:1},jQuery.fn.datepicker.dates.sq={days:["E Diel","E Hn","E Mart","E Mrkur","E Enjte","E Premte","E Shtun"],daysShort:["Die","Hn","Mar","Mr","Enj","Pre","Shtu"],daysMin:["Di","H","Ma","M","En","Pr","Sht"],months:["Janar","Shkurt","Mars","Prill","Maj","Qershor","Korrik","Gusht","Shtator","Tetor","Nntor","Dhjetor"],monthsShort:["Jan","Shk","Mar","Pri","Maj","Qer","Korr","Gu","Sht","Tet","Nn","Dhjet"],today:"Sot"},jQuery.fn.datepicker.dates["sr-latin"]={days:["Nedelja","Ponedeljak","Utorak","Sreda","etvrtak","Petak","Subota"],daysShort:["Ned","Pon","Uto","Sre","et","Pet","Sub"],daysMin:["N","Po","U","Sr","","Pe","Su"],months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],monthsShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],today:"Danas",weekStart:1,format:"dd.mm.yyyy"},jQuery.fn.datepicker.dates.sr={days:["","","","","","",""],daysShort:["","","","","","",""],daysMin:["","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",weekStart:1,format:"dd.mm.yyyy"},jQuery.fn.datepicker.dates.sv={days:["Sndag","Mndag","Tisdag","Onsdag","Torsdag","Fredag","Lrdag"],daysShort:["Sn","Mn","Tis","Ons","Tor","Fre","Lr"],daysMin:["S","M","Ti","On","To","Fr","L"],months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],monthsShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],today:"Idag",format:"yyyy-mm-dd",weekStart:1,clear:"Rensa"},jQuery.fn.datepicker.dates.sw={days:["Jumapili","Jumatatu","Jumanne","Jumatano","Alhamisi","Ijumaa","Jumamosi"],daysShort:["J2","J3","J4","J5","Alh","Ij","J1"],daysMin:["2","3","4","5","A","I","1"],months:["Januari","Februari","Machi","Aprili","Mei","Juni","Julai","Agosti","Septemba","Oktoba","Novemba","Desemba"],monthsShort:["Jan","Feb","Mac","Apr","Mei","Jun","Jul","Ago","Sep","Okt","Nov","Des"],today:"Leo"},jQuery.fn.datepicker.dates.ta={days:["","","","","","",""],daysShort:["","","","","","",""],daysMin:["","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",monthsTitle:"",clear:"",weekStart:1,format:"dd/mm/yyyy"},jQuery.fn.datepicker.dates.tg={days:["","","","","","",""],daysShort:["","","","","","",""],daysMin:["","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",monthsTitle:"",clear:" ",weekStart:1,format:"dd.mm.yyyy"},jQuery.fn.datepicker.dates.th={days:["","","","","","","",""],daysShort:["","","","","","","",""],daysMin:["","","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["..","..","..","..","..","..","..","..","..","..","..",".."],today:""},jQuery.fn.datepicker.dates.tr={days:["Pazar","Pazartesi","Sal","aramba","Perembe","Cuma","Cumartesi"],daysShort:["Pz","Pzt","Sal","r","Pr","Cu","Cts"],daysMin:["Pz","Pzt","Sa","r","Pr","Cu","Ct"],months:["Ocak","ubat","Mart","Nisan","Mays","Haziran","Temmuz","Austos","Eyll","Ekim","Kasm","Aralk"],monthsShort:["Oca","ub","Mar","Nis","May","Haz","Tem","Au","Eyl","Eki","Kas","Ara"],today:"Bugn",clear:"Temizle",weekStart:1,format:"dd.mm.yyyy"},jQuery.fn.datepicker.dates.uk={days:["","","","","","'",""],daysShort:["","","","","","",""],daysMin:["","","","","","",""],months:["C","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",clear:"",format:"dd.mm.yyyy",weekStart:1},jQuery.fn.datepicker.dates["uz-cyrl"]={days:["","","","","","",""],daysShort:["","","","","","",""],daysMin:["","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",clear:"",format:"dd.mm.yyyy",weekStart:1,monthsTitle:""},jQuery.fn.datepicker.dates["uz-latn"]={days:["Yakshanba","Dushanba","Seshanba","Chorshanba","Payshanba","Juma","Shanba"],daysShort:["Yak","Du","Se","Chor","Pay","Ju","Sha"],daysMin:["Ya","Du","Se","Cho","Pa","Ju","Sha"],months:["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avgust","Sentabr","Oktabr","Noyabr","Dekabr"],monthsShort:["Yan","Fev","Mar","Apr","May","Iyn","Iyl","Avg","Sen","Okt","Noy","Dek"],today:"Bugun",clear:"O'chirish",format:"dd.mm.yyyy",weekStart:1,monthsTitle:"Oylar"},jQuery.fn.datepicker.dates.vi={days:["Ch nht","Th hai","Th ba","Th t","Th nm","Th su","Th by"],daysShort:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],daysMin:["CN","T2","T3","T4","T5","T6","T7"],months:["Thng 1","Thng 2","Thng 3","Thng 4","Thng 5","Thng 6","Thng 7","Thng 8","Thng 9","Thng 10","Thng 11","Thng 12"],monthsShort:["Th1","Th2","Th3","Th4","Th5","Th6","Th7","Th8","Th9","Th10","Th11","Th12"],today:"Hm nay",clear:"Xa",format:"dd/mm/yyyy"},jQuery.fn.datepicker.dates["zh-CN"]={days:["","","","","","",""],daysShort:["","","","","","",""],daysMin:["","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["1","2","3","4","5","6","7","8","9","10","11","12"],today:"",clear:"",format:"yyyymmdd",titleFormat:"yyyymm",weekStart:1},jQuery.fn.datepicker.dates["zh-TW"]={days:["","","","","","",""],daysShort:["","","","","","",""],daysMin:["","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["1","2","3","4","5","6","7","8","9","10","11","12"],today:"",format:"yyyymmdd",weekStart:1,clear:""},function(e,t){"function"==typeof define&&define.amd?define(["jquery","query-builder"],t):t(e.jQuery)}(this,function(e){var t=e.fn.queryBuilder;t.regional.ar={__locale:"Arabic (ar)",__author:"Mohamed YOUNES, https://github.com/MedYOUNES",add_rule:" ",add_group:" ",delete_rule:"",delete_group:"",conditions:{AND:"",OR:""},operators:{equal:"",not_equal:" ",in:"",not_in:" ",less:" ",less_or_equal:"  ",greater:"",greater_or_equal:"  ",between:" ",not_between:"  ",begins_with:" ",not_begins_with:"  ",contains:" ",not_contains:"  ",ends_with:" ",not_ends_with:"  ",is_empty:"",is_not_empty:" ",is_null:"",is_not_null:" "},errors:{no_filter:"   ",empty_group:" ",radio_empty:"   ",checkbox_empty:"   ",select_empty:"   ",string_empty:" ",string_exceed_min_length:"    ",string_exceed_max_length:"    ",string_invalid_format:"  ",number_nan:" ",number_not_integer:"  ",number_not_double:"  ",number_exceed_min:"     ",number_exceed_max:"     ",number_wrong_step:"    ",datetime_empty:"  ",datetime_invalid:"   ",datetime_exceed_min:"    ",datetime_exceed_max:"     ",boolean_not_valid:"   ",operator_not_multiple:"   "},invert:""},t.defaults({lang_code:"ar"})}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","query-builder"],t):t(e.jQuery)}(this,function(e){var t=e.fn.queryBuilder;t.regional.az={__locale:"Azerbaijan (az)",__author:"Megaplan, mborisv <bm@megaplan.ru>",add_rule:"lav etmk",add_group:"Qrup lav etmk",delete_rule:"Silmk",delete_group:"Silmk",conditions:{AND:"V",OR:"V YA"},operators:{equal:"brabrdir",not_equal:"brabr deyil",in:"qeyd edilmilrdn",not_in:"qeyd olunmamlardan",less:"daha az",less_or_equal:"daha az v ya brabr",greater:"daha ox",greater_or_equal:"daha ox v ya brabr",between:"arasnda",begins_with:"balayr",not_begins_with:"balamr",contains:"ibartdir",not_contains:"yoxdur",ends_with:"baa atr",not_ends_with:"baa atmr",is_empty:"bo stir",is_not_empty:"bo olmayan stir",is_null:"bodur",is_not_null:"bo deyil"},errors:{no_filter:"Filterlr seilmyib",empty_group:"Qrup bodur",radio_empty:"Mna seilmyib",checkbox_empty:"Mna seilmyib",select_empty:"Mna seilmyib",string_empty:"Doldurulmayb",string_exceed_min_length:"{0} daha ox simvol olmaldr",string_exceed_max_length:"{0} daha az simvol olmaldr",string_invalid_format:"Yanl format ({0})",number_nan:"Rqm deyil",number_not_integer:"Rqm deyil",number_not_double:"Rqm deyil",number_exceed_min:"{0} daha ox olmaldr",number_exceed_max:"{0} daha az olmaldr",number_wrong_step:"{0} blnn olmaldr",datetime_empty:"Doldurulmayb",datetime_invalid:"Yanl tarix format ({0})",datetime_exceed_min:"{0} sonra olmaldr",datetime_exceed_max:"{0} vvl olmaldr",boolean_not_valid:"Loqik olmayan",operator_not_multiple:'"{1}" operatoru oxlu mna damr'},invert:"invert"},t.defaults({lang_code:"az"})}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","query-builder"],t):t(e.jQuery)}(this,function(e){var t=e.fn.queryBuilder;t.regional.bg={__locale:"Bulgarian (bg)",__author:"Valentin Hristov",add_rule:" ",add_group:" ",delete_rule:"",delete_group:"",conditions:{AND:"",OR:""},operators:{equal:"",not_equal:"",in:"",not_in:"  ",less:"-",less_or_equal:"-  ",greater:"-",greater_or_equal:"-  ",between:"",not_between:"  ",begins_with:" ",not_begins_with:"  ",contains:"",not_contains:" ",ends_with:" ",not_ends_with:"  ",is_empty:" ",is_not_empty:"  ",is_null:" ",is_not_null:"  "},errors:{no_filter:"   ",empty_group:"  ",radio_empty:"   ",checkbox_empty:"   ",select_empty:"   ",string_empty:" ",string_exceed_min_length:"     {0} ",string_exceed_max_length:"      {0} ",string_invalid_format:"  ({0})",number_nan:"  ",number_not_integer:"   ",number_not_double:"   ",number_exceed_min:"   -  {0}",number_exceed_max:"   -  {0}",number_wrong_step:"     {0}",datetime_empty:" ",datetime_invalid:"    ({0})",datetime_exceed_min:"    {0}",datetime_exceed_max:"    {0}",boolean_not_valid:"  ",operator_not_multiple:' "{1}"      '}},t.defaults({lang_code:"bg"})}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","query-builder"],t):t(e.jQuery)}(this,function(e){var t=e.fn.queryBuilder;t.regional.cs={__locale:"etina (cs)",__author:"Megaplan, mborisv <bm@megaplan.ru>",add_rule:"Pidat",add_group:"Pidat skupinu",delete_rule:"Odstranit",delete_group:"Odstranit skupinu",conditions:{AND:"I",OR:"NEBO"},operators:{equal:"stejn",not_equal:"li se",in:"z uvedench",not_in:"ne z uvedench",less:"mn",less_or_equal:"mn nebo stejn",greater:"vce",greater_or_equal:"vce nebo stejn",between:"mezi",begins_with:"zan z",not_begins_with:"nezan z",contains:"obsahuje",not_contains:"neobsahuje",ends_with:"kon na",not_ends_with:"nekon na",is_empty:"przdn dek",is_not_empty:"neprzdn dek",is_null:"przdno",is_not_null:"plno"},errors:{no_filter:"nen vybran filtr",empty_group:"przdn skupina",radio_empty:"Nen udan hodnota",checkbox_empty:"Nen udan hodnota",select_empty:"Nen udan hodnota",string_empty:"Nevyplnno",string_exceed_min_length:"Mus obsahovat vce {0} symbol",string_exceed_max_length:"Mus obsahovat mn {0} symbol",string_invalid_format:"Nesprvn formt ({0})",number_nan:"dn slo",number_not_integer:"dn slo",number_not_double:"dn slo",number_exceed_min:"Mus bt vce {0}",number_exceed_max:"Mus bt mn {0}",number_wrong_step:"Mus bt nsobkem {0}",datetime_empty:"Nevyplnno",datetime_invalid:"Nesprvn formt datumu ({0})",datetime_exceed_min:"Mus bt po {0}",datetime_exceed_max:"Mus bt do {0}",boolean_not_valid:"Nelogick",operator_not_multiple:'Opertor "{1}" nepodporuje mnoho hodnot'},invert:"invertn"},t.defaults({lang_code:"cs"})}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","query-builder"],t):t(e.jQuery)}(this,function(e){var t=e.fn.queryBuilder;t.regional.da={__locale:"Danish (da)",__author:"Jna Borup Coyle, github@coyle.dk",add_rule:"Tilfj regel",add_group:"Tilfj gruppe",delete_rule:"Slet regel",delete_group:"Slet gruppe",conditions:{AND:"OG",OR:"ELLER"},condition_and:"OG",condition_or:"ELLER",operators:{equal:"lig med",not_equal:"ikke lige med",in:"i",not_in:"ikke i",less:"mindre",less_or_equal:"mindre eller lig med",greater:"strre",greater_or_equal:"strre eller lig med",begins_with:"begynder med",not_begins_with:"begynder ikke med",contains:"indeholder",not_contains:"indeholder ikke",ends_with:"slutter med",not_ends_with:"slutter ikke med",is_empty:"er tom",is_not_empty:"er ikke tom",is_null:"er null",is_not_null:"er ikke null"}},t.defaults({lang_code:"da"})}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","query-builder"],t):t(e.jQuery)}(this,function(e){var t=e.fn.queryBuilder;t.regional.de={__locale:"German (de)",__author:'"raimu"',add_rule:"neue Regel",add_group:"neue Gruppe",delete_rule:"lschen",delete_group:"lschen",conditions:{AND:"UND",OR:"ODER"},operators:{equal:"gleich",not_equal:"ungleich",in:"in",not_in:"nicht in",less:"kleiner",less_or_equal:"kleiner gleich",greater:"grer",greater_or_equal:"grer gleich",between:"zwischen",not_between:"nicht zwischen",begins_with:"beginnt mit",not_begins_with:"beginnt nicht mit",contains:"enthlt",not_contains:"enthlt nicht",ends_with:"endet mit",not_ends_with:"endet nicht mit",is_empty:"ist leer",is_not_empty:"ist nicht leer",is_null:"ist null",is_not_null:"ist nicht null"},errors:{no_filter:"Kein Filter ausgewhlt",empty_group:"Die Gruppe ist leer",radio_empty:"Kein Wert ausgewhlt",checkbox_empty:"Kein Wert ausgewhlt",select_empty:"Kein Wert ausgewhlt",string_empty:"Leerer Wert",string_exceed_min_length:"Muss mindestens {0} Zeichen enthalten",string_exceed_max_length:"Darf nicht mehr als {0} Zeichen enthalten",string_invalid_format:"Ungltiges Format ({0})",number_nan:"Keine Zahl",number_not_integer:"Keine Ganzzahl",number_not_double:"Keine Dezimalzahl",number_exceed_min:"Muss grer als {0} sein",number_exceed_max:"Muss kleiner als {0} sein",number_wrong_step:"Muss ein Vielfaches von {0} sein",datetime_invalid:"Ungltiges Datumsformat ({0})",datetime_exceed_min:"Muss nach dem {0} sein",datetime_exceed_max:"Muss vor dem {0} sein"}},t.defaults({lang_code:"de"})}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","query-builder"],t):t(e.jQuery)}(this,function(e){var t=e.fn.queryBuilder;t.regional.el={__locale:"Greek (el)",__author:"Stelios Patsatzis, https://www.linkedin.com/in/stelios-patsatzis-89841561",add_rule:" ",add_group:" ",delete_rule:"",delete_group:"",conditions:{AND:" ",OR:" "},operators:{equal:" ",not_equal:"  ",in:"",not_in:" ",less:" ",less_or_equal:"  ",greater:" ",greater_or_equal:"  ",between:"",not_between:"",begins_with:" ",not_begins_with:"  ",contains:"",not_contains:" ",ends_with:" ",not_ends_with:"  ",is_empty:" ",is_not_empty:"  ",is_null:" NULL",is_not_null:"  NULL"},errors:{no_filter:" ",empty_group:" ",radio_empty:" ",checkbox_empty:" ",select_empty:" ",string_empty:" ",string_exceed_min_length:"  {0} ",string_exceed_max_length:"  {0} ",string_invalid_format:"  ({0})",number_nan:"  ",number_not_integer:"   ",number_not_double:"   ",number_exceed_min:"     {0}",number_exceed_max:"     {0}",number_wrong_step:"     {0}",datetime_empty:" ",datetime_invalid:"   ({0})",datetime_exceed_min:"  {0}",datetime_exceed_max:"  {0}",boolean_not_valid:"  BOOLEAN",operator_not_multiple:'  "{1}"      '},invert:""},t.defaults({lang_code:"el"})}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","query-builder"],t):t(e.jQuery)}(this,function(e){var t=e.fn.queryBuilder;t.regional.en={__locale:"English (en)",__author:'Damien "Mistic" Sorel, http://www.strangeplanet.fr',add_rule:"Add rule",add_group:"Add group",delete_rule:"Delete",delete_group:"Delete",conditions:{AND:"AND",OR:"OR"},operators:{equal:"equal",not_equal:"not equal",in:"in",not_in:"not in",less:"less",less_or_equal:"less or equal",greater:"greater",greater_or_equal:"greater or equal",between:"between",not_between:"not between",begins_with:"begins with",not_begins_with:"doesn't begin with",contains:"contains",not_contains:"doesn't contain",ends_with:"ends with",not_ends_with:"doesn't end with",is_empty:"is empty",is_not_empty:"is not empty",is_null:"is null",is_not_null:"is not null"},errors:{no_filter:"No filter selected",empty_group:"The group is empty",radio_empty:"No value selected",checkbox_empty:"No value selected",select_empty:"No value selected",string_empty:"Empty value",string_exceed_min_length:"Must contain at least {0} characters",string_exceed_max_length:"Must not contain more than {0} characters",string_invalid_format:"Invalid format ({0})",number_nan:"Not a number",number_not_integer:"Not an integer",number_not_double:"Not a real number",number_exceed_min:"Must be greater than {0}",number_exceed_max:"Must be lower than {0}",number_wrong_step:"Must be a multiple of {0}",number_between_invalid:"Invalid values, {0} is greater than {1}",datetime_empty:"Empty value",datetime_invalid:"Invalid date format ({0})",datetime_exceed_min:"Must be after {0}",datetime_exceed_max:"Must be before {0}",datetime_between_invalid:"Invalid values, {0} isgreater than {1}",boolean_not_valid:"Not a boolean",operator_not_multiple:'Operator "{1}" cannot accept multiple values'},invert:"Invert",NOT:"NOT"},t.defaults({lang_code:"en"})}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","query-builder"],t):t(e.jQuery)}(this,function(e){var t=e.fn.queryBuilder;t.regional.es={__locale:"Spanish (es)",__author:'"pyarza", "kddlb"',add_rule:"Aadir regla",add_group:"Aadir grupo",delete_rule:"Borrar",delete_group:"Borrar",conditions:{AND:"Y",OR:"O"},operators:{equal:"igual",not_equal:"distinto",in:"en",not_in:"no en",less:"menor",less_or_equal:"menor o igual",greater:"mayor",greater_or_equal:"mayor o igual",between:"entre",begins_with:"empieza por",not_begins_with:"no empieza por",contains:"contiene",not_contains:"no contiene",ends_with:"acaba con",not_ends_with:"no acaba con",is_empty:"est vaco",is_not_empty:"no est vaco",is_null:"es nulo",is_not_null:"no es nulo"},errors:{no_filter:"No se ha seleccionado ningn filtro",empty_group:"El grupo est vaco",radio_empty:"Ningn valor seleccionado",checkbox_empty:"Ningn valor seleccionado",select_empty:"Ningn valor seleccionado",string_empty:"Cadena vaca",string_exceed_min_length:"Debe contener al menos {0} caracteres",string_exceed_max_length:"No debe contener ms de {0} caracteres",string_invalid_format:"Formato invlido ({0})",number_nan:"No es un nmero",number_not_integer:"No es un nmero entero",number_not_double:"No es un nmero real",number_exceed_min:"Debe ser mayor que {0}",number_exceed_max:"Debe ser menor que {0}",number_wrong_step:"Debe ser mltiplo de {0}",datetime_invalid:"Formato de fecha invlido ({0})",datetime_exceed_min:"Debe ser posterior a {0}",datetime_exceed_max:"Debe ser anterior a {0}"}},t.defaults({lang_code:"es"})}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","query-builder"],t):t(e.jQuery)}(this,function(e){var t=e.fn.queryBuilder;t.regional["fa-IR"]={__locale:"Farsi (fa-ir)",__author:"Behzad Sedighzade, behzad.sedighzade@gmail.com",add_rule:" ",add_group:" ",delete_rule:" ",delete_group:" ",conditions:{AND:"",OR:""},operators:{equal:" ",not_equal:"",in:"  ",not_in:"  ",less:" ",less_or_equal:"   ",greater:" ",greater_or_equal:"   ",between:"",not_between:" ",begins_with:"  ",not_begins_with:"  ",contains:" ",not_contains:" ",ends_with:"  ",not_ends_with:"  ",is_empty:" ",is_not_empty:" ",is_null:" ( null ) ",is_not_null:"( null )  "},errors:{no_filter:"     ",empty_group:"  ",radio_empty:"   ",checkbox_empty:"   ",select_empty:"   ",string_empty:"   ",string_exceed_min_length:"   {0}    ",string_exceed_max_length:"  {0}      ",string_invalid_format:"  {0}   ",number_nan:"  ",number_not_integer:"   ",number_not_double:"   ",number_exceed_min:"  {0}  ",number_exceed_max:"  {0}  ",number_wrong_step:"   {0} ",datetime_empty:"    !",datetime_invalid:"  ( {0} )   ",datetime_exceed_min:"   {0} ",datetime_exceed_max:"    {0} ",boolean_not_valid:"   ",operator_not_multiple:' "{1}"      '}},t.defaults({lang_code:"fa-IR"})}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","query-builder"],t):t(e.jQuery)}(this,function(e){var t=e.fn.queryBuilder;t.regional.fr={__locale:"French (fr)",__author:'Damien "Mistic" Sorel, http://www.strangeplanet.fr',add_rule:"Ajouter une rgle",add_group:"Ajouter un groupe",delete_rule:"Supprimer",delete_group:"Supprimer",conditions:{AND:"ET",OR:"OU"},operators:{equal:"gal",not_equal:"non gal",in:"dans",not_in:"pas dans",less:"infrieur",less_or_equal:"infrieur ou gal",greater:"suprieur",greater_or_equal:"suprieur ou gal",between:"est entre",not_between:"n'est pas entre",begins_with:"commence par",not_begins_with:"ne commence pas par",contains:"contient",not_contains:"ne contient pas",ends_with:"finit par",not_ends_with:"ne finit pas par",is_empty:"est vide",is_not_empty:"n'est pas vide",is_null:"est nul",is_not_null:"n'est pas nul"},errors:{no_filter:"Aucun filtre slectionn",empty_group:"Le groupe est vide",radio_empty:"Pas de valeur selectionne",checkbox_empty:"Pas de valeur selectionne",select_empty:"Pas de valeur selectionne",string_empty:"Valeur vide",string_exceed_min_length:"Doit contenir au moins {0} caractres",string_exceed_max_length:"Ne doit pas contenir plus de {0} caractres",string_invalid_format:"Format invalide ({0})",number_nan:"N'est pas un nombre",number_not_integer:"N'est pas un entier",number_not_double:"N'est pas un nombre rel",number_exceed_min:"Doit tre plus grand que {0}",number_exceed_max:"Doit tre plus petit que {0}",number_wrong_step:"Doit tre un multiple de {0}",number_between_invalid:"Valeurs invalides, {0} est plus grand que {1}",datetime_empty:"Valeur vide",datetime_invalid:"Fomat de date invalide ({0})",datetime_exceed_min:"Doit tre aprs {0}",datetime_exceed_max:"Doit tre avant {0}",datetime_between_invalid:"Valeurs invalides, {0} est plus grand que {1}",boolean_not_valid:"N'est pas un boolen",operator_not_multiple:'L\'oprateur "{1}" ne peut utiliser plusieurs valeurs'},invert:"Inverser",NOT:"NON"},t.defaults({lang_code:"fr"})}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","query-builder"],t):t(e.jQuery)}(this,function(e){var t=e.fn.queryBuilder;t.regional.he={__locale:"Hebrew (he)",__author:"Kfir Stri https://github.com/kfirstri",add_rule:" ",add_group:" ",delete_rule:"",delete_group:"",conditions:{AND:"",OR:""},operators:{equal:" ",not_equal:" ",in:" ",not_in:"  ",less:" ",less_or_equal:"   ",greater:" ",greater_or_equal:"   ",between:"",not_between:" ",begins_with:" ",not_begins_with:"  ",contains:"",not_contains:" ",ends_with:" ",not_ends_with:"  ",is_empty:"",is_not_empty:" ",is_null:" ",is_not_null:"  "},errors:{no_filter:"  ",empty_group:" ",radio_empty:"   ",checkbox_empty:"   ",select_empty:"   ",string_empty:" ",string_exceed_min_length:"    {0} ",string_exceed_max_length:"     {0} ",string_invalid_format:"   ({0})",number_nan:"  ",number_not_integer:"   ",number_not_double:"   ",number_exceed_min:"     {0}",number_exceed_max:"    {0}",number_wrong_step:"     {0}",datetime_empty:" ",datetime_invalid:"   ({0})",datetime_exceed_min:"    {0}",datetime_exceed_max:"    {0}",boolean_not_valid:"  ",operator_not_multiple:' "{1}"     '},invert:" ",NOT:""},t.defaults({lang_code:"he"})}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","query-builder"],t):t(e.jQuery)}(this,function(e){var t=e.fn.queryBuilder;t.regional.it={__locale:"Italian (it)",__author:"davegraziosi",add_rule:"Aggiungi regola",add_group:"Aggiungi gruppo",delete_rule:"Elimina",delete_group:"Elimina",conditions:{AND:"E",OR:"O"},operators:{equal:"uguale",not_equal:"non uguale",in:"in",not_in:"non in",less:"minore",less_or_equal:"minore o uguale",greater:"maggiore",greater_or_equal:"maggiore o uguale",between:"compreso tra",not_between:"non compreso tra",begins_with:"inizia con",not_begins_with:"non inizia con",contains:"contiene",not_contains:"non contiene",ends_with:"finisce con",not_ends_with:"non finisce con",is_empty:" vuoto",is_not_empty:"non  vuoto",is_null:" nullo",is_not_null:"non  nullo"},errors:{no_filter:"Nessun filtro selezionato",empty_group:"Il gruppo  vuoto",radio_empty:"No value selected",checkbox_empty:"Nessun valore selezionato",select_empty:"Nessun valore selezionato",string_empty:"Valore vuoto",string_exceed_min_length:"Deve contenere almeno {0} caratteri",string_exceed_max_length:"Non deve contenere pi di {0} caratteri",string_invalid_format:"Formato non valido ({0})",number_nan:"Non  un numero",number_not_integer:"Non  un intero",number_not_double:"Non  un numero con la virgola",number_exceed_min:"Deve essere maggiore di {0}",number_exceed_max:"Deve essere minore di {0}",number_wrong_step:"Deve essere multiplo di {0}",datetime_empty:"Valore vuoto",datetime_invalid:"Formato data non valido ({0})",datetime_exceed_min:"Deve essere successivo a {0}",datetime_exceed_max:"Deve essere precedente a {0}",boolean_not_valid:"Non  un booleano",operator_not_multiple:"L'Operatore {0} non pu accettare valori multipli"}},t.defaults({lang_code:"it"})}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","query-builder"],t):t(e.jQuery)}(this,function(e){var t=e.fn.queryBuilder;t.regional.nl={__locale:"Dutch (nl)",__author:'"Roywcm"',add_rule:"Nieuwe regel",add_group:"Nieuwe groep",delete_rule:"Verwijder",delete_group:"Verwijder",conditions:{AND:"EN",OR:"OF"},operators:{equal:"gelijk",not_equal:"niet gelijk",in:"in",not_in:"niet in",less:"minder",less_or_equal:"minder of gelijk",greater:"groter",greater_or_equal:"groter of gelijk",between:"tussen",not_between:"niet tussen",begins_with:"begint met",not_begins_with:"begint niet met",contains:"bevat",not_contains:"bevat niet",ends_with:"eindigt met",not_ends_with:"eindigt niet met",is_empty:"is leeg",is_not_empty:"is niet leeg",is_null:"is null",is_not_null:"is niet null"},errors:{no_filter:"Geen filter geselecteerd",empty_group:"De groep is leeg",radio_empty:"Geen waarde geselecteerd",checkbox_empty:"Geen waarde geselecteerd",select_empty:"Geen waarde geselecteerd",string_empty:"Lege waarde",string_exceed_min_length:"Dient minstens {0} karakters te bevatten",string_exceed_max_length:"Dient niet meer dan {0} karakters te bevatten",string_invalid_format:"Ongeldig format ({0})",number_nan:"Niet een nummer",number_not_integer:"Geen geheel getal",number_not_double:"Geen echt nummer",number_exceed_min:"Dient groter te zijn dan {0}",number_exceed_max:"Dient lager te zijn dan {0}",number_wrong_step:"Dient een veelvoud te zijn van {0}",datetime_invalid:"Ongeldige datumformat ({0})",datetime_exceed_min:"Dient na {0}",datetime_exceed_max:"Dient voor {0}"}},t.defaults({lang_code:"nl"})}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","query-builder"],t):t(e.jQuery)}(this,function(e){var t=e.fn.queryBuilder;t.regional.no={__locale:"Norwegian (no)",__author:"Jna Borup Coyle, github@coyle.dk",add_rule:"Legg til regel",add_group:"Legg til gruppe",delete_rule:"Slett regel",delete_group:"Slett gruppe",conditions:{AND:"OG",OR:"ELLER"},operators:{equal:"er lik",not_equal:"er ikke lik",in:"finnes i",not_in:"finnes ikke i",less:"er mindre enn",less_or_equal:"er mindre eller lik",greater:"er strre enn",greater_or_equal:"er strre eller lik",begins_with:"begynner med",not_begins_with:"begynner ikke med",contains:"inneholder",not_contains:"inneholder ikke",ends_with:"slutter med",not_ends_with:"slutter ikke med",is_empty:"er tom",is_not_empty:"er ikke tom",is_null:"er null",is_not_null:"er ikke null"}},t.defaults({lang_code:"no"})}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","query-builder"],t):t(e.jQuery)}(this,function(e){var t=e.fn.queryBuilder;t.regional.pl={__locale:"Polish (pl)",__author:"Artur Smolarek",add_rule:"Dodaj regu",add_group:"Dodaj grup",delete_rule:"Usu",delete_group:"Usu",conditions:{AND:"ORAZ",OR:"LUB"},operators:{equal:"rwna si",not_equal:"jest rne od",in:"zawiera",not_in:"nie zawiera",less:"mniejsze",less_or_equal:"mniejsze lub rwne",greater:"wiksze",greater_or_equal:"wiksze lub rwne",between:"pomidzy",not_between:"nie jest pomidzy",begins_with:"rozpoczyna si od",not_begins_with:"nie rozpoczyna si od",contains:"zawiera",not_contains:"nie zawiera",ends_with:"koczy si na",not_ends_with:"nie koczy si na",is_empty:"jest puste",is_not_empty:"nie jest puste",is_null:"jest niezdefiniowane",is_not_null:"nie jest niezdefiniowane"},errors:{no_filter:"Nie wybrano adnego filtra",empty_group:"Grupa jest pusta",radio_empty:"Nie wybrano wartoci",checkbox_empty:"Nie wybrano wartoci",select_empty:"Nie wybrano wartoci",string_empty:"Nie wpisano wartoci",string_exceed_min_length:"Minimalna dugo to {0} znakw",string_exceed_max_length:"Maksymalna dugo to {0} znakw",string_invalid_format:"Nieprawidowy format ({0})",number_nan:"To nie jest liczba",number_not_integer:"To nie jest liczba cakowita",number_not_double:"To nie jest liczba rzeczywista",number_exceed_min:"Musi by wiksze ni {0}",number_exceed_max:"Musi by mniejsze ni {0}",number_wrong_step:"Musi by wielokrotnoci {0}",datetime_empty:"Nie wybrano wartoci",datetime_invalid:"Nieprawidowy format daty ({0})",datetime_exceed_min:"Musi by po {0}",datetime_exceed_max:"Musi by przed {0}",boolean_not_valid:"Niepoprawna warto logiczna",operator_not_multiple:'Operator "{1}" nie przyjmuje wielu wartoci'},invert:"Odwr"},t.defaults({lang_code:"pl"})}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","query-builder"],t):t(e.jQuery)}(this,function(e){var t=e.fn.queryBuilder;t.regional["pt-BR"]={__locale:"Brazilian Portuguese (pr-BR)",__author:"Leandro Gehlen, leandrogehlen@gmail.com; Marcos Ferretti, marcosvferretti@gmail.com",add_rule:"Nova Regra",add_group:"Novo Grupo",delete_rule:"Excluir",delete_group:"Excluir",conditions:{AND:"E",OR:"OU"},operators:{equal:"Igual",not_equal:"Diferente",in:"Contido",not_in:"No contido",less:"Menor",less_or_equal:"Menor ou igual",greater:"Maior",greater_or_equal:"Maior ou igual",between:"Entre",not_between:"No entre",begins_with:"Iniciando com",not_begins_with:"No iniciando com",contains:"Contm",not_contains:"No contm",ends_with:"Terminando com",not_ends_with:"Terminando sem",is_empty:" vazio",is_not_empty:"No  vazio",is_null:" nulo",is_not_null:"No  nulo"},errors:{no_filter:"Nenhum filtro selecionado",empty_group:"O grupo est vazio",radio_empty:"Nenhum valor selecionado",checkbox_empty:"Nenhum valor selecionado",select_empty:"Nenhum valor selecionado",string_empty:"Valor vazio",string_exceed_min_length:" necessrio conter pelo menos {0} caracteres",string_exceed_max_length:" necessrio conter mais de {0} caracteres",string_invalid_format:"Formato invlido ({0})",number_nan:"No  um nmero",number_not_integer:"No  um nmero inteiro",number_not_double:"No  um nmero real",number_exceed_min:" necessrio ser maior que {0}",number_exceed_max:" necessrio ser menor que {0}",number_wrong_step:" necessrio ser mltiplo de {0}",datetime_invalid:"Formato de data invlido ({0})",datetime_exceed_min:" necessrio ser superior a {0}",datetime_exceed_max:" necessrio ser inferior a {0}",datetime_empty:"Nenhuma data selecionada",boolean_not_valid:"No  um valor booleano",operator_not_multiple:'O operador "{1}" no aceita valores mltiplos'},invert:"Inverter"},t.defaults({lang_code:"pt-BR"})}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","query-builder"],t):t(e.jQuery)}(this,function(e){var t=e.fn.queryBuilder;t.regional["pt-PT"]={__locale:"Portuguese (pt-PT)",__author:"Miguel Guerreiro, migas.csi@gmail.com",add_rule:"Nova Regra",add_group:"Novo Grupo",delete_rule:"Excluir",delete_group:"Excluir",conditions:{AND:"E",OR:"OU"},operators:{equal:"Igual a",not_equal:"Diferente de",in:"Contido",not_in:"No contido",less:"Menor que",less_or_equal:"Menor ou igual a",greater:"Maior que",greater_or_equal:"Maior ou igual que",between:"Entre",begins_with:"Comear por",not_begins_with:"No a comear por",contains:"Contm",not_contains:"No contm",ends_with:"Terminando com",not_ends_with:"Terminando sem",is_empty:" vazio",is_not_empty:"No  vazio",is_null:" nulo",is_not_null:"No  nulo"},errors:{no_filter:"Nenhum filtro selecionado",empty_group:"O grupo est vazio",radio_empty:"Nenhum valor selecionado",checkbox_empty:"Nenhum valor selecionado",select_empty:"Nenhum valor selecionado",string_empty:"Valor vazio",string_exceed_min_length:" necessrio conter pelo menos {0} caracteres",string_exceed_max_length:" necessrio conter mais de {0} caracteres",string_invalid_format:"Formato invlido ({0})",number_nan:"No  um nmero",number_not_integer:"No  um nmero inteiro",number_not_double:"No  um nmero real",number_exceed_min:" necessrio ser maior que {0}",number_exceed_max:" necessrio ser menor que {0}",number_wrong_step:" necessrio ser mltiplo de {0}",datetime_invalid:"Formato de data invlido ({0})",datetime_exceed_min:" necessrio ser superior a {0}",datetime_exceed_max:" necessrio ser inferior a {0}"}},t.defaults({lang_code:"pt-PT"})}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","query-builder"],t):t(e.jQuery)}(this,function(e){var t=e.fn.queryBuilder;t.regional.ro={__locale:"Romanian (ro)",__author:"ArianServ",add_rule:"Adaug regul",add_group:"Adaug grup",delete_rule:"terge",delete_group:"terge",conditions:{AND:"I",OR:"SAU"},operators:{equal:"egal",not_equal:"diferit",in:"n",not_in:"nu n",less:"mai puin",less_or_equal:"mai puin sau egal",greater:"mai mare",greater_or_equal:"mai mare sau egal",begins_with:"ncepe cu",not_begins_with:"nu ncepe cu",contains:"conine",not_contains:"nu conine",ends_with:"se termin cu",not_ends_with:"nu se termin cu",is_empty:"este gol",is_not_empty:"nu este gol",is_null:"e nul",is_not_null:"nu e nul"}},t.defaults({lang_code:"ro"})}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","query-builder"],t):t(e.jQuery)}(this,function(e){var t=e.fn.queryBuilder;t.regional.ru={__locale:"Russian (ru)",add_rule:"",add_group:" ",delete_rule:"",delete_group:"",conditions:{AND:"",OR:""},operators:{equal:"",not_equal:" ",in:" ",not_in:"  ",less:"",less_or_equal:"  ",greater:"",greater_or_equal:"  ",between:"",begins_with:" ",not_begins_with:"  ",contains:"",not_contains:" ",ends_with:" ",not_ends_with:"  ",is_empty:" ",is_not_empty:"  ",is_null:"",is_not_null:" "},errors:{no_filter:"  ",empty_group:" ",radio_empty:"  ",checkbox_empty:"  ",select_empty:"  ",string_empty:" ",string_exceed_min_length:"   {0} ",string_exceed_max_length:"   {0} ",string_invalid_format:"  ({0})",number_nan:" ",number_not_integer:" ",number_not_double:" ",number_exceed_min:"   {0}",number_exceed_max:"  ,  {0}",number_wrong_step:"   {0}",datetime_empty:" ",datetime_invalid:"   ({0})",datetime_exceed_min:" ,  {0}",datetime_exceed_max:" ,  {0}",boolean_not_valid:" ",operator_not_multiple:' "{1}"    '},invert:""},t.defaults({lang_code:"ru"})}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","query-builder"],t):t(e.jQuery)}(this,function(e){var t=e.fn.queryBuilder;t.regional.sq={__locale:"Albanian (sq)",__author:"Tomor Pupovci",add_rule:"Shto rregull",add_group:"Shto grup",delete_rule:"Fshij",delete_group:"Fshij",conditions:{AND:"DHE",OR:"OSE"},operators:{equal:"barabart",not_equal:"e ndryshme prej",in:"n",not_in:"jo n",less:"m e vogl",less_or_equal:"m e vogl ose e barabart me",greater:"m e madhe",greater_or_equal:"m e madhe ose e barabart",between:"n mes",begins_with:"fillon me",not_begins_with:"nuk fillon me",contains:"prmban",not_contains:"nuk prmban",ends_with:"mbaron me",not_ends_with:"nuk mbaron me",is_empty:"sht e zbrazt",is_not_empty:"nuk sht e zbrazt",is_null:"sht null",is_not_null:"nuk sht null"},errors:{no_filter:"Nuk ka filter t zgjedhur",empty_group:"Grupi sht i zbrazt",radio_empty:"Nuk ka vler t zgjedhur",checkbox_empty:"Nuk ka vler t zgjedhur",select_empty:"Nuk ka vler t zgjedhur",string_empty:"Vler e zbrazt",string_exceed_min_length:"Duhet t prmbaj s paku {0} karaktere",string_exceed_max_length:"Nuk duhet t prmbaj m shum se {0} karaktere",string_invalid_format:"Format i pasakt ({0})",number_nan:"Nuk sht numr",number_not_integer:"Nuk sht numr i plot",number_not_double:"Nuk sht numr me presje",number_exceed_min:"Duhet t jet m i madh se {0}",number_exceed_max:"Duhet t jet m i vogl se {0}",number_wrong_step:"Duhet t jet shumfish i {0}",datetime_empty:"Vler e zbrazt",datetime_invalid:"Format i pasakt i dats ({0})",datetime_exceed_min:"Duhet t jet pas {0}",datetime_exceed_max:"Duhet t jet para {0}",boolean_not_valid:"Nuk sht boolean",operator_not_multiple:'Operatori "{1}" nuk mund t pranoj vlera t shumfishta'}},t.defaults({lang_code:"sq"})}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","query-builder"],t):t(e.jQuery)}(this,function(e){var t=e.fn.queryBuilder;t.regional.tr={__locale:"Turkish (tr)",__author:"Aykut Alpgiray Ate",add_rule:"Kural Ekle",add_group:"Grup Ekle",delete_rule:"Sil",delete_group:"Sil",conditions:{AND:"Ve",OR:"Veya"},operators:{equal:"eit",not_equal:"eit deil",in:"iinde",not_in:"iinde deil",less:"kk",less_or_equal:"kk veya eit",greater:"byk",greater_or_equal:"byk veya eit",between:"arasnda",not_between:"arasnda deil",begins_with:"ile balayan",not_begins_with:"ile balamayan",contains:"ieren",not_contains:"iermeyen",ends_with:"ile biten",not_ends_with:"ile bitmeyen",is_empty:"bo ise",is_not_empty:"bo deil ise",is_null:"var ise",is_not_null:"yok ise"},errors:{no_filter:"Bir filtre seili deil",empty_group:"Grup bir eleman iermiyor",radio_empty:"seim yaplmal",checkbox_empty:"seim yaplmal",select_empty:"seim yaplmal",string_empty:"Bir metin girilmeli",string_exceed_min_length:"En az {0} karakter girilmeli",string_exceed_max_length:"En fazla {0} karakter girilebilir",string_invalid_format:"Uyumsuz format ({0})",number_nan:"Say deil",number_not_integer:"Tam say deilr",number_not_double:"Ondalkl say deil",number_exceed_min:"Say {0}'den/dan daha byk olmal",number_exceed_max:"Say {0}'den/dan daha kk olmal",number_wrong_step:"{0} veya kat olmal",datetime_empty:"Tarih Seilmemi",datetime_invalid:"Uygun olmayan tarih format ({0})",datetime_exceed_min:"{0} Tarihinden daha sonras olmal.",datetime_exceed_max:"{0} Tarihinden daha ncesi olmal.",boolean_not_valid:"Deer Doru/Yanl(bool) olmal",operator_not_multiple:'Operatr "{1}" birden fazla deer kabul etmiyor'},invert:"Ters evir"},t.defaults({lang_code:"tr"})}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","query-builder"],t):t(e.jQuery)}(this,function(e){var t=e.fn.queryBuilder;t.regional.ua={__locale:"Ukrainian (ua)",__author:"Megaplan, mborisv <bm@megaplan.ru>",add_rule:"",add_group:" ",delete_rule:"",delete_group:"",conditions:{AND:"",OR:""},operators:{equal:"",not_equal:" ",in:" ",not_in:"  ",less:"",less_or_equal:"  ",greater:"",greater_or_equal:"  ",between:"",begins_with:" ",not_begins_with:"  ",contains:"",not_contains:" ",ends_with:" ",not_ends_with:"   ",is_empty:" ",is_not_empty:"  ",is_null:"",is_not_null:" "},errors:{no_filter:"  ",empty_group:" ",radio_empty:"  ",checkbox_empty:"  ",select_empty:"  ",string_empty:" ",string_exceed_min_length:"   {0} ",string_exceed_max_length:"   {0} ",string_invalid_format:"  ({0})",number_nan:" ",number_not_integer:" ",number_not_double:" ",number_exceed_min:"   {0}",number_exceed_max:"  ,  {0}",number_wrong_step:"   {0}",datetime_empty:" ",datetime_invalid:"   ({0})",datetime_exceed_min:" ,  {0}",datetime_exceed_max:" ,  {0}",boolean_not_valid:" ",operator_not_multiple:' "{1}"    '},invert:""},t.defaults({lang_code:"ua"})}),function(e,t){"function"==typeof define&&define.amd?define(["jquery","query-builder"],t):t(e.jQuery)}(this,function(e){var t=e.fn.queryBuilder;t.regional["zh-CN"]={__locale:"Simplified Chinese (zh_CN)",__author:"shadowwind, shatteredwindgo@gmail.com",add_rule:"",add_group:"",delete_rule:"",delete_group:"",conditions:{AND:"",OR:""},operators:{equal:"",not_equal:"",in:"...",not_in:"...",less:"",less_or_equal:"",greater:"",greater_or_equal:"",between:"...",not_between:"...",begins_with:"...",not_begins_with:"...",contains:"",not_contains:"",ends_with:"...",not_ends_with:"...",is_empty:"",is_not_empty:"",is_null:" null",is_not_null:" null"},errors:{no_filter:"",empty_group:"",radio_empty:"",checkbox_empty:"",select_empty:"",string_empty:"",string_exceed_min_length:"{0}",string_exceed_max_length:"{0}",string_invalid_format:"({0})",number_nan:"",number_not_integer:"",number_not_double:"",number_exceed_min:"{0}",number_exceed_max:"{0}",number_wrong_step:"{0}",datetime_empty:"",datetime_invalid:"({0})",datetime_exceed_min:"{0}",datetime_exceed_max:"{0}",boolean_not_valid:"",operator_not_multiple:'"{1}"'},invert:""},t.defaults({lang_code:"zh-CN"})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./position","./menu"],e):e(jQuery)}(function(e){return e.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,n,s=this.element[0].nodeName.toLowerCase(),r="textarea"===s,o="input"===s;this.isMultiLine=!!r||!o&&this.element.prop("isContentEditable"),this.valueMethod=this.element[r||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(s){if(this.element.prop("readOnly"))return t=!0,n=!0,void(i=!0);t=!1,n=!1,i=!1;var r=e.ui.keyCode;switch(s.keyCode){case r.PAGE_UP:t=!0,this._move("previousPage",s);break;case r.PAGE_DOWN:t=!0,this._move("nextPage",s);break;case r.UP:t=!0,this._keyEvent("previous",s);break;case r.DOWN:t=!0,this._keyEvent("next",s);break;case r.ENTER:this.menu.active&&(t=!0,s.preventDefault(),this.menu.select(s));break;case r.TAB:this.menu.active&&this.menu.select(s);break;case r.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(s),s.preventDefault());break;default:i=!0,this._searchTimeout(s)}},keypress:function(n){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||n.preventDefault());if(!i){var s=e.ui.keyCode;switch(n.keyCode){case s.PAGE_UP:this._move("previousPage",n);break;case s.PAGE_DOWN:this._move("nextPage",n);break;case s.UP:this._keyEvent("previous",n);break;case s.DOWN:this._keyEvent("next",n)}}},input:function(e){if(n)return n=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(n){n.target===t.element[0]||n.target===i||e.contains(i,n.target)||t.close()})})},menufocus:function(t,i){var n,s;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)});s=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:s})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(s.value),(n=i.item.attr("aria-label")||s.value)&&e.trim(n).length&&(this.liveRegion.children().hide(),e("<div>").text(n).appendTo(this.liveRegion))},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,n=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,n){n(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,s){n.xhr&&n.xhr.abort(),n.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){s(e)},error:function(){s([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),n=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;t&&(!t||i||n)||(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var n=this;e.each(i,function(e,i){n._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").text(i.label).appendTo(t)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var n=new RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return n.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))}}),e.ui.autocomplete}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./position"],e):e(jQuery)}(function(e){return e.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var i=e(t.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var i=e(t.currentTarget);i.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var i,n,s,r,o=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,n=this.previousFilter||"",s=String.fromCharCode(t.keyCode),r=!1,clearTimeout(this.filterTimer),s===n?r=!0:s=n+s,i=this._filterMenuItems(s),(i=r&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i).length||(s=String.fromCharCode(t.keyCode),i=this._filterMenuItems(s)),i.length?(this.focus(t,i),this.previousFilter=s,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,i=this,n=this.options.icons.submenu,s=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),s.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.parent(),s=e("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(s),t.attr("aria-labelledby",i.attr("id"))}),(t=s.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var t=e(this);i._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")}),t.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),t.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var i,n;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),n=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(i=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,n,s,r,o,a;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,s=t.offset().top-this.activeMenu.offset().top-i-n,r=this.activeMenu.scrollTop(),o=this.activeMenu.height(),a=t.outerHeight(),s<0?this.activeMenu.scrollTop(r+s):s+a>o&&this.activeMenu.scrollTop(r+s-o+a))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(t),this.activeMenu=n},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var n;this.active&&(n="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.find(this.options.items)[t]()),this.focus(i,n)},nextPage:function(t){var i,n,s;this.active?this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,s=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(i=e(this)).offset().top-n-s<0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var i,n,s;this.active?this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,s=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return(i=e(this)).offset().top-n+s>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=new RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(e.trim(e(this).text()))})}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./widget"],e):e(jQuery)}(function(e){var t=!1;return e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){if(!0===e.data(i.target,t.widgetName+".preventClickEvent"))return e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,s=1===i.which,r=!("string"!=typeof this.options.cancel||!i.target.nodeName)&&e(i.target).closest(this.options.cancel).length;return!(s&&!r&&this._mouseCapture(i))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=!1!==this._mouseStart(i),!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(i){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&e.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),t=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],e):e(jQuery)}(function(e){return e.widget("ui.sortable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&e<t+i},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var n=null,s=!1,r=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each(function(){if(e.data(this,r.widgetName+"-item")===r)return n=e(this),!1}),e.data(t.target,r.widgetName+"-item")===r&&(n=e(t.target)),!!n&&(!(this.options.handle&&!i&&(e(this.options.handle,n).find("*").addBack().each(function(){this===t.target&&(s=!0)}),!s))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,i,n){var s,r,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",o.cursor),this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(r)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,n,s,r,o=this.options,a=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-this.document.scrollTop()<o.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<o.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),t.pageX-this.document.scrollLeft()<o.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),!1!==a&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=(n=this.items[i]).item[0],(r=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(s===this.currentItem[0]||this.placeholder[1===r?"next":"prev"]()[0]===s||e.contains(this.placeholder[0],s)||"semi-dynamic"===this.options.type&&e.contains(this.element[0],s))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,s=this.placeholder.offset(),r=this.options.axis,o={};r&&"x"!==r||(o.left=s.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(o.top=s.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&n.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},i.each(function(){n.push(e(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,s=n+this.helperProportions.height,r=e.left,o=r+e.width,a=e.top,l=a+e.height,h=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||n+h>a&&n+h<l,c="y"===this.options.axis||t+u>r&&t+u<o,p=d&&c;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:r<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<o&&a<n+this.helperProportions.height/2&&s-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),n=t&&i,s=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return!!n&&(this.floating?r&&"right"===r||"down"===s?2:1:s&&("down"===s?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),n=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?"right"===s&&i||"left"===s&&!i:n&&("down"===n&&t||"up"===n&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var i,n,s,r,o=[],a=[],l=this._connectWith();if(l&&t)for(i=l.length-1;i>=0;i--)for(n=(s=e(l[i],this.document[0])).length-1;n>=0;n--)(r=e.data(s[n],this.widgetFullName))&&r!==this&&!r.options.disabled&&a.push([e.isFunction(r.options.items)?r.options.items.call(r.element):e(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r]);function h(){o.push(this)}for(a.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=a.length-1;i>=0;i--)a[i][0].each(h);return e(o)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;i<t.length;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,n,s,r,o,a,l,h,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],c=this._connectWith();if(c&&this.ready)for(i=c.length-1;i>=0;i--)for(n=(s=e(c[i],this.document[0])).length-1;n>=0;n--)(r=e.data(s[n],this.widgetFullName))&&r!==this&&!r.options.disabled&&(d.push([e.isFunction(r.options.items)?r.options.items.call(r.element[0],t,{item:this.currentItem}):e(r.options.items,r.element),r]),this.containers.push(r));for(i=d.length-1;i>=0;i--)for(o=d[i][1],n=0,h=(a=d[i][0]).length;n<h;n++)(l=e(a[n])).data(this.widgetName+"-item",o),u.push({item:l,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var i,n,s,r;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),i=this.items.length-1;i>=0;i--)(n=this.items[i]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(s=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item,t||(n.width=s.outerWidth(),n.height=s.outerHeight()),r=s.offset(),n.left=r.left,n.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)r=this.containers[i].element.offset(),this.containers[i].containerCache.left=r.left,this.containers[i].containerCache.top=r.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){var i,n=(t=t||this).options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=t.currentItem[0].nodeName.toLowerCase(),s=e("<"+n+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===n?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(s)):"tr"===n?t._createTrPlaceholder(t.currentItem,s):"img"===n&&s.attr("src",t.currentItem.attr("src")),i||s.css("visibility","hidden"),s},update:function(e,s){i&&!n.forcePlaceholderSize||(s.height()||s.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),s.width()||s.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var n=this;t.children().each(function(){e("<td>&#160;</td>",n.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){var i,n,s,r,o,a,l,h,u,d,c=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(c&&e.contains(this.containers[i].element[0],c.element[0]))continue;c=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(c)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(s=1e4,r=null,o=(u=c.floating||this._isFloating(this.currentItem))?"left":"top",a=u?"width":"height",d=u?"clientX":"clientY",n=this.items.length-1;n>=0;n--)e.contains(this.containers[p].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[o],h=!1,t[d]-l>this.items[n][a]/2&&(h=!0),Math.abs(t[d]-l)<s&&(s=Math.abs(t[d]-l),r=this.items[n],this.direction=h?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));r?this._rearrange(t,r,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!i.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!i.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,s=this.options;"parent"===s.containment&&(s.containment=this.helper[0].parentNode),"document"!==s.containment&&"window"!==s.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===s.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===s.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(s.containment)||(t=e(s.containment)[0],i=e(s.containment).offset(),n="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:s.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:s.scrollLeft())*n}},_generatePosition:function(t){var i,n,s=this.options,r=t.pageX,o=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),s.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/s.grid[1])*s.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-s.grid[1]:i+s.grid[1]:i,n=this.originalPageX+Math.round((r-this.originalPageX)/s.grid[0])*s.grid[0],r=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-s.grid[0]:n+s.grid[0]:n)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var s=this.counter;this._delay(function(){s===this.counter&&this.refreshPositions(!n)})},_clear:function(e,t){this.reverting=!1;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();function s(e,t,i){return function(n){i._trigger(e,n,t._uiHash(t))}}for(this.fromOutside&&!t&&n.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||n.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(n.push(function(e){this._trigger("remove",e,this._uiHash())}),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||n.push(s("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(s("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(i=0;i<n.length;i++)n[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})}),Mautic.contactclientType=function(){if(void 0===window.contactclientTypeLoaded){window.contactclientTypeLoaded=!0,mQuery('input[name="contactclient[type]"]').change(function(){var e=mQuery('input[name="contactclient[type]"]:checked').val();"api"===e?(mQuery("#payload-tab").removeClass("hide"),mQuery(".row.api_payload").removeClass("hide"),mQuery(".row.file_payload").addClass("hide"),Mautic.contactclientApiPayload()):"file"===e?(mQuery("#payload-tab").removeClass("hide"),mQuery(".row.api_payload").addClass("hide"),mQuery(".row.file_payload").removeClass("hide"),Mautic.contactclientFilePayload()):mQuery("#payload-tab").addClass("hide")}).first().parent().parent().find("label.active input:first").trigger("change");var e="#details";mQuery(".contactclient-tab").click(function(){var t=mQuery(this).attr("href");t!==e&&("#payload"===(e=t)?(mQuery(".contactclient-left").addClass("col-md-12").removeClass("col-md-9"),mQuery(".contactclient-right").addClass("hide")):(mQuery(".contactclient-left").removeClass("col-md-12").addClass("col-md-9"),mQuery(".contactclient-right").removeClass("hide")))})}},Mautic.contactclientTypeChange=function(e){return setTimeout(function(){var t=mQuery(e).parent().parent();t.find("label.btn:not(.active)").addClass("btn-default").removeClass("btn-primary"),t.find("label.btn.btn-default.active").addClass("btn-primary").removeClass("btn-default")},50),!0},Mautic.contactclientSuccessDefinitionDefaultOps=["equal","not_equal","less","less_or_equal","greater","greater_or_equal","begins_with","not_begins_with","contains","not_contains","ends_with","not_ends_with","is_empty","is_not_empty"],Mautic.successDefinitionFiltersDefault=[{id:"status",label:"Status Code",type:"string",input:"select",values:{"1xx":"1xx: Informational",100:"100: Continue",101:"101: Switching Protocols","2xx":"2xx: Successful",200:"200: OK",201:"201: Created",202:"202: Accepted",203:"203: Non-Authoritative Information",204:"204: No Content",205:"205: Reset Content",206:"206: Partial Content","3xx":"3xx: Redirection",300:"300: Multiple Choices",301:"301: Moved Permanently",302:"302: Found",303:"303: See Other",304:"304: Not Modified",305:"305: Use Proxy",307:"307: Temporary Redirect","4xx":"4xx: Client Error",400:"400: Bad Request",401:"401: Unauthorized",402:"402: Payment Required",403:"403: Forbidden",404:"404: Not Found",405:"405: Method Not Allowed",406:"406: Not Acceptable",407:"407: Proxy Authentication Required",408:"408: Request Timeout",409:"409: Conflict",410:"410: Gone",411:"411: Length Required",412:"412: Precondition Failed",413:"413: Payload Too Large",414:"414: URI Too Long",415:"415: Unsupported Media Type",416:"416: Range Not Satisfiable",417:"417: Expectation Failed",418:"418: I'm a teapot",426:"426: Upgrade Required","5xx":"5xx: Server Error",500:"500: Internal Server Error",501:"501: Not Implemented",502:"502: Bad Gateway",503:"503: Service Unavailable",504:"504: Gateway Time-out",505:"505: HTTP Version Not Supported",102:"102: Processing",207:"207: Multi-Status",226:"226: IM Used",308:"308: Permanent Redirect",422:"422: Unprocessable Entity",423:"423: Locked",424:"424: Failed Dependency",428:"428: Precondition Required",429:"429: Too Many Requests",431:"431: Request Header Fields Too Large",451:"451: Unavailable For Legal Reasons",506:"506: Variant Also Negotiates",507:"507: Insufficient Storage",511:"511: Network Authentication Required","7xx":"7xx: Developer Error"},operators:["equal","not_equal"]},{id:"headersRaw",label:"Header Text (raw)",type:"string",operators:Mautic.contactclientSuccessDefinitionDefaultOps},{id:"bodyRaw",label:"Body Text (raw)",type:"string",operators:Mautic.contactclientSuccessDefinitionDefaultOps},{id:"bodySize",label:"Body Size",type:"integer",operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal"]}],JSONEditor.defaults.themes.custom=JSONEditor.defaults.themes.bootstrap3.extend({getRangeInput:function(e,t,i){var n=this._super(e,t,i);return n.className=n.className.replace("form-control",""),n},getButton:function(e,t,i){var n=this._super(e,t,i);return-1!==i.indexOf("Delete")?n.className=n.className.replace("btn-default","btn-sm btn-xs btn-danger"):-1!==i.indexOf("Add")?n.className=n.className.replace("btn-default","btn-md btn-primary"):n.className=n.className.replace("btn-default","btn-sm btn-xs btn-secondary"),n},getHeaderButtonHolder:function(){var e=this.getButtonHolder();return e.className="btn-group btn-group-sm btn-right",e},getButtonHolder:function(){var e=document.createElement("div");return e.className="btn-group btn-left",e},getHeader:function(e){var t=document.createElement("h3");return t.onclick=function(e){e.preventDefault(),e.stopPropagation();var t=mQuery(this).find("> div.btn-group > button.json-editor-btn-collapse:first:visible");if(t.length){var i=t[0];if(i){var n=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0});i.dispatchEvent(n)}}},t.style.cursor="pointer","string"==typeof e?t.textContent=e:t.appendChild(e),t}}),JSONEditor.defaults.iconlibs.custom=JSONEditor.AbstractIconLib.extend({mapping:{collapse:"caret-down",expand:"caret-right",delete:"times",edit:"pencil",add:"plus",cancel:"ban",save:"save",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"fa fa-"}),void 0!==Mautic.successDefinitionFiltersDefault&&(JSONEditor.defaults.editors.query=JSONEditor.defaults.editors.string.extend({postBuild:function(){var e=this,t={condition:"AND",rules:[{id:"status",operator:"equal",value:"200"}]};if(this.input.value)if("object"==typeof this.input.value)t=this.input.value;else{try{var i=mQuery.parseJSON(this.input.value)}catch(e){console.warn("Invalid JSON in success definition")}"object"==typeof i&&i.length>0&&(t=i)}mQuery("<div>",{id:"success-definition-"+this.parent.parent.parent.key,class:"query-builder"}).insertAfter(e.input).queryBuilder({plugins:{sortable:{icon:"fa fa-sort"},"bt-tooltip-errors":null},filters:Mautic.successDefinitionFiltersDefault,icons:{add_group:"fa fa-plus",add_rule:"fa fa-plus",remove_group:"fa fa-times",remove_rule:"fa fa-times",sort:"fa fa-sort",error:"fa fa-exclamation-triangle"},rules:t}).on("afterDeleteGroup.queryBuilder afterUpdateRuleFilter.queryBuilder afterAddRule.queryBuilder afterDeleteRule.queryBuilder afterUpdateRuleValue.queryBuilder afterUpdateRuleOperator.queryBuilder afterUpdateGroupCondition.queryBuilder",function(){var t=mQuery(this).queryBuilder("getRules",{get_flags:!0,skip_empty:!0,allow_invalid:!0});e.setValue(t)}).parent().find("textarea").addClass("hide")}})),JSONEditor.defaults.options.ajax=!1,JSONEditor.defaults.options.theme="custom",JSONEditor.defaults.options.iconlib="custom",JSONEditor.defaults.options.disable_edit_json=!0,JSONEditor.defaults.options.disable_properties=!0,JSONEditor.defaults.options.disable_array_delete_all_rows=!0,JSONEditor.defaults.options.disable_array_delete_last_row=!0,JSONEditor.defaults.options.required_by_default=!0,JSONEditor.defaults.options.expand_height=!0,JSONEditor.defaults.custom_validators.push(function(e,t,i){var n=[];if("datestring"===e.format&&(/^[0-9|yY]{4}-[0-9]{1,2}-[0-9]{1,2}$/.test(t)||/^[0-9]{1,2}-[0-9]{1,2}$/.test(t)||n.push({path:i,property:"format",message:"Dates should be in ISO format as YYYY-MM-DD or MM-DD for repeating dates"})),"select"===e.format&&mQuery("select[name='"+i.replace("root.","root[").split(".").join("][")+"]']:not(.chosen-checked)").each(function(){if(mQuery(this).children("option").length>8){var e=mQuery(this),t=!1;e.chosen({width:"100%",allow_single_deselect:!1,include_group_label_in_selected:!1,search_contains:!0}).change(function(i){if(t)t=!1;else if(i.stopPropagation(),i.preventDefault(),"createEvent"in document){t=!0;var n=document.createEvent("HTMLEvents");n.initEvent("change",!1,!0),e[0].dispatchEvent(n)}else e[0].fireEvent("onchange")})}}).addClass("chosen-checked"),"range"===e.format&&mQuery("input[type='range'][name='"+i.replace("root.","root[").split(".").join("][")+"]']:not(.slider-checked)").each(function(){var e=mQuery(this),t=parseInt(mQuery(this).attr("min")),i=parseInt(mQuery(this).attr("max")),n=parseInt(mQuery(this).attr("step")),s={min:t,max:i,value:parseInt(mQuery(this).val()),step:n},r=!1;0===t&&100===i&&(s.formatter=function(e){return e+"%"}),new Slider(mQuery(this)[0],s).on("change",function(t){if(r)r=!1;else if("createEvent"in document){var i=document.createEvent("HTMLEvents");i.initEvent("change",!1,!0),e[0].dispatchEvent(i)}else e[0].fireEvent("onchange")})}).addClass("slider-checked"),"string"===e.type&&void 0!==e.options&&void 0!==e.options.tokenSource&&e.options.tokenSource.length){void 0===window.JSONEditor.tokenCache&&(window.JSONEditor.tokenCache={}),mQuery("input[type='text'][name='"+i.replace("root.","root[").split(".").join("][")+"]']:first:not(.tokens-checked)").each(function(){var t,i=mQuery(this),n=e.options.tokenSource;void 0===window.JSONEditor.tokenCache[n]&&(window.JSONEditor.tokenCache[n]={},mQuery.ajax({url:mauticAjaxUrl,type:"POST",data:{action:e.options.tokenSource},cache:!0,dataType:"json",success:function(e){void 0!==e.tokens&&(console.log("tokens retrieved."),window.JSONEditor.tokenCache[n]=e.tokens)}})),t=n,i.tagEditor({placeholder:void 0!==e.options.tokenPlaceholder?e.options.tokenPlaceholder:null,autocomplete:{minLength:2,source:function(e,i){var n=[];if(void 0!==window.JSONEditor.tokenCache[t]){var s=new RegExp(e.term,"i");mQuery.each(window.JSONEditor.tokenCache[t],function(e,t){(s.test(e)||s.test(t))&&n.push({label:t,value:"{{"+e+"}}"})})}i(n)},delay:100},onChange:function(){},beforeTagSave:function(){},beforeTagDelete:function(){}})}).addClass("tokens-checked")}return n}),mQuery.widget("ui.autocomplete",mQuery.ui.autocomplete,{_renderMenu:function(e,t){var i=this;e.attr("class","nav nav-pills nav-stacked  bs-autocomplete-menu"),$.each(t,function(t,n){i._renderItemData(e,n)})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.min(e.width("").outerWidth()+1,this.element.outerWidth()))}}),Mautic.contactclientApiPayload=function(){var e=mQuery("#contactclient_api_payload");if(void 0===window.contactclientApiPayloadLoaded&&e.length){var t,i;function n(e){var t;if(e.length)try{"object"==typeof(t=mQuery.parseJSON(e))&&i.setValue(t)}catch(e){console.warn(e)}}window.contactclientApiPayloadLoaded=!0,mQuery.ajax({dataType:"json",cache:!0,url:mauticBasePath+"/"+mauticAssetPrefix+"plugins/MauticContactClientBundle/Assets/json/api_payload.json",success:function(t){var s=t,r=mQuery("<div>",{class:"contactclient_jsoneditor",id:"api_payload_jsoneditor"}).insertBefore(e);i=new JSONEditor(r[0],{schema:s}),n(e.val()),i.on("change",function(){var t=i.getValue();if("object"==typeof t){var n=JSON.stringify(t,null,"  ");if(n.length&&e.val(n),"object"==typeof t.operations)for(var s=0,r=t.operations.length;s<r;s++)if("object"==typeof t.operations[s].response){var o=[];if("object"==typeof t.operations[s].response.headers)for(var a=0,l=t.operations[s].response.headers.length;a<l;a++)void 0!==t.operations[s].response.headers[a].key&&t.operations[s].response.headers[a].key.length&&o.push({id:"headers."+t.operations[s].response.headers[a].key,label:"Header Field: "+t.operations[s].response.headers[a].key,type:"string",operators:Mautic.contactclientSuccessDefinitionDefaultOps});if("object"==typeof t.operations[s].response.body)for(var h=0,u=t.operations[s].response.body.length;h<u;h++)void 0!==t.operations[s].response.body[h].key&&t.operations[s].response.body[h].key.length&&o.push({id:"body."+t.operations[s].response.body[h].key,label:"Body Field: "+t.operations[s].response.body[h].key,type:"string",operators:Mautic.contactclientSuccessDefinitionDefaultOps});if(o.length){var d=mQuery("#success-definition-"+s);d.length&&d.queryBuilder("setFilters",!0,Mautic.successDefinitionFiltersDefault.concat(o))}}"function"==typeof Mautic.contactclientTokens&&Mautic.contactclientTokens()}})}});var s,r=mQuery("<div>",{id:"contactclient_api_payload_codemirror",class:"hide"}).insertBefore(e);e.css({display:"none"}),(t=CodeMirror(r[0],{value:e.val(),mode:{name:"javascript",json:!0},theme:"material",gutters:["CodeMirror-lint-markers"],lint:"json",lintOnChange:!0,matchBrackets:!0,autoCloseBrackets:!0,lineNumbers:!0,extraKeys:{"Ctrl-Space":"autocomplete"},lineWrapping:!0})).on("change",function(){var i=t.getValue();i.length&&e.val(i)}),mQuery(".btn#api_payload_advanced").click(function(){var n=e.val(),s=!1;if(mQuery(this).hasClass("active")){if(i){if(n.length)try{var o=mQuery.parseJSON(n);"object"==typeof o&&i.setValue(o)}catch(e){s=!0,console.warn(e)}s?mQuery(this).toggleClass("active"):(r.addClass("hide"),mQuery("#api_payload_jsoneditor").removeClass("hide"))}}else if(t){if(n.length)try{n!==t.getValue()&&t.setValue(n,-1)}catch(e){s=!0,console.warn("Error setting CodeMirror value.")}s?mQuery(this).toggleClass("active"):(r.removeClass("hide"),mQuery("#api_payload_jsoneditor").addClass("hide"),t.refresh())}}).parent().parent().removeClass("hide"),mQuery("#api_payload_test").click(function(){var t=mQuery(this),i=mQuery("#api_payload_test_result"),r=i.find("#api_payload_test_result_yaml");if(t.hasClass("active"));else{var o={action:"plugin:mauticContactClient:getApiPayloadTest",apiPayload:e.val()};i.addClass("hide"),r.addClass("hide"),mQuery.ajax({url:mauticAjaxUrl,type:"POST",data:o,dataType:"json",success:function(e){void 0!==e.html&&(i.removeClass("hide"),r.removeClass("hide"),""!==e.html&&(s?s.setValue(e.html,-1):s=CodeMirror(r[0],{value:e.html,mode:"yaml",theme:"material",gutters:[],lineNumbers:!1,lineWrapping:!0,readOnly:!0}),Mautic.onPageLoad("#api_payload_test_result",e))),void 0!==e.payload&&e.payload.length&&n(e.payload)},error:function(e,t,i){Mautic.processAjaxError(e,t,i)},complete:function(){Mautic.removeButtonLoadingIndicator(t),mQuery("html, body").stop().animate({scrollTop:i.first().offset().top},500),t.removeClass("active")}})}})}},Mautic.contactclientExclusive=function(){var e,t=mQuery("#contactclient_exclusive");void 0===window.contactclientExclusiveLoaded&&t.length&&(window.contactclientExclusiveLoaded=!0,mQuery.ajax({dataType:"json",cache:!0,url:mauticBasePath+"/"+mauticAssetPrefix+"plugins/MauticContactClientBundle/Assets/json/exclusive.json",success:function(i){var n=i,s=mQuery("<div>",{class:"contactclient_jsoneditor"}).insertBefore(t);e=new JSONEditor(s[0],{schema:n,disable_collapse:!0}),t.change(function(){var t,i=mQuery(this).val();if(i.length)try{"object"==typeof(t=mQuery.parseJSON(i))&&e.setValue(t)}catch(e){console.warn(e)}}).trigger("change"),e.on("change",function(){var i=e.getValue();if("object"==typeof i){var n=JSON.stringify(i,null,"  ");n.length&&t.val(n)}}),t.addClass("hide"),s.show()}}))},Mautic.contactclientFilePayload=function(){var e=mQuery("#contactclient_file_payload");void 0===window.contactclientFilePayloadLoaded&&e.length&&(window.contactclientFilePayloadLoaded=!0)},Mautic.contactclientFilter=function(){var e=mQuery("#contactclient_filter");void 0===window.contactclientFilterLoaded&&e.length&&(window.contactclientFilterLoaded=!0)},Mautic.contactclientLimits=function(){var e,t=mQuery("#contactclient_limits");void 0===window.contactclientLimitsLoaded&&t.length&&(window.contactclientLimitsLoaded=!0,mQuery.ajax({dataType:"json",cache:!0,url:mauticBasePath+"/"+mauticAssetPrefix+"plugins/MauticContactClientBundle/Assets/json/limits.json",success:function(i){var n=i,s=mQuery("<div>",{class:"contactclient_jsoneditor"}).insertBefore(t);e=new JSONEditor(s[0],{schema:n,disable_collapse:!0}),t.change(function(){var t,i=mQuery(this).val();if(i.length)try{"object"==typeof(t=mQuery.parseJSON(i))&&e.setValue(t)}catch(e){console.warn(e)}}).trigger("change"),e.on("change",function(){var i=e.getValue();if("object"==typeof i){var n=JSON.stringify(i,null,"  ");n.length&&t.val(n)}}),t.addClass("hide"),s.show()}}))},Mautic.contactclientSchedule=function(){var e=mQuery("#contactclient_schedule_hours_widget:first"),t=mQuery("#contactclient_schedule_hours:first");if(void 0===window.contactclientScheduleLoaded&&e.length&&t.length){window.contactclientScheduleLoaded=!0;var i=t.val();if(i.length)try{i=mQuery.parseJSON(i)}catch(e){console.warn("Invalid JSON")}"object"!=typeof i&&(i=[{isActive:!0,timeFrom:"00:00",timeTill:"23:59"},{isActive:!0,timeFrom:"00:00",timeTill:"23:59"},{isActive:!0,timeFrom:"00:00",timeTill:"23:59"},{isActive:!0,timeFrom:"00:00",timeTill:"23:59"},{isActive:!0,timeFrom:"00:00",timeTill:"23:59"},{isActive:!0,timeFrom:"00:00",timeTill:"23:59"},{isActive:!0,timeFrom:"00:00",timeTill:"23:59"},{isActive:!0,timeFrom:"00:00",timeTill:"23:59"}]);var n=e.businessHours({operationTime:i,checkedColorClass:"btn-success",uncheckedColorClass:"btn-danger",postInit:function(){mQuery(".operationTimeFrom, .operationTimeTill").timepicker({timeFormat:"H:i",step:function(e){return e<48?30:29}})},dayTmpl:'<div class="dayContainer"><div data-original-title="" class="colorBox"><input type="checkbox" class="invisible operationState"></div><div class="weekday"></div><div class="operationDayTimeContainer"><div class="operationTime input-group"><span class="input-group-addon"><i class="fa fa-sun-o"></i></span><input type="text" name="startTime" class="mini-time form-control operationTimeFrom" value=""></div><div class="operationTime input-group"><span class="input-group-addon"><i class="fa fa-moon-o"></i></span><input type="text" name="endTime" class="mini-time form-control operationTimeTill" value=""></div></div></div>'});t.addClass("hide"),mQuery("#contactclient_schedule_hours_widget .operationState, #contactclient_schedule_hours_widget input").change(function(){mQuery("#contactclient_schedule_hours").val(JSON.stringify(n.serialize()))})}var s,r=mQuery("#contactclient_schedule_exclusions:first");r.length&&mQuery.ajax({dataType:"json",cache:!0,url:mauticBasePath+"/"+mauticAssetPrefix+"plugins/MauticContactClientBundle/Assets/json/exclusions.json",success:function(e){var t=e,i=mQuery("<div>",{class:"contactclient_jsoneditor"}).insertBefore(r);s=new JSONEditor(i[0],{schema:t,disable_collapse:!0}),r.change(function(){var e,t=mQuery(this).val();if(t.length)try{"object"==typeof(e=mQuery.parseJSON(t))&&s.setValue(e)}catch(e){console.warn(e)}}).trigger("change"),s.on("change",function(){var e=s.getValue();if("object"==typeof e){var t=JSON.stringify(e,null,"  ");t.length&&r.val(t)}}),r.addClass("hide"),i.show()}})},Mautic.contactclientIntegration=function(){var e,t=mQuery("#campaignevent_properties_config_contactclient:first"),i=mQuery("#campaignevent_properties_config_contactclient_overrides:first");t.length&&i.length&&(t.change(function(){var e=parseInt(mQuery(this).val()),t=e?mQuery("#campaignevent_properties_config_contactclient > option[value="+e+"]:first"):[],n=t.length?t.attr("data-overridable-fields"):null;n?(mQuery("#campaignevent_properties_config_contactclient_overrides_button").removeClass("hide"),mQuery("label[for=campaignevent_properties_config_contactclient_overrides]:first, .contactclient_jsoneditor").addClass("hide")):(mQuery("#campaignevent_properties_config_contactclient_overrides_button").addClass("hide"),mQuery("label[for=campaignevent_properties_config_contactclient_overrides]:first, .contactclient_jsoneditor").addClass("hide")),i.val(n)}),0===i.val().length&&t.trigger("change"),mQuery.ajax({dataType:"json",cache:!0,url:mauticBasePath+"/"+mauticAssetPrefix+"plugins/MauticContactClientBundle/Assets/json/overrides.json",success:function(t){var n=t,s=mQuery("<div>",{class:"contactclient_jsoneditor"}).insertBefore(i);e=new JSONEditor(s[0],{schema:n,disable_array_add:!0,disable_array_delete:!0,disable_array_reorder:!0,disable_collapse:!0}),i.change(function(){var t,i=mQuery(this).val();if(i.length)try{"object"==typeof(t=mQuery.parseJSON(i))&&e.setValue(t)}catch(e){console.warn(e)}}).trigger("change"),e.on("change",function(){var t=e.getValue();if("object"==typeof t){var n=JSON.stringify(t,null,"  ");n.length&&i.val(n)}}),mQuery("#campaignevent_properties_config_contactclient_overrides_button").addClass("hide"),mQuery("label[for=campaignevent_properties_config_contactclient_overrides]").removeClass("hide")}}))},Mautic.contactclientTimelineOnLoad=function(e,t){if(void 0===window.contactclientTimelineLoaded){window.contactclientTimelineLoaded=!0;var i=function(e){if(!e.hasClass("codemirror-active")){var t=e.find("textarea.codeMirror-yaml");t.length&&CodeMirror.fromTextArea(t[0],{mode:"yaml",theme:"material",gutters:[],lineNumbers:!1,lineWrapping:!0,readOnly:!0}),e.addClass("codemirror-active")}};mQuery("#contactclient-timeline a[data-activate-details='all']").on("click",function(){mQuery(this).find("span").first().hasClass("fa-level-down")?(mQuery("#contactclient-timeline a[data-activate-details!='all']").each(function(){var e=mQuery(this).data("activate-details"),t=mQuery("#timeline-details-"+e);e&&t.length&&(t.removeClass("hide"),i(t),mQuery(this).addClass("active"))}),mQuery(this).find("span").first().removeClass("fa-level-down").addClass("fa-level-up")):(mQuery("#contactclient-timeline a[data-activate-details!='all']").each(function(){var e=mQuery(this).data("activate-details"),t=mQuery("#timeline-details-"+e);e&&t.length&&(t.addClass("hide"),mQuery(this).removeClass("active"))}),mQuery(this).find("span").first().removeClass("fa-level-up").addClass("fa-level-down"))}),mQuery("#contactclient-timeline a[data-activate-details!='all']").on("click",function(){var e=mQuery(this).data("activate-details");if(e&&mQuery("#timeline-details-"+e).length){var t=mQuery(this).hasClass("active"),n=mQuery("#timeline-details-"+e);t?(n.addClass("hide"),mQuery(this).removeClass("active")):(n.removeClass("hide"),i(n),mQuery(this).addClass("active"))}}),t&&void 0!==t.timelineCount&&mQuery("#TimelineCount").html(t.timelineCount)}},Mautic.contactclientAttribution=function(){var e=mQuery("#contactclient_attribution_settings:first");if(void 0===window.contactclientAttributionLoaded&&e.length){window.contactclientAttributionLoaded=!0;var t;mQuery.ajax({dataType:"json",cache:!0,url:mauticBasePath+"/"+mauticAssetPrefix+"plugins/MauticContactClientBundle/Assets/json/attribution.json",success:function(i){var n=i;n.properties.mode.oneOf[1].properties.key.enumSource=function(){var e,t={},i=mQuery("#contactclient_api_payload");if(i.length){var n=i.val();if(n.length)try{if("object"==typeof(e=mQuery.parseJSON(n))&&"object"==typeof e.operations)for(var s=0,r=e.operations.length;s<r;s++)if("object"==typeof e.operations[s].response){if("object"==typeof e.operations[s].response.headers)for(var o=0,a=e.operations[s].response.headers.length;o<a;o++)void 0!==e.operations[s].response.headers[o].key&&e.operations[s].response.headers[o].key.length&&(t[e.operations[s].response.headers[o].key]=e.operations[s].response.headers[o].example);if("object"==typeof e.operations[s].response.body)for(var l=0,h=e.operations[s].response.body.length;l<h;l++)void 0!==e.operations[s].response.body[l].key&&e.operations[s].response.body[l].key.length&&(t[e.operations[s].response.body[l].key]=e.operations[s].response.body[l].example)}}catch(e){console.warn(e)}}var u=Object.keys(t),d=[];u.sort();for(var c=0,p=u.length;c<p;c++)d[u[c]]=t[u[c]];t=d;var m,f=[];for(m in t)t.hasOwnProperty(m)&&(t[m].length?f.push({value:m,title:m+" ("+t[m]+")"}):f.push({value:m,title:m}));return[{source:f,title:"{{item.title}}",value:"{{item.value}}"}]}();var s=mQuery("<div>",{class:"contactclient_jsoneditor"}).insertBefore(e);t=new JSONEditor(s[0],{schema:n,disable_collapse:!0}),e.change(function(){var e,i=mQuery(this).val();if(i.length)try{"object"==typeof(e=mQuery.parseJSON(i))&&t.setValue(e)}catch(e){console.warn(e)}}).trigger("change"),t.on("change",function(){var i=t.getValue();if("object"==typeof i){var n=JSON.stringify(i,null,"  ");n.length&&e.val(n)}}),e.addClass("hide"),s.show(),mQuery("label[for=contactclient_attribution_settings]").addClass("hide")}})}},Mautic.contactclientDuplicate=function(){var e,t=mQuery("#contactclient_duplicate");void 0===window.contactclientDuplicateLoaded&&t.length&&(window.contactclientDuplicateLoaded=!0,mQuery.ajax({dataType:"json",cache:!0,url:mauticBasePath+"/"+mauticAssetPrefix+"plugins/MauticContactClientBundle/Assets/json/duplicate.json",success:function(i){var n=i,s=mQuery("<div>",{class:"contactclient_jsoneditor"}).insertBefore(t);e=new JSONEditor(s[0],{schema:n,disable_collapse:!0}),t.change(function(){var t,i=mQuery(this).val();if(i.length)try{"object"==typeof(t=mQuery.parseJSON(i))&&e.setValue(t)}catch(e){console.warn(e)}}).trigger("change"),e.on("change",function(){var i=e.getValue();if("object"==typeof i){var n=JSON.stringify(i,null,"  ");n.length&&t.val(n)}}),t.addClass("hide"),s.show()}}))},Mautic.contactclientOnLoad=function(){mQuery(document).ready(function(){if(mQuery('input[name="contactclient[type]"]').length)return Mautic.contactclientType(),Mautic.contactclientDuplicate(),Mautic.contactclientExclusive(),Mautic.contactclientFilter(),Mautic.contactclientLimits(),Mautic.contactclientSchedule(),void Mautic.contactclientAttribution();mQuery("#contactclient-timeline").length&&Mautic.contactclientTimelineOnLoad()})};
//# sourceMappingURL=contactclient.min.js.map